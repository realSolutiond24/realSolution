import{initializeApp as Xh}from"https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";import{getFirestore as Yh,doc as Ha,setDoc as OE,getDoc as gA,updateDoc as LE}from"https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js";import{getAuth as AA,signInWithPhoneNumber as yA,RecaptchaVerifier as vA}from"https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js";function ME(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function jE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _A={exports:{}},Ol={},EA={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Io=Symbol.for("react.element"),FE=Symbol.for("react.portal"),UE=Symbol.for("react.fragment"),BE=Symbol.for("react.strict_mode"),zE=Symbol.for("react.profiler"),WE=Symbol.for("react.provider"),GE=Symbol.for("react.context"),QE=Symbol.for("react.forward_ref"),HE=Symbol.for("react.suspense"),qE=Symbol.for("react.memo"),KE=Symbol.for("react.lazy"),Lp=Symbol.iterator;function JE(t){return t===null||typeof t!="object"?null:(t=Lp&&t[Lp]||t["@@iterator"],typeof t=="function"?t:null)}var wA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IA=Object.assign,TA={};function qi(t,e,n){this.props=t,this.context=e,this.refs=TA,this.updater=n||wA}qi.prototype.isReactComponent={};qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SA(){}SA.prototype=qi.prototype;function Zh(t,e,n){this.props=t,this.context=e,this.refs=TA,this.updater=n||wA}var $h=Zh.prototype=new SA;$h.constructor=Zh;IA($h,qi.prototype);$h.isPureReactComponent=!0;var Mp=Array.isArray,RA=Object.prototype.hasOwnProperty,ed={current:null},CA={key:!0,ref:!0,__self:!0,__source:!0};function xA(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RA.call(e,r)&&!CA.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Io,type:t,key:s,ref:o,props:i,_owner:ed.current}}function XE(t,e){return{$$typeof:Io,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function td(t){return typeof t=="object"&&t!==null&&t.$$typeof===Io}function YE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jp=/\/+/g;function Hu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YE(""+t.key):e.toString(36)}function Ta(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Io:case FE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hu(o,0):r,Mp(i)?(n="",t!=null&&(n=t.replace(jp,"$&/")+"/"),Ta(i,e,n,"",function(h){return h})):i!=null&&(td(i)&&(i=XE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Mp(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Hu(s,l);o+=Ta(s,e,n,u,i)}else if(u=JE(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Hu(s,l++),o+=Ta(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ta(t,e,n){if(t==null)return t;var r=[],i=0;return Ta(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var lt={current:null},Sa={transition:null},$E={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:ed};function kA(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:ta,forEach:function(t,e,n){ta(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ta(t,function(){e++}),e},toArray:function(t){return ta(t,function(e){return e})||[]},only:function(t){if(!td(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=qi;ee.Fragment=UE;ee.Profiler=zE;ee.PureComponent=Zh;ee.StrictMode=BE;ee.Suspense=HE;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$E;ee.act=kA;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IA({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ed.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)RA.call(e,u)&&!CA.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Io,type:t.type,key:i,ref:s,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:GE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WE,_context:t},t.Consumer=t};ee.createElement=xA;ee.createFactory=function(t){var e=xA.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:QE,render:t}};ee.isValidElement=td;ee.lazy=function(t){return{$$typeof:KE,_payload:{_status:-1,_result:t},_init:ZE}};ee.memo=function(t,e){return{$$typeof:qE,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Sa.transition;Sa.transition={};try{t()}finally{Sa.transition=e}};ee.unstable_act=kA;ee.useCallback=function(t,e){return lt.current.useCallback(t,e)};ee.useContext=function(t){return lt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return lt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return lt.current.useEffect(t,e)};ee.useId=function(){return lt.current.useId()};ee.useImperativeHandle=function(t,e,n){return lt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return lt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return lt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return lt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return lt.current.useReducer(t,e,n)};ee.useRef=function(t){return lt.current.useRef(t)};ee.useState=function(t){return lt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return lt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return lt.current.useTransition()};ee.version="18.3.1";EA.exports=ee;var L=EA.exports;const ew=jE(L),tw=ME({__proto__:null,default:ew},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=L,rw=Symbol.for("react.element"),iw=Symbol.for("react.fragment"),sw=Object.prototype.hasOwnProperty,ow=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aw={key:!0,ref:!0,__self:!0,__source:!0};function PA(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sw.call(e,r)&&!aw.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rw,type:t,key:s,ref:o,props:i,_owner:ow.current}}Ol.Fragment=iw;Ol.jsx=PA;Ol.jsxs=PA;_A.exports=Ol;var _=_A.exports,bA={exports:{}},St={},NA={exports:{}},DA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,J){var Z=z.length;z.push(J);e:for(;0<Z;){var Ae=Z-1>>>1,ue=z[Ae];if(0<i(ue,J))z[Ae]=J,z[Z]=ue,Z=Ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],Z=z.pop();if(Z!==J){z[0]=Z;e:for(var Ae=0,ue=z.length,Te=ue>>>1;Ae<Te;){var nn=2*(Ae+1)-1,rn=z[nn],sn=nn+1,on=z[sn];if(0>i(rn,Z))sn<ue&&0>i(on,rn)?(z[Ae]=on,z[sn]=Z,Ae=sn):(z[Ae]=rn,z[nn]=Z,Ae=nn);else if(sn<ue&&0>i(on,Z))z[Ae]=on,z[sn]=Z,Ae=sn;else break e}}return J}function i(z,J){var Z=z.sortIndex-J.sortIndex;return Z!==0?Z:z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,A=3,R=!1,k=!1,P=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(z){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=z)r(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(h)}}function V(z){if(P=!1,I(z),!k)if(n(u)!==null)k=!0,Dt(F);else{var J=n(h);J!==null&&tn(V,J.startTime-z)}}function F(z,J){k=!1,P&&(P=!1,v(y),y=-1),R=!0;var Z=A;try{for(I(J),p=n(u);p!==null&&(!(p.expirationTime>J)||z&&!C());){var Ae=p.callback;if(typeof Ae=="function"){p.callback=null,A=p.priorityLevel;var ue=Ae(p.expirationTime<=J);J=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&r(u),I(J)}else r(u);p=n(u)}if(p!==null)var Te=!0;else{var nn=n(h);nn!==null&&tn(V,nn.startTime-J),Te=!1}return Te}finally{p=null,A=Z,R=!1}}var D=!1,E=null,y=-1,w=5,T=-1;function C(){return!(t.unstable_now()-T<w)}function b(){if(E!==null){var z=t.unstable_now();T=z;var J=!0;try{J=E(!0,z)}finally{J?S():(D=!1,E=null)}}else D=!1}var S;if(typeof g=="function")S=function(){g(b)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,$=Qe.port2;Qe.port1.onmessage=b,S=function(){$.postMessage(null)}}else S=function(){x(b,0)};function Dt(z){E=z,D||(D=!0,S())}function tn(z,J){y=x(function(){z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){k||R||(k=!0,Dt(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(A){case 1:case 2:case 3:var J=3;break;default:J=A}var Z=A;A=J;try{return z()}finally{A=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Z=A;A=z;try{return J()}finally{A=Z}},t.unstable_scheduleCallback=function(z,J,Z){var Ae=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ae+Z:Ae):Z=Ae,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=Z+ue,z={id:f++,callback:J,priorityLevel:z,startTime:Z,expirationTime:ue,sortIndex:-1},Z>Ae?(z.sortIndex=Z,e(h,z),n(u)===null&&z===n(h)&&(P?(v(y),y=-1):P=!0,tn(V,Z-Ae))):(z.sortIndex=ue,e(u,z),k||R||(k=!0,Dt(F))),z},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(z){var J=A;return function(){var Z=A;A=J;try{return z.apply(this,arguments)}finally{A=Z}}}})(DA);NA.exports=DA;var lw=NA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=L,Tt=lw;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VA=new Set,Js={};function Hr(t,e){Pi(t,e),Pi(t+"Capture",e)}function Pi(t,e){for(Js[t]=e,t=0;t<e.length;t++)VA.add(e[t])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=Object.prototype.hasOwnProperty,cw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},Up={};function hw(t){return Nc.call(Up,t)?!0:Nc.call(Fp,t)?!1:cw.test(t)?Up[t]=!0:(Fp[t]=!0,!1)}function dw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fw(t,e,n,r){if(e===null||typeof e>"u"||dw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function rd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nd,rd);We[e]=new ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nd,rd);We[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nd,rd);We[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function id(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fw(e,n,i,r)&&(n=null),r||i===null?hw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kn=uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),ai=Symbol.for("react.portal"),li=Symbol.for("react.fragment"),sd=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),OA=Symbol.for("react.provider"),LA=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),Vc=Symbol.for("react.suspense"),Oc=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),MA=Symbol.for("react.offscreen"),Bp=Symbol.iterator;function vs(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,qu;function Cs(t){if(qu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qu=e&&e[1]||""}return`
`+qu+t}var Ku=!1;function Ju(t,e){if(!t||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cs(t):""}function pw(t){switch(t.tag){case 5:return Cs(t.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return t=Ju(t.type,!1),t;case 11:return t=Ju(t.type.render,!1),t;case 1:return t=Ju(t.type,!0),t;default:return""}}function Lc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case li:return"Fragment";case ai:return"Portal";case Dc:return"Profiler";case sd:return"StrictMode";case Vc:return"Suspense";case Oc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LA:return(t.displayName||"Context")+".Consumer";case OA:return(t._context.displayName||"Context")+".Provider";case od:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ad:return e=t.displayName||null,e!==null?e:Lc(t.type)||"Memo";case jn:e=t._payload,t=t._init;try{return Lc(t(e))}catch{}}return null}function mw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(e);case 8:return e===sd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ur(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gw(t){var e=jA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ra(t){t._valueTracker||(t._valueTracker=gw(t))}function FA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mc(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ur(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UA(t,e){e=e.checked,e!=null&&id(t,"checked",e,!1)}function jc(t,e){UA(t,e);var n=ur(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fc(t,e.type,ur(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fc(t,e,n){(e!=="number"||qa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xs=Array.isArray;function _i(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ur(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Uc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(xs(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ur(n)}}function BA(t,e){var n=ur(e.value),r=ur(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ia,WA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ia.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Aw=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(t){Aw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Os[e]=Os[t]})});function GA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Os.hasOwnProperty(t)&&Os[t]?(""+e).trim():e+"px"}function QA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=GA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yw=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zc(t,e){if(e){if(yw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Wc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=null;function ld(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,Ei=null,wi=null;function Hp(t){if(t=Ro(t)){if(typeof Qc!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ul(e),Qc(t.stateNode,t.type,e))}}function HA(t){Ei?wi?wi.push(t):wi=[t]:Ei=t}function qA(){if(Ei){var t=Ei,e=wi;if(wi=Ei=null,Hp(t),e)for(t=0;t<e.length;t++)Hp(e[t])}}function KA(t,e){return t(e)}function JA(){}var Xu=!1;function XA(t,e,n){if(Xu)return t(e,n);Xu=!0;try{return KA(t,e,n)}finally{Xu=!1,(Ei!==null||wi!==null)&&(JA(),qA())}}function Ys(t,e){var n=t.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Hc=!1;if(_n)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Hc=!1}function vw(t,e,n,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Ls=!1,Ka=null,Ja=!1,qc=null,_w={onError:function(t){Ls=!0,Ka=t}};function Ew(t,e,n,r,i,s,o,l,u){Ls=!1,Ka=null,vw.apply(_w,arguments)}function ww(t,e,n,r,i,s,o,l,u){if(Ew.apply(this,arguments),Ls){if(Ls){var h=Ka;Ls=!1,Ka=null}else throw Error(U(198));Ja||(Ja=!0,qc=h)}}function qr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qp(t){if(qr(t)!==t)throw Error(U(188))}function Iw(t){var e=t.alternate;if(!e){if(e=qr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qp(i),t;if(s===r)return qp(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function ZA(t){return t=Iw(t),t!==null?$A(t):null}function $A(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$A(t);if(e!==null)return e;t=t.sibling}return null}var ey=Tt.unstable_scheduleCallback,Kp=Tt.unstable_cancelCallback,Tw=Tt.unstable_shouldYield,Sw=Tt.unstable_requestPaint,Re=Tt.unstable_now,Rw=Tt.unstable_getCurrentPriorityLevel,ud=Tt.unstable_ImmediatePriority,ty=Tt.unstable_UserBlockingPriority,Xa=Tt.unstable_NormalPriority,Cw=Tt.unstable_LowPriority,ny=Tt.unstable_IdlePriority,Ll=null,Ht=null;function xw(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:bw,kw=Math.log,Pw=Math.LN2;function bw(t){return t>>>=0,t===0?32:31-(kw(t)/Pw|0)|0}var sa=64,oa=4194304;function ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ya(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ks(l):(s&=o,s!==0&&(r=ks(s)))}else o=n&~i,o!==0?r=ks(o):s!==0&&(r=ks(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),i=1<<n,r|=t[n],e&=~i;return r}function Nw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ut(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=Nw(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Kc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ry(){var t=sa;return sa<<=1,!(sa&4194240)&&(sa=64),t}function Yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function To(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function Vw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ut(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function cd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var le=0;function iy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sy,hd,oy,ay,ly,Jc=!1,aa=[],Yn=null,Zn=null,$n=null,Zs=new Map,$s=new Map,Un=[],Ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(t,e){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Zs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function Es(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ro(e),e!==null&&hd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lw(t,e,n,r,i){switch(e){case"focusin":return Yn=Es(Yn,t,e,n,r,i),!0;case"dragenter":return Zn=Es(Zn,t,e,n,r,i),!0;case"mouseover":return $n=Es($n,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zs.set(s,Es(Zs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$s.set(s,Es($s.get(s)||null,t,e,n,r,i)),!0}return!1}function uy(t){var e=Cr(t.target);if(e!==null){var n=qr(e);if(n!==null){if(e=n.tag,e===13){if(e=YA(n),e!==null){t.blockedOn=e,ly(t.priority,function(){oy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ra(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gc=r,n.target.dispatchEvent(r),Gc=null}else return e=Ro(n),e!==null&&hd(e),t.blockedOn=n,!1;e.shift()}return!0}function Xp(t,e,n){Ra(t)&&n.delete(e)}function Mw(){Jc=!1,Yn!==null&&Ra(Yn)&&(Yn=null),Zn!==null&&Ra(Zn)&&(Zn=null),$n!==null&&Ra($n)&&($n=null),Zs.forEach(Xp),$s.forEach(Xp)}function ws(t,e){t.blockedOn===e&&(t.blockedOn=null,Jc||(Jc=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Mw)))}function eo(t){function e(i){return ws(i,t)}if(0<aa.length){ws(aa[0],t);for(var n=1;n<aa.length;n++){var r=aa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yn!==null&&ws(Yn,t),Zn!==null&&ws(Zn,t),$n!==null&&ws($n,t),Zs.forEach(e),$s.forEach(e),n=0;n<Un.length;n++)r=Un[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Un.length&&(n=Un[0],n.blockedOn===null);)uy(n),n.blockedOn===null&&Un.shift()}var Ii=kn.ReactCurrentBatchConfig,Za=!0;function jw(t,e,n,r){var i=le,s=Ii.transition;Ii.transition=null;try{le=1,dd(t,e,n,r)}finally{le=i,Ii.transition=s}}function Fw(t,e,n,r){var i=le,s=Ii.transition;Ii.transition=null;try{le=4,dd(t,e,n,r)}finally{le=i,Ii.transition=s}}function dd(t,e,n,r){if(Za){var i=Xc(t,e,n,r);if(i===null)ac(t,e,r,$a,n),Jp(t,r);else if(Lw(i,t,e,n,r))r.stopPropagation();else if(Jp(t,r),e&4&&-1<Ow.indexOf(t)){for(;i!==null;){var s=Ro(i);if(s!==null&&sy(s),s=Xc(t,e,n,r),s===null&&ac(t,e,r,$a,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ac(t,e,r,null,n)}}var $a=null;function Xc(t,e,n,r){if($a=null,t=ld(r),t=Cr(t),t!==null)if(e=qr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $a=t,null}function cy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rw()){case ud:return 1;case ty:return 4;case Xa:case Cw:return 16;case ny:return 536870912;default:return 16}default:return 16}}var Hn=null,fd=null,Ca=null;function hy(){if(Ca)return Ca;var t,e=fd,n=e.length,r,i="value"in Hn?Hn.value:Hn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ca=i.slice(t,1<r?1-r:void 0)}function xa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function la(){return!0}function Yp(){return!1}function Rt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?la:Yp,this.isPropagationStopped=Yp,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),e}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=Rt(Ki),So=_e({},Ki,{view:0,detail:0}),Uw=Rt(So),Zu,$u,Is,Ml=_e({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:md,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(Zu=t.screenX-Is.screenX,$u=t.screenY-Is.screenY):$u=Zu=0,Is=t),Zu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),Zp=Rt(Ml),Bw=_e({},Ml,{dataTransfer:0}),zw=Rt(Bw),Ww=_e({},So,{relatedTarget:0}),ec=Rt(Ww),Gw=_e({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Qw=Rt(Gw),Hw=_e({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qw=Rt(Hw),Kw=_e({},Ki,{data:0}),$p=Rt(Kw),Jw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yw[t])?!!e[t]:!1}function md(){return Zw}var $w=_e({},So,{key:function(t){if(t.key){var e=Jw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:md,charCode:function(t){return t.type==="keypress"?xa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eI=Rt($w),tI=_e({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=Rt(tI),nI=_e({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:md}),rI=Rt(nI),iI=_e({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),sI=Rt(iI),oI=_e({},Ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aI=Rt(oI),lI=[9,13,27,32],gd=_n&&"CompositionEvent"in window,Ms=null;_n&&"documentMode"in document&&(Ms=document.documentMode);var uI=_n&&"TextEvent"in window&&!Ms,dy=_n&&(!gd||Ms&&8<Ms&&11>=Ms),tm=" ",nm=!1;function fy(t,e){switch(t){case"keyup":return lI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function cI(t,e){switch(t){case"compositionend":return py(e);case"keypress":return e.which!==32?null:(nm=!0,tm);case"textInput":return t=e.data,t===tm&&nm?null:t;default:return null}}function hI(t,e){if(ui)return t==="compositionend"||!gd&&fy(t,e)?(t=hy(),Ca=fd=Hn=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dy&&e.locale!=="ko"?null:e.data;default:return null}}var dI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dI[t.type]:e==="textarea"}function my(t,e,n,r){HA(r),e=el(e,"onChange"),0<e.length&&(n=new pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var js=null,to=null;function fI(t){Ry(t,0)}function jl(t){var e=di(t);if(FA(e))return t}function pI(t,e){if(t==="change")return e}var gy=!1;if(_n){var tc;if(_n){var nc="oninput"in document;if(!nc){var im=document.createElement("div");im.setAttribute("oninput","return;"),nc=typeof im.oninput=="function"}tc=nc}else tc=!1;gy=tc&&(!document.documentMode||9<document.documentMode)}function sm(){js&&(js.detachEvent("onpropertychange",Ay),to=js=null)}function Ay(t){if(t.propertyName==="value"&&jl(to)){var e=[];my(e,to,t,ld(t)),XA(fI,e)}}function mI(t,e,n){t==="focusin"?(sm(),js=e,to=n,js.attachEvent("onpropertychange",Ay)):t==="focusout"&&sm()}function gI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jl(to)}function AI(t,e){if(t==="click")return jl(e)}function yI(t,e){if(t==="input"||t==="change")return jl(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zt=typeof Object.is=="function"?Object.is:vI;function no(t,e){if(zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nc.call(e,i)||!zt(t[i],e[i]))return!1}return!0}function om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function am(t,e){var n=om(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=om(n)}}function yy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vy(){for(var t=window,e=qa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qa(t.document)}return e}function Ad(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _I(t){var e=vy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yy(n.ownerDocument.documentElement,n)){if(r!==null&&Ad(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=am(n,s);var o=am(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EI=_n&&"documentMode"in document&&11>=document.documentMode,ci=null,Yc=null,Fs=null,Zc=!1;function lm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zc||ci==null||ci!==qa(r)||(r=ci,"selectionStart"in r&&Ad(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fs&&no(Fs,r)||(Fs=r,r=el(Yc,"onSelect"),0<r.length&&(e=new pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ci)))}function ua(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hi={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionend:ua("Transition","TransitionEnd")},rc={},_y={};_n&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Fl(t){if(rc[t])return rc[t];if(!hi[t])return t;var e=hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _y)return rc[t]=e[n];return t}var Ey=Fl("animationend"),wy=Fl("animationiteration"),Iy=Fl("animationstart"),Ty=Fl("transitionend"),Sy=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gr(t,e){Sy.set(t,e),Hr(e,[t])}for(var ic=0;ic<um.length;ic++){var sc=um[ic],wI=sc.toLowerCase(),II=sc[0].toUpperCase()+sc.slice(1);gr(wI,"on"+II)}gr(Ey,"onAnimationEnd");gr(wy,"onAnimationIteration");gr(Iy,"onAnimationStart");gr("dblclick","onDoubleClick");gr("focusin","onFocus");gr("focusout","onBlur");gr(Ty,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function cm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ww(r,e,void 0,t),t.currentTarget=null}function Ry(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;cm(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;cm(i,l,h),s=u}}}if(Ja)throw t=qc,Ja=!1,qc=null,t}function fe(t,e){var n=e[rh];n===void 0&&(n=e[rh]=new Set);var r=t+"__bubble";n.has(r)||(Cy(e,t,2,!1),n.add(r))}function oc(t,e,n){var r=0;e&&(r|=4),Cy(n,t,r,e)}var ca="_reactListening"+Math.random().toString(36).slice(2);function ro(t){if(!t[ca]){t[ca]=!0,VA.forEach(function(n){n!=="selectionchange"&&(TI.has(n)||oc(n,!1,t),oc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ca]||(e[ca]=!0,oc("selectionchange",!1,e))}}function Cy(t,e,n,r){switch(cy(e)){case 1:var i=jw;break;case 4:i=Fw;break;default:i=dd}n=i.bind(null,e,n,t),i=void 0,!Hc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ac(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Cr(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}XA(function(){var h=s,f=ld(n),p=[];e:{var A=Sy.get(t);if(A!==void 0){var R=pd,k=t;switch(t){case"keypress":if(xa(n)===0)break e;case"keydown":case"keyup":R=eI;break;case"focusin":k="focus",R=ec;break;case"focusout":k="blur",R=ec;break;case"beforeblur":case"afterblur":R=ec;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=rI;break;case Ey:case wy:case Iy:R=Qw;break;case Ty:R=sI;break;case"scroll":R=Uw;break;case"wheel":R=aI;break;case"copy":case"cut":case"paste":R=qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=em}var P=(e&4)!==0,x=!P&&t==="scroll",v=P?A!==null?A+"Capture":null:A;P=[];for(var g=h,I;g!==null;){I=g;var V=I.stateNode;if(I.tag===5&&V!==null&&(I=V,v!==null&&(V=Ys(g,v),V!=null&&P.push(io(g,V,I)))),x)break;g=g.return}0<P.length&&(A=new R(A,k,null,n,f),p.push({event:A,listeners:P}))}}if(!(e&7)){e:{if(A=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",A&&n!==Gc&&(k=n.relatedTarget||n.fromElement)&&(Cr(k)||k[En]))break e;if((R||A)&&(A=f.window===f?f:(A=f.ownerDocument)?A.defaultView||A.parentWindow:window,R?(k=n.relatedTarget||n.toElement,R=h,k=k?Cr(k):null,k!==null&&(x=qr(k),k!==x||k.tag!==5&&k.tag!==6)&&(k=null)):(R=null,k=h),R!==k)){if(P=Zp,V="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(P=em,V="onPointerLeave",v="onPointerEnter",g="pointer"),x=R==null?A:di(R),I=k==null?A:di(k),A=new P(V,g+"leave",R,n,f),A.target=x,A.relatedTarget=I,V=null,Cr(f)===h&&(P=new P(v,g+"enter",k,n,f),P.target=I,P.relatedTarget=x,V=P),x=V,R&&k)t:{for(P=R,v=k,g=0,I=P;I;I=ni(I))g++;for(I=0,V=v;V;V=ni(V))I++;for(;0<g-I;)P=ni(P),g--;for(;0<I-g;)v=ni(v),I--;for(;g--;){if(P===v||v!==null&&P===v.alternate)break t;P=ni(P),v=ni(v)}P=null}else P=null;R!==null&&hm(p,A,R,P,!1),k!==null&&x!==null&&hm(p,x,k,P,!0)}}e:{if(A=h?di(h):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var F=pI;else if(rm(A))if(gy)F=yI;else{F=gI;var D=mI}else(R=A.nodeName)&&R.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(F=AI);if(F&&(F=F(t,h))){my(p,F,n,f);break e}D&&D(t,A,h),t==="focusout"&&(D=A._wrapperState)&&D.controlled&&A.type==="number"&&Fc(A,"number",A.value)}switch(D=h?di(h):window,t){case"focusin":(rm(D)||D.contentEditable==="true")&&(ci=D,Yc=h,Fs=null);break;case"focusout":Fs=Yc=ci=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,lm(p,n,f);break;case"selectionchange":if(EI)break;case"keydown":case"keyup":lm(p,n,f)}var E;if(gd)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ui?fy(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(dy&&n.locale!=="ko"&&(ui||y!=="onCompositionStart"?y==="onCompositionEnd"&&ui&&(E=hy()):(Hn=f,fd="value"in Hn?Hn.value:Hn.textContent,ui=!0)),D=el(h,y),0<D.length&&(y=new $p(y,t,null,n,f),p.push({event:y,listeners:D}),E?y.data=E:(E=py(n),E!==null&&(y.data=E)))),(E=uI?cI(t,n):hI(t,n))&&(h=el(h,"onBeforeInput"),0<h.length&&(f=new $p("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:h}),f.data=E))}Ry(p,e)})}function io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function el(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ys(t,n),s!=null&&r.unshift(io(t,s,i)),s=Ys(t,e),s!=null&&r.push(io(t,s,i))),t=t.return}return r}function ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Ys(n,s),u!=null&&o.unshift(io(n,u,l))):i||(u=Ys(n,s),u!=null&&o.push(io(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SI=/\r\n?/g,RI=/\u0000|\uFFFD/g;function dm(t){return(typeof t=="string"?t:""+t).replace(SI,`
`).replace(RI,"")}function ha(t,e,n){if(e=dm(e),dm(t)!==e&&n)throw Error(U(425))}function tl(){}var $c=null,eh=null;function th(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nh=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0,fm=typeof Promise=="function"?Promise:void 0,xI=typeof queueMicrotask=="function"?queueMicrotask:typeof fm<"u"?function(t){return fm.resolve(null).then(t).catch(kI)}:nh;function kI(t){setTimeout(function(){throw t})}function lc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eo(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ji,so="__reactProps$"+Ji,En="__reactContainer$"+Ji,rh="__reactEvents$"+Ji,PI="__reactListeners$"+Ji,bI="__reactHandles$"+Ji;function Cr(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pm(t);t!==null;){if(n=t[Qt])return n;t=pm(t)}return e}t=n,n=t.parentNode}return null}function Ro(t){return t=t[Qt]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ul(t){return t[so]||null}var ih=[],fi=-1;function Ar(t){return{current:t}}function pe(t){0>fi||(t.current=ih[fi],ih[fi]=null,fi--)}function he(t,e){fi++,ih[fi]=t.current,t.current=e}var cr={},tt=Ar(cr),pt=Ar(!1),Lr=cr;function bi(t,e){var n=t.type.contextTypes;if(!n)return cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mt(t){return t=t.childContextTypes,t!=null}function nl(){pe(pt),pe(tt)}function mm(t,e,n){if(tt.current!==cr)throw Error(U(168));he(tt,e),he(pt,n)}function xy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,mw(t)||"Unknown",i));return _e({},n,r)}function rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,Lr=tt.current,he(tt,t),he(pt,pt.current),!0}function gm(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=xy(t,e,Lr),r.__reactInternalMemoizedMergedChildContext=t,pe(pt),pe(tt),he(tt,t)):pe(pt),he(pt,n)}var cn=null,Bl=!1,uc=!1;function ky(t){cn===null?cn=[t]:cn.push(t)}function NI(t){Bl=!0,ky(t)}function yr(){if(!uc&&cn!==null){uc=!0;var t=0,e=le;try{var n=cn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cn=null,Bl=!1}catch(i){throw cn!==null&&(cn=cn.slice(t+1)),ey(ud,yr),i}finally{le=e,uc=!1}}return null}var pi=[],mi=0,il=null,sl=0,Ct=[],xt=0,Mr=null,hn=1,dn="";function Tr(t,e){pi[mi++]=sl,pi[mi++]=il,il=t,sl=e}function Py(t,e,n){Ct[xt++]=hn,Ct[xt++]=dn,Ct[xt++]=Mr,Mr=t;var r=hn;t=dn;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var s=32-Ut(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hn=1<<32-Ut(e)+i|n<<i|r,dn=s+t}else hn=1<<s|n<<i|r,dn=t}function yd(t){t.return!==null&&(Tr(t,1),Py(t,1,0))}function vd(t){for(;t===il;)il=pi[--mi],pi[mi]=null,sl=pi[--mi],pi[mi]=null;for(;t===Mr;)Mr=Ct[--xt],Ct[xt]=null,dn=Ct[--xt],Ct[xt]=null,hn=Ct[--xt],Ct[xt]=null}var wt=null,Et=null,me=!1,jt=null;function by(t,e){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Am(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wt=t,Et=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wt=t,Et=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mr!==null?{id:hn,overflow:dn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wt=t,Et=null,!0):!1;default:return!1}}function sh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oh(t){if(me){var e=Et;if(e){var n=e;if(!Am(t,e)){if(sh(t))throw Error(U(418));e=er(n.nextSibling);var r=wt;e&&Am(t,e)?by(r,n):(t.flags=t.flags&-4097|2,me=!1,wt=t)}}else{if(sh(t))throw Error(U(418));t.flags=t.flags&-4097|2,me=!1,wt=t}}}function ym(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wt=t}function da(t){if(t!==wt)return!1;if(!me)return ym(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!th(t.type,t.memoizedProps)),e&&(e=Et)){if(sh(t))throw Ny(),Error(U(418));for(;e;)by(t,e),e=er(e.nextSibling)}if(ym(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Et=er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Et=null}}else Et=wt?er(t.stateNode.nextSibling):null;return!0}function Ny(){for(var t=Et;t;)t=er(t.nextSibling)}function Ni(){Et=wt=null,me=!1}function _d(t){jt===null?jt=[t]:jt.push(t)}var DI=kn.ReactCurrentBatchConfig;function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function fa(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vm(t){var e=t._init;return e(t._payload)}function Dy(t){function e(v,g){if(t){var I=v.deletions;I===null?(v.deletions=[g],v.flags|=16):I.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=ir(v,g),v.index=0,v.sibling=null,v}function s(v,g,I){return v.index=I,t?(I=v.alternate,I!==null?(I=I.index,I<g?(v.flags|=2,g):I):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,g,I,V){return g===null||g.tag!==6?(g=gc(I,v.mode,V),g.return=v,g):(g=i(g,I),g.return=v,g)}function u(v,g,I,V){var F=I.type;return F===li?f(v,g,I.props.children,V,I.key):g!==null&&(g.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===jn&&vm(F)===g.type)?(V=i(g,I.props),V.ref=Ts(v,g,I),V.return=v,V):(V=Oa(I.type,I.key,I.props,null,v.mode,V),V.ref=Ts(v,g,I),V.return=v,V)}function h(v,g,I,V){return g===null||g.tag!==4||g.stateNode.containerInfo!==I.containerInfo||g.stateNode.implementation!==I.implementation?(g=Ac(I,v.mode,V),g.return=v,g):(g=i(g,I.children||[]),g.return=v,g)}function f(v,g,I,V,F){return g===null||g.tag!==7?(g=Nr(I,v.mode,V,F),g.return=v,g):(g=i(g,I),g.return=v,g)}function p(v,g,I){if(typeof g=="string"&&g!==""||typeof g=="number")return g=gc(""+g,v.mode,I),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case na:return I=Oa(g.type,g.key,g.props,null,v.mode,I),I.ref=Ts(v,null,g),I.return=v,I;case ai:return g=Ac(g,v.mode,I),g.return=v,g;case jn:var V=g._init;return p(v,V(g._payload),I)}if(xs(g)||vs(g))return g=Nr(g,v.mode,I,null),g.return=v,g;fa(v,g)}return null}function A(v,g,I,V){var F=g!==null?g.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return F!==null?null:l(v,g,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case na:return I.key===F?u(v,g,I,V):null;case ai:return I.key===F?h(v,g,I,V):null;case jn:return F=I._init,A(v,g,F(I._payload),V)}if(xs(I)||vs(I))return F!==null?null:f(v,g,I,V,null);fa(v,I)}return null}function R(v,g,I,V,F){if(typeof V=="string"&&V!==""||typeof V=="number")return v=v.get(I)||null,l(g,v,""+V,F);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case na:return v=v.get(V.key===null?I:V.key)||null,u(g,v,V,F);case ai:return v=v.get(V.key===null?I:V.key)||null,h(g,v,V,F);case jn:var D=V._init;return R(v,g,I,D(V._payload),F)}if(xs(V)||vs(V))return v=v.get(I)||null,f(g,v,V,F,null);fa(g,V)}return null}function k(v,g,I,V){for(var F=null,D=null,E=g,y=g=0,w=null;E!==null&&y<I.length;y++){E.index>y?(w=E,E=null):w=E.sibling;var T=A(v,E,I[y],V);if(T===null){E===null&&(E=w);break}t&&E&&T.alternate===null&&e(v,E),g=s(T,g,y),D===null?F=T:D.sibling=T,D=T,E=w}if(y===I.length)return n(v,E),me&&Tr(v,y),F;if(E===null){for(;y<I.length;y++)E=p(v,I[y],V),E!==null&&(g=s(E,g,y),D===null?F=E:D.sibling=E,D=E);return me&&Tr(v,y),F}for(E=r(v,E);y<I.length;y++)w=R(E,v,y,I[y],V),w!==null&&(t&&w.alternate!==null&&E.delete(w.key===null?y:w.key),g=s(w,g,y),D===null?F=w:D.sibling=w,D=w);return t&&E.forEach(function(C){return e(v,C)}),me&&Tr(v,y),F}function P(v,g,I,V){var F=vs(I);if(typeof F!="function")throw Error(U(150));if(I=F.call(I),I==null)throw Error(U(151));for(var D=F=null,E=g,y=g=0,w=null,T=I.next();E!==null&&!T.done;y++,T=I.next()){E.index>y?(w=E,E=null):w=E.sibling;var C=A(v,E,T.value,V);if(C===null){E===null&&(E=w);break}t&&E&&C.alternate===null&&e(v,E),g=s(C,g,y),D===null?F=C:D.sibling=C,D=C,E=w}if(T.done)return n(v,E),me&&Tr(v,y),F;if(E===null){for(;!T.done;y++,T=I.next())T=p(v,T.value,V),T!==null&&(g=s(T,g,y),D===null?F=T:D.sibling=T,D=T);return me&&Tr(v,y),F}for(E=r(v,E);!T.done;y++,T=I.next())T=R(E,v,y,T.value,V),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?y:T.key),g=s(T,g,y),D===null?F=T:D.sibling=T,D=T);return t&&E.forEach(function(b){return e(v,b)}),me&&Tr(v,y),F}function x(v,g,I,V){if(typeof I=="object"&&I!==null&&I.type===li&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case na:e:{for(var F=I.key,D=g;D!==null;){if(D.key===F){if(F=I.type,F===li){if(D.tag===7){n(v,D.sibling),g=i(D,I.props.children),g.return=v,v=g;break e}}else if(D.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===jn&&vm(F)===D.type){n(v,D.sibling),g=i(D,I.props),g.ref=Ts(v,D,I),g.return=v,v=g;break e}n(v,D);break}else e(v,D);D=D.sibling}I.type===li?(g=Nr(I.props.children,v.mode,V,I.key),g.return=v,v=g):(V=Oa(I.type,I.key,I.props,null,v.mode,V),V.ref=Ts(v,g,I),V.return=v,v=V)}return o(v);case ai:e:{for(D=I.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===I.containerInfo&&g.stateNode.implementation===I.implementation){n(v,g.sibling),g=i(g,I.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=Ac(I,v.mode,V),g.return=v,v=g}return o(v);case jn:return D=I._init,x(v,g,D(I._payload),V)}if(xs(I))return k(v,g,I,V);if(vs(I))return P(v,g,I,V);fa(v,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,g!==null&&g.tag===6?(n(v,g.sibling),g=i(g,I),g.return=v,v=g):(n(v,g),g=gc(I,v.mode,V),g.return=v,v=g),o(v)):n(v,g)}return x}var Di=Dy(!0),Vy=Dy(!1),ol=Ar(null),al=null,gi=null,Ed=null;function wd(){Ed=gi=al=null}function Id(t){var e=ol.current;pe(ol),t._currentValue=e}function ah(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ti(t,e){al=t,Ed=gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ft=!0),t.firstContext=null)}function bt(t){var e=t._currentValue;if(Ed!==t)if(t={context:t,memoizedValue:e,next:null},gi===null){if(al===null)throw Error(U(308));gi=t,al.dependencies={lanes:0,firstContext:t}}else gi=gi.next=t;return e}var xr=null;function Td(t){xr===null?xr=[t]:xr.push(t)}function Oy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Td(e)):(n.next=i.next,i.next=n),e.interleaved=n,wn(t,r)}function wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fn=!1;function Sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wn(t,n)}return i=r.interleaved,i===null?(e.next=e,Td(r)):(e.next=i.next,i.next=e),r.interleaved=e,wn(t,n)}function ka(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cd(t,n)}}function _m(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ll(t,e,n,r){var i=t.updateQueue;Fn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,f=h=u=null,l=s;do{var A=l.lane,R=l.eventTime;if((r&A)===A){f!==null&&(f=f.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,P=l;switch(A=e,R=n,P.tag){case 1:if(k=P.payload,typeof k=="function"){p=k.call(R,p,A);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=P.payload,A=typeof k=="function"?k.call(R,p,A):k,A==null)break e;p=_e({},p,A);break e;case 2:Fn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,A=i.effects,A===null?i.effects=[l]:A.push(l))}else R={eventTime:R,lane:A,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=R,u=p):f=f.next=R,o|=A;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;A=l,l=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fr|=o,t.lanes=o,t.memoizedState=p}}function Em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Co={},qt=Ar(Co),oo=Ar(Co),ao=Ar(Co);function kr(t){if(t===Co)throw Error(U(174));return t}function Rd(t,e){switch(he(ao,e),he(oo,t),he(qt,Co),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bc(e,t)}pe(qt),he(qt,e)}function Vi(){pe(qt),pe(oo),pe(ao)}function My(t){kr(ao.current);var e=kr(qt.current),n=Bc(e,t.type);e!==n&&(he(oo,t),he(qt,n))}function Cd(t){oo.current===t&&(pe(qt),pe(oo))}var ye=Ar(0);function ul(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cc=[];function xd(){for(var t=0;t<cc.length;t++)cc[t]._workInProgressVersionPrimary=null;cc.length=0}var Pa=kn.ReactCurrentDispatcher,hc=kn.ReactCurrentBatchConfig,jr=0,ve=null,ke=null,Le=null,cl=!1,Us=!1,lo=0,VI=0;function Je(){throw Error(U(321))}function kd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zt(t[n],e[n]))return!1;return!0}function Pd(t,e,n,r,i,s){if(jr=s,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Pa.current=t===null||t.memoizedState===null?jI:FI,t=n(r,i),Us){s=0;do{if(Us=!1,lo=0,25<=s)throw Error(U(301));s+=1,Le=ke=null,e.updateQueue=null,Pa.current=UI,t=n(r,i)}while(Us)}if(Pa.current=hl,e=ke!==null&&ke.next!==null,jr=0,Le=ke=ve=null,cl=!1,e)throw Error(U(300));return t}function bd(){var t=lo!==0;return lo=0,t}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ve.memoizedState=Le=t:Le=Le.next=t,Le}function Nt(){if(ke===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=Le===null?ve.memoizedState:Le.next;if(e!==null)Le=e,ke=t;else{if(t===null)throw Error(U(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Le===null?ve.memoizedState=Le=t:Le=Le.next=t}return Le}function uo(t,e){return typeof e=="function"?e(t):e}function dc(t){var e=Nt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var f=h.lane;if((jr&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,ve.lanes|=f,Fr|=f}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,zt(r,e.memoizedState)||(ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ve.lanes|=s,Fr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fc(t){var e=Nt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);zt(s,e.memoizedState)||(ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jy(){}function Fy(t,e){var n=ve,r=Nt(),i=e(),s=!zt(r.memoizedState,i);if(s&&(r.memoizedState=i,ft=!0),r=r.queue,Nd(zy.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,co(9,By.bind(null,n,r,i,e),void 0,null),Me===null)throw Error(U(349));jr&30||Uy(n,e,i)}return i}function Uy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function By(t,e,n,r){e.value=n,e.getSnapshot=r,Wy(e)&&Gy(t)}function zy(t,e,n){return n(function(){Wy(e)&&Gy(t)})}function Wy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zt(t,n)}catch{return!0}}function Gy(t){var e=wn(t,1);e!==null&&Bt(e,t,1,-1)}function wm(t){var e=Gt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},e.queue=t,t=t.dispatch=MI.bind(null,ve,t),[e.memoizedState,t]}function co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qy(){return Nt().memoizedState}function ba(t,e,n,r){var i=Gt();ve.flags|=t,i.memoizedState=co(1|e,n,void 0,r===void 0?null:r)}function zl(t,e,n,r){var i=Nt();r=r===void 0?null:r;var s=void 0;if(ke!==null){var o=ke.memoizedState;if(s=o.destroy,r!==null&&kd(r,o.deps)){i.memoizedState=co(e,n,s,r);return}}ve.flags|=t,i.memoizedState=co(1|e,n,s,r)}function Im(t,e){return ba(8390656,8,t,e)}function Nd(t,e){return zl(2048,8,t,e)}function Hy(t,e){return zl(4,2,t,e)}function qy(t,e){return zl(4,4,t,e)}function Ky(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jy(t,e,n){return n=n!=null?n.concat([t]):null,zl(4,4,Ky.bind(null,e,t),n)}function Dd(){}function Xy(t,e){var n=Nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Yy(t,e){var n=Nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zy(t,e,n){return jr&21?(zt(n,e)||(n=ry(),ve.lanes|=n,Fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function OI(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=hc.transition;hc.transition={};try{t(!1),e()}finally{le=n,hc.transition=r}}function $y(){return Nt().memoizedState}function LI(t,e,n){var r=rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ev(t))tv(e,n);else if(n=Oy(t,e,n,r),n!==null){var i=at();Bt(n,t,r,i),nv(n,e,r)}}function MI(t,e,n){var r=rr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ev(t))tv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,zt(l,o)){var u=e.interleaved;u===null?(i.next=i,Td(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Oy(t,e,i,r),n!==null&&(i=at(),Bt(n,t,r,i),nv(n,e,r))}}function ev(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function tv(t,e){Us=cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cd(t,n)}}var hl={readContext:bt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},jI={readContext:bt,useCallback:function(t,e){return Gt().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:Im,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ba(4194308,4,Ky.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4194308,4,t,e)},useInsertionEffect:function(t,e){return ba(4,2,t,e)},useMemo:function(t,e){var n=Gt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LI.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=Gt();return t={current:t},e.memoizedState=t},useState:wm,useDebugValue:Dd,useDeferredValue:function(t){return Gt().memoizedState=t},useTransition:function(){var t=wm(!1),e=t[0];return t=OI.bind(null,t[1]),Gt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,i=Gt();if(me){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Me===null)throw Error(U(349));jr&30||Uy(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Im(zy.bind(null,r,s,t),[t]),r.flags|=2048,co(9,By.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gt(),e=Me.identifierPrefix;if(me){var n=dn,r=hn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FI={readContext:bt,useCallback:Xy,useContext:bt,useEffect:Nd,useImperativeHandle:Jy,useInsertionEffect:Hy,useLayoutEffect:qy,useMemo:Yy,useReducer:dc,useRef:Qy,useState:function(){return dc(uo)},useDebugValue:Dd,useDeferredValue:function(t){var e=Nt();return Zy(e,ke.memoizedState,t)},useTransition:function(){var t=dc(uo)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Fy,useId:$y,unstable_isNewReconciler:!1},UI={readContext:bt,useCallback:Xy,useContext:bt,useEffect:Nd,useImperativeHandle:Jy,useInsertionEffect:Hy,useLayoutEffect:qy,useMemo:Yy,useReducer:fc,useRef:Qy,useState:function(){return fc(uo)},useDebugValue:Dd,useDeferredValue:function(t){var e=Nt();return ke===null?e.memoizedState=t:Zy(e,ke.memoizedState,t)},useTransition:function(){var t=fc(uo)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Fy,useId:$y,unstable_isNewReconciler:!1};function Lt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wl={isMounted:function(t){return(t=t._reactInternals)?qr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=at(),i=rr(t),s=gn(r,i);s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(Bt(e,t,i,r),ka(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=at(),i=rr(t),s=gn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=tr(t,s,i),e!==null&&(Bt(e,t,i,r),ka(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=at(),r=rr(t),i=gn(n,r);i.tag=2,e!=null&&(i.callback=e),e=tr(t,i,r),e!==null&&(Bt(e,t,r,n),ka(e,t,r))}};function Tm(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!no(n,r)||!no(i,s):!0}function rv(t,e,n){var r=!1,i=cr,s=e.contextType;return typeof s=="object"&&s!==null?s=bt(s):(i=mt(e)?Lr:tt.current,r=e.contextTypes,s=(r=r!=null)?bi(t,i):cr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Sm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wl.enqueueReplaceState(e,e.state,null)}function uh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bt(s):(s=mt(e)?Lr:tt.current,i.context=bi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wl.enqueueReplaceState(i,i.state,null),ll(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Oi(t,e){try{var n="",r=e;do n+=pw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ch(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BI=typeof WeakMap=="function"?WeakMap:Map;function iv(t,e,n){n=gn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fl||(fl=!0,_h=r),ch(t,e)},n}function sv(t,e,n){n=gn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ch(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ch(t,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tT.bind(null,t,e,n),e.then(t,t))}function Cm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gn(-1,1),e.tag=2,tr(n,e,1))),n.lanes|=1),t)}var zI=kn.ReactCurrentOwner,ft=!1;function st(t,e,n,r){e.child=t===null?Vy(e,null,n,r):Di(e,t.child,n,r)}function km(t,e,n,r,i){n=n.render;var s=e.ref;return Ti(e,i),r=Pd(t,e,n,r,s,i),n=bd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,In(t,e,i)):(me&&n&&yd(e),e.flags|=1,st(t,e,r,i),e.child)}function Pm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Bd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ov(t,e,s,r,i)):(t=Oa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:no,n(o,r)&&t.ref===e.ref)return In(t,e,i)}return e.flags|=1,t=ir(s,r),t.ref=e.ref,t.return=e,e.child=t}function ov(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(no(s,r)&&t.ref===e.ref)if(ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return e.lanes=t.lanes,In(t,e,i)}return hh(t,e,n,r,i)}function av(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(yi,vt),vt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(yi,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(yi,vt),vt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,he(yi,vt),vt|=r;return st(t,e,i,n),e.child}function lv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hh(t,e,n,r,i){var s=mt(n)?Lr:tt.current;return s=bi(e,s),Ti(e,i),n=Pd(t,e,n,r,s,i),r=bd(),t!==null&&!ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,In(t,e,i)):(me&&r&&yd(e),e.flags|=1,st(t,e,n,i),e.child)}function bm(t,e,n,r,i){if(mt(n)){var s=!0;rl(e)}else s=!1;if(Ti(e,i),e.stateNode===null)Na(t,e),rv(e,n,r),uh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=bt(h):(h=mt(n)?Lr:tt.current,h=bi(e,h));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&Sm(e,o,r,h),Fn=!1;var A=e.memoizedState;o.state=A,ll(e,r,o,i),u=e.memoizedState,l!==r||A!==u||pt.current||Fn?(typeof f=="function"&&(lh(e,n,f,r),u=e.memoizedState),(l=Fn||Tm(e,n,l,r,A,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ly(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Lt(e.type,l),o.props=h,p=e.pendingProps,A=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=bt(u):(u=mt(n)?Lr:tt.current,u=bi(e,u));var R=n.getDerivedStateFromProps;(f=typeof R=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||A!==u)&&Sm(e,o,r,u),Fn=!1,A=e.memoizedState,o.state=A,ll(e,r,o,i);var k=e.memoizedState;l!==p||A!==k||pt.current||Fn?(typeof R=="function"&&(lh(e,n,R,r),k=e.memoizedState),(h=Fn||Tm(e,n,h,r,A,k,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&A===t.memoizedState||(e.flags|=1024),r=!1)}return dh(t,e,n,r,s,i)}function dh(t,e,n,r,i,s){lv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gm(e,n,!1),In(t,e,s);r=e.stateNode,zI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Di(e,t.child,null,s),e.child=Di(e,null,l,s)):st(t,e,l,s),e.memoizedState=r.state,i&&gm(e,n,!0),e.child}function uv(t){var e=t.stateNode;e.pendingContext?mm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mm(t,e.context,!1),Rd(t,e.containerInfo)}function Nm(t,e,n,r,i){return Ni(),_d(i),e.flags|=256,st(t,e,n,r),e.child}var fh={dehydrated:null,treeContext:null,retryLane:0};function ph(t){return{baseLanes:t,cachePool:null,transitions:null}}function cv(t,e,n){var r=e.pendingProps,i=ye.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(ye,i&1),t===null)return oh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hl(o,r,0,null),t=Nr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ph(n),e.memoizedState=fh,t):Vd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return WI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ir(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ir(l,s):(s=Nr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ph(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fh,r}return s=t.child,t=s.sibling,r=ir(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vd(t,e){return e=Hl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pa(t,e,n,r){return r!==null&&_d(r),Di(e,t.child,null,n),t=Vd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pc(Error(U(422))),pa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hl({mode:"visible",children:r.children},i,0,null),s=Nr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Di(e,t.child,null,o),e.child.memoizedState=ph(o),e.memoizedState=fh,s);if(!(e.mode&1))return pa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(U(419)),r=pc(s,r,void 0),pa(t,e,o,r)}if(l=(o&t.childLanes)!==0,ft||l){if(r=Me,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wn(t,i),Bt(r,t,i,-1))}return Ud(),r=pc(Error(U(421))),pa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Et=er(i.nextSibling),wt=e,me=!0,jt=null,t!==null&&(Ct[xt++]=hn,Ct[xt++]=dn,Ct[xt++]=Mr,hn=t.id,dn=t.overflow,Mr=e),e=Vd(e,r.children),e.flags|=4096,e)}function Dm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ah(t.return,e,n)}function mc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(st(t,e,r.children,n),r=ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dm(t,n,e);else if(t.tag===19)Dm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ul(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ul(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mc(e,!0,n,null,s);break;case"together":mc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Na(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function In(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GI(t,e,n){switch(e.tag){case 3:uv(e),Ni();break;case 5:My(e);break;case 1:mt(e.type)&&rl(e);break;case 4:Rd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(ol,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?cv(t,e,n):(he(ye,ye.current&1),t=In(t,e,n),t!==null?t.sibling:null);he(ye,ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(ye,ye.current),r)break;return null;case 22:case 23:return e.lanes=0,av(t,e,n)}return In(t,e,n)}var dv,mh,fv,pv;dv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mh=function(){};fv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kr(qt.current);var s=null;switch(n){case"input":i=Mc(t,i),r=Mc(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=Uc(t,i),r=Uc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tl)}zc(n,r);var o;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Js.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Js.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&fe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};pv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ss(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QI(t,e,n){var r=e.pendingProps;switch(vd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return mt(e.type)&&nl(),Xe(e),null;case 3:return r=e.stateNode,Vi(),pe(pt),pe(tt),xd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(Ih(jt),jt=null))),mh(t,e),Xe(e),null;case 5:Cd(e);var i=kr(ao.current);if(n=e.type,t!==null&&e.stateNode!=null)fv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Xe(e),null}if(t=kr(qt.current),da(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qt]=e,r[so]=s,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<Ps.length;i++)fe(Ps[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":zp(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":Gp(r,s),fe("invalid",r)}zc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&ha(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ha(r.textContent,l,t),i=["children",""+l]):Js.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":ra(r),Wp(r,s,!0);break;case"textarea":ra(r),Qp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qt]=e,t[so]=r,dv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wc(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ps.length;i++)fe(Ps[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":zp(t,r),i=Mc(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),fe("invalid",t);break;case"textarea":Gp(t,r),i=Uc(t,r),fe("invalid",t);break;default:i=r}zc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?QA(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&WA(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Xs(t,u):typeof u=="number"&&Xs(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Js.hasOwnProperty(s)?u!=null&&s==="onScroll"&&fe("scroll",t):u!=null&&id(t,s,u,o))}switch(n){case"input":ra(t),Wp(t,r,!1);break;case"textarea":ra(t),Qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ur(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_i(t,!!r.multiple,s,!1):r.defaultValue!=null&&_i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)pv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=kr(ao.current),kr(qt.current),da(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qt]=e,(s=r.nodeValue!==n)&&(t=wt,t!==null))switch(t.tag){case 3:ha(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ha(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=e,e.stateNode=r}return Xe(e),null;case 13:if(pe(ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&Et!==null&&e.mode&1&&!(e.flags&128))Ny(),Ni(),e.flags|=98560,s=!1;else if(s=da(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Qt]=e}else Ni(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),s=!1}else jt!==null&&(Ih(jt),jt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?be===0&&(be=3):Ud())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return Vi(),mh(t,e),t===null&&ro(e.stateNode.containerInfo),Xe(e),null;case 10:return Id(e.type._context),Xe(e),null;case 17:return mt(e.type)&&nl(),Xe(e),null;case 19:if(pe(ye),s=e.memoizedState,s===null)return Xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ss(s,!1);else{if(be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ul(t),o!==null){for(e.flags|=128,Ss(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(ye,ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&Re()>Li&&(e.flags|=128,r=!0,Ss(s,!1),e.lanes=4194304)}else{if(!r)if(t=ul(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ss(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!me)return Xe(e),null}else 2*Re()-s.renderingStartTime>Li&&n!==1073741824&&(e.flags|=128,r=!0,Ss(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Re(),e.sibling=null,n=ye.current,he(ye,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return Fd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function HI(t,e){switch(vd(e),e.tag){case 1:return mt(e.type)&&nl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),pe(pt),pe(tt),xd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cd(e),null;case 13:if(pe(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ye),null;case 4:return Vi(),null;case 10:return Id(e.type._context),null;case 22:case 23:return Fd(),null;case 24:return null;default:return null}}var ma=!1,$e=!1,qI=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function gh(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Vm=!1;function KI(t,e){if($c=Za,t=vy(),Ad(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,f=0,p=t,A=null;t:for(;;){for(var R;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(R=p.firstChild)!==null;)A=p,p=R;for(;;){if(p===t)break t;if(A===n&&++h===i&&(l=o),A===s&&++f===r&&(u=o),(R=p.nextSibling)!==null)break;p=A,A=p.parentNode}p=R}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(eh={focusedElem:t,selectionRange:n},Za=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var P=k.memoizedProps,x=k.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?P:Lt(e.type,P),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(V){Ie(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return k=Vm,Vm=!1,k}function Bs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gh(e,n,s)}i=i.next}while(i!==r)}}function Gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ah(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mv(t){var e=t.alternate;e!==null&&(t.alternate=null,mv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qt],delete e[so],delete e[rh],delete e[PI],delete e[bI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gv(t){return t.tag===5||t.tag===3||t.tag===4}function Om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tl));else if(r!==4&&(t=t.child,t!==null))for(yh(t,e,n),t=t.sibling;t!==null;)yh(t,e,n),t=t.sibling}function vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vh(t,e,n),t=t.sibling;t!==null;)vh(t,e,n),t=t.sibling}var Fe=null,Mt=!1;function Ln(t,e,n){for(n=n.child;n!==null;)Av(t,e,n),n=n.sibling}function Av(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ll,n)}catch{}switch(n.tag){case 5:$e||Ai(n,e);case 6:var r=Fe,i=Mt;Fe=null,Ln(t,e,n),Fe=r,Mt=i,Fe!==null&&(Mt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Mt?(t=Fe,n=n.stateNode,t.nodeType===8?lc(t.parentNode,n):t.nodeType===1&&lc(t,n),eo(t)):lc(Fe,n.stateNode));break;case 4:r=Fe,i=Mt,Fe=n.stateNode.containerInfo,Mt=!0,Ln(t,e,n),Fe=r,Mt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gh(n,e,o),i=i.next}while(i!==r)}Ln(t,e,n);break;case 1:if(!$e&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ie(n,e,l)}Ln(t,e,n);break;case 21:Ln(t,e,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,Ln(t,e,n),$e=r):Ln(t,e,n);break;default:Ln(t,e,n)}}function Lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qI),e.forEach(function(r){var i=rT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fe=l.stateNode,Mt=!1;break e;case 3:Fe=l.stateNode.containerInfo,Mt=!0;break e;case 4:Fe=l.stateNode.containerInfo,Mt=!0;break e}l=l.return}if(Fe===null)throw Error(U(160));Av(s,o,i),Fe=null,Mt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Ie(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yv(e,t),e=e.sibling}function yv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ot(e,t),Wt(t),r&4){try{Bs(3,t,t.return),Gl(3,t)}catch(P){Ie(t,t.return,P)}try{Bs(5,t,t.return)}catch(P){Ie(t,t.return,P)}}break;case 1:Ot(e,t),Wt(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(Ot(e,t),Wt(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var i=t.stateNode;try{Xs(i,"")}catch(P){Ie(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&UA(i,s),Wc(l,o);var h=Wc(l,s);for(o=0;o<u.length;o+=2){var f=u[o],p=u[o+1];f==="style"?QA(i,p):f==="dangerouslySetInnerHTML"?WA(i,p):f==="children"?Xs(i,p):id(i,f,p,h)}switch(l){case"input":jc(i,s);break;case"textarea":BA(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var R=s.value;R!=null?_i(i,!!s.multiple,R,!1):A!==!!s.multiple&&(s.defaultValue!=null?_i(i,!!s.multiple,s.defaultValue,!0):_i(i,!!s.multiple,s.multiple?[]:"",!1))}i[so]=s}catch(P){Ie(t,t.return,P)}}break;case 6:if(Ot(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Ie(t,t.return,P)}}break;case 3:if(Ot(e,t),Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(P){Ie(t,t.return,P)}break;case 4:Ot(e,t),Wt(t);break;case 13:Ot(e,t),Wt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Md=Re())),r&4&&Lm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?($e=(h=$e)||f,Ot(e,t),$e=h):Ot(e,t),Wt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(p=G=f;G!==null;){switch(A=G,R=A.child,A.tag){case 0:case 11:case 14:case 15:Bs(4,A,A.return);break;case 1:Ai(A,A.return);var k=A.stateNode;if(typeof k.componentWillUnmount=="function"){r=A,n=A.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(P){Ie(r,n,P)}}break;case 5:Ai(A,A.return);break;case 22:if(A.memoizedState!==null){jm(p);continue}}R!==null?(R.return=A,G=R):jm(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=GA("display",o))}catch(P){Ie(t,t.return,P)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(P){Ie(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ot(e,t),Wt(t),r&4&&Lm(t);break;case 21:break;default:Ot(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gv(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xs(i,""),r.flags&=-33);var s=Om(t);vh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Om(t);yh(t,l,o);break;default:throw Error(U(161))}}catch(u){Ie(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JI(t,e,n){G=t,vv(t)}function vv(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ma;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||$e;l=ma;var h=$e;if(ma=o,($e=u)&&!h)for(G=i;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?Fm(i):u!==null?(u.return=o,G=u):Fm(i);for(;s!==null;)G=s,vv(s),s=s.sibling;G=i,ma=l,$e=h}Mm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):Mm(t)}}function Mm(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$e||Gl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$e)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Lt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Em(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Em(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&eo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}$e||e.flags&512&&Ah(e)}catch(A){Ie(e,e.return,A)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function jm(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Fm(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gl(4,e)}catch(u){Ie(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ie(e,i,u)}}var s=e.return;try{Ah(e)}catch(u){Ie(e,s,u)}break;case 5:var o=e.return;try{Ah(e)}catch(u){Ie(e,o,u)}}}catch(u){Ie(e,e.return,u)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var XI=Math.ceil,dl=kn.ReactCurrentDispatcher,Od=kn.ReactCurrentOwner,Pt=kn.ReactCurrentBatchConfig,se=0,Me=null,xe=null,ze=0,vt=0,yi=Ar(0),be=0,ho=null,Fr=0,Ql=0,Ld=0,zs=null,dt=null,Md=0,Li=1/0,un=null,fl=!1,_h=null,nr=null,ga=!1,qn=null,pl=0,Ws=0,Eh=null,Da=-1,Va=0;function at(){return se&6?Re():Da!==-1?Da:Da=Re()}function rr(t){return t.mode&1?se&2&&ze!==0?ze&-ze:DI.transition!==null?(Va===0&&(Va=ry()),Va):(t=le,t!==0||(t=window.event,t=t===void 0?16:cy(t.type)),t):1}function Bt(t,e,n,r){if(50<Ws)throw Ws=0,Eh=null,Error(U(185));To(t,n,r),(!(se&2)||t!==Me)&&(t===Me&&(!(se&2)&&(Ql|=n),be===4&&Bn(t,ze)),gt(t,r),n===1&&se===0&&!(e.mode&1)&&(Li=Re()+500,Bl&&yr()))}function gt(t,e){var n=t.callbackNode;Dw(t,e);var r=Ya(t,t===Me?ze:0);if(r===0)n!==null&&Kp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kp(n),e===1)t.tag===0?NI(Um.bind(null,t)):ky(Um.bind(null,t)),xI(function(){!(se&6)&&yr()}),n=null;else{switch(iy(r)){case 1:n=ud;break;case 4:n=ty;break;case 16:n=Xa;break;case 536870912:n=ny;break;default:n=Xa}n=Cv(n,_v.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _v(t,e){if(Da=-1,Va=0,se&6)throw Error(U(327));var n=t.callbackNode;if(Si()&&t.callbackNode!==n)return null;var r=Ya(t,t===Me?ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ml(t,r);else{e=r;var i=se;se|=2;var s=wv();(Me!==t||ze!==e)&&(un=null,Li=Re()+500,br(t,e));do try{$I();break}catch(l){Ev(t,l)}while(!0);wd(),dl.current=s,se=i,xe!==null?e=0:(Me=null,ze=0,e=be)}if(e!==0){if(e===2&&(i=Kc(t),i!==0&&(r=i,e=wh(t,i))),e===1)throw n=ho,br(t,0),Bn(t,r),gt(t,Re()),n;if(e===6)Bn(t,r);else{if(i=t.current.alternate,!(r&30)&&!YI(i)&&(e=ml(t,r),e===2&&(s=Kc(t),s!==0&&(r=s,e=wh(t,s))),e===1))throw n=ho,br(t,0),Bn(t,r),gt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Sr(t,dt,un);break;case 3:if(Bn(t,r),(r&130023424)===r&&(e=Md+500-Re(),10<e)){if(Ya(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){at(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nh(Sr.bind(null,t,dt,un),e);break}Sr(t,dt,un);break;case 4:if(Bn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ut(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XI(r/1960))-r,10<r){t.timeoutHandle=nh(Sr.bind(null,t,dt,un),r);break}Sr(t,dt,un);break;case 5:Sr(t,dt,un);break;default:throw Error(U(329))}}}return gt(t,Re()),t.callbackNode===n?_v.bind(null,t):null}function wh(t,e){var n=zs;return t.current.memoizedState.isDehydrated&&(br(t,e).flags|=256),t=ml(t,e),t!==2&&(e=dt,dt=n,e!==null&&Ih(e)),t}function Ih(t){dt===null?dt=t:dt.push.apply(dt,t)}function YI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bn(t,e){for(e&=~Ld,e&=~Ql,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function Um(t){if(se&6)throw Error(U(327));Si();var e=Ya(t,0);if(!(e&1))return gt(t,Re()),null;var n=ml(t,e);if(t.tag!==0&&n===2){var r=Kc(t);r!==0&&(e=r,n=wh(t,r))}if(n===1)throw n=ho,br(t,0),Bn(t,e),gt(t,Re()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sr(t,dt,un),gt(t,Re()),null}function jd(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Li=Re()+500,Bl&&yr())}}function Ur(t){qn!==null&&qn.tag===0&&!(se&6)&&Si();var e=se;se|=1;var n=Pt.transition,r=le;try{if(Pt.transition=null,le=1,t)return t()}finally{le=r,Pt.transition=n,se=e,!(se&6)&&yr()}}function Fd(){vt=yi.current,pe(yi)}function br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CI(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(vd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&nl();break;case 3:Vi(),pe(pt),pe(tt),xd();break;case 5:Cd(r);break;case 4:Vi();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:Id(r.type._context);break;case 22:case 23:Fd()}n=n.return}if(Me=t,xe=t=ir(t.current,null),ze=vt=e,be=0,ho=null,Ld=Ql=Fr=0,dt=zs=null,xr!==null){for(e=0;e<xr.length;e++)if(n=xr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xr=null}return t}function Ev(t,e){do{var n=xe;try{if(wd(),Pa.current=hl,cl){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cl=!1}if(jr=0,Le=ke=ve=null,Us=!1,lo=0,Od.current=null,n===null||n.return===null){be=1,ho=e,xe=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=ze,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var A=f.alternate;A?(f.updateQueue=A.updateQueue,f.memoizedState=A.memoizedState,f.lanes=A.lanes):(f.updateQueue=null,f.memoizedState=null)}var R=Cm(o);if(R!==null){R.flags&=-257,xm(R,o,l,s,e),R.mode&1&&Rm(s,h,e),e=R,u=h;var k=e.updateQueue;if(k===null){var P=new Set;P.add(u),e.updateQueue=P}else k.add(u);break e}else{if(!(e&1)){Rm(s,h,e),Ud();break e}u=Error(U(426))}}else if(me&&l.mode&1){var x=Cm(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),xm(x,o,l,s,e),_d(Oi(u,l));break e}}s=u=Oi(u,l),be!==4&&(be=2),zs===null?zs=[s]:zs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=iv(s,u,e);_m(s,v);break e;case 1:l=u;var g=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(nr===null||!nr.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=sv(s,l,e);_m(s,V);break e}}s=s.return}while(s!==null)}Tv(n)}catch(F){e=F,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function wv(){var t=dl.current;return dl.current=hl,t===null?hl:t}function Ud(){(be===0||be===3||be===2)&&(be=4),Me===null||!(Fr&268435455)&&!(Ql&268435455)||Bn(Me,ze)}function ml(t,e){var n=se;se|=2;var r=wv();(Me!==t||ze!==e)&&(un=null,br(t,e));do try{ZI();break}catch(i){Ev(t,i)}while(!0);if(wd(),se=n,dl.current=r,xe!==null)throw Error(U(261));return Me=null,ze=0,be}function ZI(){for(;xe!==null;)Iv(xe)}function $I(){for(;xe!==null&&!Tw();)Iv(xe)}function Iv(t){var e=Rv(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Tv(t):xe=e,Od.current=null}function Tv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HI(n,e),n!==null){n.flags&=32767,xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{be=6,xe=null;return}}else if(n=QI(n,e,vt),n!==null){xe=n;return}if(e=e.sibling,e!==null){xe=e;return}xe=e=t}while(e!==null);be===0&&(be=5)}function Sr(t,e,n){var r=le,i=Pt.transition;try{Pt.transition=null,le=1,eT(t,e,n,r)}finally{Pt.transition=i,le=r}return null}function eT(t,e,n,r){do Si();while(qn!==null);if(se&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Vw(t,s),t===Me&&(xe=Me=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,Cv(Xa,function(){return Si(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pt.transition,Pt.transition=null;var o=le;le=1;var l=se;se|=4,Od.current=null,KI(t,n),yv(n,t),_I(eh),Za=!!$c,eh=$c=null,t.current=n,JI(n),Sw(),se=l,le=o,Pt.transition=s}else t.current=n;if(ga&&(ga=!1,qn=t,pl=i),s=t.pendingLanes,s===0&&(nr=null),xw(n.stateNode),gt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fl)throw fl=!1,t=_h,_h=null,t;return pl&1&&t.tag!==0&&Si(),s=t.pendingLanes,s&1?t===Eh?Ws++:(Ws=0,Eh=t):Ws=0,yr(),null}function Si(){if(qn!==null){var t=iy(pl),e=Pt.transition,n=le;try{if(Pt.transition=null,le=16>t?16:t,qn===null)var r=!1;else{if(t=qn,qn=null,pl=0,se&6)throw Error(U(331));var i=se;for(se|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(G=h;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:Bs(8,f,s)}var p=f.child;if(p!==null)p.return=f,G=p;else for(;G!==null;){f=G;var A=f.sibling,R=f.return;if(mv(f),f===h){G=null;break}if(A!==null){A.return=R,G=A;break}G=R}}}var k=s.alternate;if(k!==null){var P=k.child;if(P!==null){k.child=null;do{var x=P.sibling;P.sibling=null,P=x}while(P!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bs(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,G=v;break e}G=s.return}}var g=t.current;for(G=g;G!==null;){o=G;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,G=I;else e:for(o=g;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gl(9,l)}}catch(F){Ie(l,l.return,F)}if(l===o){G=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,G=V;break e}G=l.return}}if(se=i,yr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ll,t)}catch{}r=!0}return r}finally{le=n,Pt.transition=e}}return!1}function Bm(t,e,n){e=Oi(n,e),e=iv(t,e,1),t=tr(t,e,1),e=at(),t!==null&&(To(t,1,e),gt(t,e))}function Ie(t,e,n){if(t.tag===3)Bm(t,t,n);else for(;e!==null;){if(e.tag===3){Bm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){t=Oi(n,t),t=sv(e,t,1),e=tr(e,t,1),t=at(),e!==null&&(To(e,1,t),gt(e,t));break}}e=e.return}}function tT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=at(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(ze&n)===n&&(be===4||be===3&&(ze&130023424)===ze&&500>Re()-Md?br(t,0):Ld|=n),gt(t,e)}function Sv(t,e){e===0&&(t.mode&1?(e=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):e=1);var n=at();t=wn(t,e),t!==null&&(To(t,e,n),gt(t,n))}function nT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sv(t,n)}function rT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Sv(t,n)}var Rv;Rv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pt.current)ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ft=!1,GI(t,e,n);ft=!!(t.flags&131072)}else ft=!1,me&&e.flags&1048576&&Py(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Na(t,e),t=e.pendingProps;var i=bi(e,tt.current);Ti(e,n),i=Pd(null,e,r,t,i,n);var s=bd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mt(r)?(s=!0,rl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sd(e),i.updater=Wl,e.stateNode=i,i._reactInternals=e,uh(e,r,t,n),e=dh(null,e,r,!0,s,n)):(e.tag=0,me&&s&&yd(e),st(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Na(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sT(r),t=Lt(r,t),i){case 0:e=hh(null,e,r,t,n);break e;case 1:e=bm(null,e,r,t,n);break e;case 11:e=km(null,e,r,t,n);break e;case 14:e=Pm(null,e,r,Lt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),hh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),bm(t,e,r,i,n);case 3:e:{if(uv(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ly(t,e),ll(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Oi(Error(U(423)),e),e=Nm(t,e,r,n,i);break e}else if(r!==i){i=Oi(Error(U(424)),e),e=Nm(t,e,r,n,i);break e}else for(Et=er(e.stateNode.containerInfo.firstChild),wt=e,me=!0,jt=null,n=Vy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===i){e=In(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return My(e),t===null&&oh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,th(r,i)?o=null:s!==null&&th(r,s)&&(e.flags|=32),lv(t,e),st(t,e,o,n),e.child;case 6:return t===null&&oh(e),null;case 13:return cv(t,e,n);case 4:return Rd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Di(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),km(t,e,r,i,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,he(ol,r._currentValue),r._currentValue=o,s!==null)if(zt(s.value,o)){if(s.children===i.children&&!pt.current){e=In(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=gn(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ah(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ah(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}st(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ti(e,n),i=bt(i),r=r(i),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,i=Lt(r,e.pendingProps),i=Lt(r.type,i),Pm(t,e,r,i,n);case 15:return ov(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Lt(r,i),Na(t,e),e.tag=1,mt(r)?(t=!0,rl(e)):t=!1,Ti(e,n),rv(e,r,i),uh(e,r,i,n),dh(null,e,r,!0,t,n);case 19:return hv(t,e,n);case 22:return av(t,e,n)}throw Error(U(156,e.tag))};function Cv(t,e){return ey(t,e)}function iT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,e,n,r){return new iT(t,e,n,r)}function Bd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sT(t){if(typeof t=="function")return Bd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===od)return 11;if(t===ad)return 14}return 2}function ir(t,e){var n=t.alternate;return n===null?(n=kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oa(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Bd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case li:return Nr(n.children,i,s,e);case sd:o=8,i|=8;break;case Dc:return t=kt(12,n,e,i|2),t.elementType=Dc,t.lanes=s,t;case Vc:return t=kt(13,n,e,i),t.elementType=Vc,t.lanes=s,t;case Oc:return t=kt(19,n,e,i),t.elementType=Oc,t.lanes=s,t;case MA:return Hl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OA:o=10;break e;case LA:o=9;break e;case od:o=11;break e;case ad:o=14;break e;case jn:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=kt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Nr(t,e,n,r){return t=kt(7,t,r,e),t.lanes=n,t}function Hl(t,e,n,r){return t=kt(22,t,r,e),t.elementType=MA,t.lanes=n,t.stateNode={isHidden:!1},t}function gc(t,e,n){return t=kt(6,t,null,e),t.lanes=n,t}function Ac(t,e,n){return e=kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zd(t,e,n,r,i,s,o,l,u){return t=new oT(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(s),t}function aT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xv(t){if(!t)return cr;t=t._reactInternals;e:{if(qr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(mt(n))return xy(t,n,e)}return e}function kv(t,e,n,r,i,s,o,l,u){return t=zd(n,r,!0,t,i,s,o,l,u),t.context=xv(null),n=t.current,r=at(),i=rr(n),s=gn(r,i),s.callback=e??null,tr(n,s,i),t.current.lanes=i,To(t,i,r),gt(t,r),t}function ql(t,e,n,r){var i=e.current,s=at(),o=rr(i);return n=xv(n),e.context===null?e.context=n:e.pendingContext=n,e=gn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tr(i,e,o),t!==null&&(Bt(t,i,o,s),ka(t,i,o)),o}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wd(t,e){zm(t,e),(t=t.alternate)&&zm(t,e)}function lT(){return null}var Pv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gd(t){this._internalRoot=t}Kl.prototype.render=Gd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ql(t,e,null,null)};Kl.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ur(function(){ql(null,t,null,null)}),e[En]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ay();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Un.length&&e!==0&&e<Un[n].priority;n++);Un.splice(n,0,t),n===0&&uy(t)}};function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function uT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=gl(o);s.call(h)}}var o=kv(e,r,t,0,null,!1,!1,"",Wm);return t._reactRootContainer=o,t[En]=o.current,ro(t.nodeType===8?t.parentNode:t),Ur(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=gl(u);l.call(h)}}var u=zd(t,0,!1,null,null,!1,!1,"",Wm);return t._reactRootContainer=u,t[En]=u.current,ro(t.nodeType===8?t.parentNode:t),Ur(function(){ql(e,u,n,r)}),u}function Xl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=gl(o);l.call(u)}}ql(e,o,t,i)}else o=uT(n,e,t,i,r);return gl(o)}sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ks(e.pendingLanes);n!==0&&(cd(e,n|1),gt(e,Re()),!(se&6)&&(Li=Re()+500,yr()))}break;case 13:Ur(function(){var r=wn(t,1);if(r!==null){var i=at();Bt(r,t,1,i)}}),Wd(t,1)}};hd=function(t){if(t.tag===13){var e=wn(t,134217728);if(e!==null){var n=at();Bt(e,t,134217728,n)}Wd(t,134217728)}};oy=function(t){if(t.tag===13){var e=rr(t),n=wn(t,e);if(n!==null){var r=at();Bt(n,t,e,r)}Wd(t,e)}};ay=function(){return le};ly=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Qc=function(t,e,n){switch(e){case"input":if(jc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ul(r);if(!i)throw Error(U(90));FA(r),jc(r,i)}}}break;case"textarea":BA(t,n);break;case"select":e=n.value,e!=null&&_i(t,!!n.multiple,e,!1)}};KA=jd;JA=Ur;var cT={usingClientEntryPoint:!1,Events:[Ro,di,Ul,HA,qA,jd]},Rs={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hT={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZA(t),t===null?null:t.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||lT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Ll=Aa.inject(hT),Ht=Aa}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(e))throw Error(U(200));return aT(t,e,null,n)};St.createRoot=function(t,e){if(!Qd(t))throw Error(U(299));var n=!1,r="",i=Pv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zd(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,ro(t.nodeType===8?t.parentNode:t),new Gd(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=ZA(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Ur(t)};St.hydrate=function(t,e,n){if(!Jl(e))throw Error(U(200));return Xl(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Qd(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Pv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kv(e,null,t,1,n??null,i,!1,s,o),t[En]=e.current,ro(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kl(e)};St.render=function(t,e,n){if(!Jl(e))throw Error(U(200));return Xl(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(U(40));return t._reactRootContainer?(Ur(function(){Xl(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};St.unstable_batchedUpdates=jd;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jl(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Xl(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bv)}catch(t){console.error(t)}}bv(),bA.exports=St;var dT=bA.exports,Nv,Gm=dT;Nv=Gm.createRoot,Gm.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(this,arguments)}var Kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kn||(Kn={}));const Qm="popstate";function fT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return Th("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vv(i)}return mT(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pT(){return Math.random().toString(36).substr(2,8)}function Hm(t,e){return{usr:t.state,key:t.key,idx:e}}function Th(t,e,n,r){return n===void 0&&(n=null),fo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xi(e):e,{state:n,key:e&&e.key||r||pT()})}function Vv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Kn.Pop,u=null,h=f();h==null&&(h=0,o.replaceState(fo({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Kn.Pop;let x=f(),v=x==null?null:x-h;h=x,u&&u({action:l,location:P.location,delta:v})}function A(x,v){l=Kn.Push;let g=Th(P.location,x,v);h=f()+1;let I=Hm(g,h),V=P.createHref(g);try{o.pushState(I,"",V)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(V)}s&&u&&u({action:l,location:P.location,delta:1})}function R(x,v){l=Kn.Replace;let g=Th(P.location,x,v);h=f();let I=Hm(g,h),V=P.createHref(g);o.replaceState(I,"",V),s&&u&&u({action:l,location:P.location,delta:0})}function k(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:Vv(x);return g=g.replace(/ $/,"%20"),Ne(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let P={get action(){return l},get location(){return t(i,o)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Qm,p),u=x,()=>{i.removeEventListener(Qm,p),u=null}},createHref(x){return e(i,x)},createURL:k,encodeLocation(x){let v=k(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:A,replace:R,go(x){return o.go(x)}};return P}var qm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qm||(qm={}));function gT(t,e,n){return n===void 0&&(n="/"),AT(t,e,n,!1)}function AT(t,e,n,r){let i=typeof e=="string"?Xi(e):e,s=Mv(i.pathname||"/",n);if(s==null)return null;let o=Ov(t);yT(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=kT(s);l=CT(o[u],h,r)}return l}function Ov(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Dr([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ne(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Ov(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:ST(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of Lv(s.path))i(s,o,u)}),e}function Lv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Lv(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function yT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vT=/^:[\w-]+$/,_T=3,ET=2,wT=1,IT=10,TT=-2,Km=t=>t==="*";function ST(t,e){let n=t.split("/"),r=n.length;return n.some(Km)&&(r+=TT),e&&(r+=ET),n.filter(i=>!Km(i)).reduce((i,s)=>i+(vT.test(s)?_T:s===""?wT:IT),r)}function RT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CT(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Jm({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),A=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Jm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Dr([s,p.pathname]),pathnameBase:OT(Dr([s,p.pathnameBase])),route:A}),p.pathnameBase!=="/"&&(s=Dr([s,p.pathnameBase]))}return o}function Jm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,p)=>{let{paramName:A,isOptional:R}=f;if(A==="*"){let P=l[p]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const k=l[p];return R&&!k?h[A]=void 0:h[A]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function xT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xi(t):t;return{pathname:n?n.startsWith("/")?n:bT(n,e):e,search:LT(r),hash:MT(i)}}function bT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DT(t,e){let n=NT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function VT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xi(t):(i=fo({},t),Ne(!i.pathname||!i.pathname.includes("?"),yc("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),yc("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),yc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),p-=1;i.pathname=A.join("/")}l=p>=0?e[p]:"/"}let u=PT(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),OT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jv=["post","put","patch","delete"];new Set(jv);const FT=["get",...jv];new Set(FT);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},po.apply(this,arguments)}const Hd=L.createContext(null),UT=L.createContext(null),Yl=L.createContext(null),Zl=L.createContext(null),Yi=L.createContext({outlet:null,matches:[],isDataRoute:!1}),Fv=L.createContext(null);function $l(){return L.useContext(Zl)!=null}function Uv(){return $l()||Ne(!1),L.useContext(Zl).location}function Bv(t){L.useContext(Yl).static||L.useLayoutEffect(t)}function Pn(){let{isDataRoute:t}=L.useContext(Yi);return t?$T():BT()}function BT(){$l()||Ne(!1);let t=L.useContext(Hd),{basename:e,future:n,navigator:r}=L.useContext(Yl),{matches:i}=L.useContext(Yi),{pathname:s}=Uv(),o=JSON.stringify(DT(i,n.v7_relativeSplatPath)),l=L.useRef(!1);return Bv(()=>{l.current=!0}),L.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=VT(h,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Dr([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,o,s,t])}function zT(t,e){return WT(t,e)}function WT(t,e,n,r){$l()||Ne(!1);let{navigator:i}=L.useContext(Yl),{matches:s}=L.useContext(Yi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Uv(),f;if(e){var p;let x=typeof e=="string"?Xi(e):e;u==="/"||(p=x.pathname)!=null&&p.startsWith(u)||Ne(!1),f=x}else f=h;let A=f.pathname||"/",R=A;if(u!=="/"){let x=u.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(x.length).join("/")}let k=gT(t,{pathname:R}),P=KT(k&&k.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Dr([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Dr([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&P?L.createElement(Zl.Provider,{value:{location:po({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Kn.Pop}},P):P}function GT(){let t=ZT(),e=jT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const QT=L.createElement(GT,null);class HT extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Yi.Provider,{value:this.props.routeContext},L.createElement(Fv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qT(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(Hd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Yi.Provider,{value:e},r)}function KT(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Ne(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:A,errors:R}=n,k=p.route.loader&&A[p.route.id]===void 0&&(!R||R[p.route.id]===void 0);if(p.route.lazy||k){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,A)=>{let R,k=!1,P=null,x=null;n&&(R=l&&p.route.id?l[p.route.id]:void 0,P=p.route.errorElement||QT,u&&(h<0&&A===0?(k=!0,x=null):h===A&&(k=!0,x=p.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,A+1)),g=()=>{let I;return R?I=P:k?I=x:p.route.Component?I=L.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=f,L.createElement(qT,{match:p,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||A===0)?L.createElement(HT,{location:n.location,revalidation:n.revalidation,component:P,error:R,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var zv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zv||{}),Al=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Al||{});function JT(t){let e=L.useContext(Hd);return e||Ne(!1),e}function XT(t){let e=L.useContext(UT);return e||Ne(!1),e}function YT(t){let e=L.useContext(Yi);return e||Ne(!1),e}function Wv(t){let e=YT(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function ZT(){var t;let e=L.useContext(Fv),n=XT(Al.UseRouteError),r=Wv(Al.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $T(){let{router:t}=JT(zv.UseNavigateStable),e=Wv(Al.UseNavigateStable),n=L.useRef(!1);return Bv(()=>{n.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,po({fromRouteId:e},s)))},[t,e])}const Xm={};function e1(t,e){Xm[e]||(Xm[e]=!0,console.warn(e))}const Ym=(t,e,n)=>e1(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function t1(t,e){t!=null&&t.v7_startTransition||Ym("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Ym("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ct(t){Ne(!1)}function n1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kn.Pop,navigator:s,static:o=!1,future:l}=t;$l()&&Ne(!1);let u=e.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:s,static:o,future:po({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Xi(r));let{pathname:f="/",search:p="",hash:A="",state:R=null,key:k="default"}=r,P=L.useMemo(()=>{let x=Mv(f,u);return x==null?null:{location:{pathname:x,search:p,hash:A,state:R,key:k},navigationType:i}},[u,f,p,A,R,k,i]);return P==null?null:L.createElement(Yl.Provider,{value:h},L.createElement(Zl.Provider,{children:n,value:P}))}function r1(t){let{children:e,location:n}=t;return zT(Sh(e),n)}new Promise(()=>{});function Sh(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){n.push.apply(n,Sh(r.props.children,s));return}r.type!==ct&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sh(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const i1="6";try{window.__reactRouterVersion=i1}catch{}const s1="startTransition",Zm=tw[s1];function o1(t){let{basename:e,children:n,future:r,window:i}=t,s=L.useRef();s.current==null&&(s.current=fT({window:i,v5Compat:!0}));let o=s.current,[l,u]=L.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=L.useCallback(p=>{h&&Zm?Zm(()=>u(p)):u(p)},[u,h]);return L.useLayoutEffect(()=>o.listen(f),[o,f]),L.useEffect(()=>t1(r),[r]),L.createElement(n1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var $m;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($m||($m={}));var eg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eg||(eg={}));var tg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},a1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let A=(l&15)<<2|h>>6,R=h&63;u||(R=64,o||(A=64)),r.push(n[f],n[p],n[A],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new l1;const A=s<<2|l>>4;if(r.push(A),h!==64){const R=l<<4&240|h>>2;if(r.push(R),p!==64){const k=h<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u1=function(t){const e=Gv(t);return Qv.encodeByteArray(e,!0)},yl=function(t){return u1(t).replace(/\./g,"")},Hv=function(t){try{return Qv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=()=>c1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof tg>"u")return;const t=tg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hv(t[1]);return e&&JSON.parse(e)},eu=()=>{try{return h1()||d1()||f1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qv=t=>{var e,n;return(n=(e=eu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},p1=t=>{const e=qv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kv=()=>{var t;return(t=eu())===null||t===void 0?void 0:t.config},Jv=t=>{var e;return(e=eu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yl(JSON.stringify(n)),yl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function y1(){var t;const e=(t=eu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w1(){const t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I1(){return!y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function S1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";class bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R1,Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xo.prototype.create)}}class xo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?C1(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new bn(i,l,r)}}function C1(t,e){return t.replace(x1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x1=/\{\$([^}]+)}/g;function k1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ng(s)&&ng(o)){if(!mo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ng(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function P1(t,e){const n=new b1(t,e);return n.subscribe.bind(n)}class b1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vc),i.error===void 0&&(i.error=vc),i.complete===void 0&&(i.complete=vc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O1(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:V1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V1(t){return t===Rr?void 0:t}function O1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const M1={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},j1=te.INFO,F1={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},U1=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=F1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qd{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const B1=(t,e)=>e.some(n=>t instanceof n);let rg,ig;function z1(){return rg||(rg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W1(){return ig||(ig=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,Rh=new WeakMap,Yv=new WeakMap,_c=new WeakMap,Kd=new WeakMap;function G1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(sr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xv.set(n,t)}).catch(()=>{}),Kd.set(e,t),e}function Q1(t){if(Rh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rh.set(t,e)}let Ch={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H1(t){Ch=t(Ch)}function q1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ec(this),e,...n);return Yv.set(r,e.sort?e.sort():[e]),sr(r)}:W1().includes(t)?function(...e){return t.apply(Ec(this),e),sr(Xv.get(this))}:function(...e){return sr(t.apply(Ec(this),e))}}function K1(t){return typeof t=="function"?q1(t):(t instanceof IDBTransaction&&Q1(t),B1(t,z1())?new Proxy(t,Ch):t)}function sr(t){if(t instanceof IDBRequest)return G1(t);if(_c.has(t))return _c.get(t);const e=K1(t);return e!==t&&(_c.set(t,e),Kd.set(e,t)),e}const Ec=t=>Kd.get(t);function J1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=sr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(sr(o.result),u.oldVersion,u.newVersion,sr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const X1=["get","getKey","getAll","getAllKeys","count"],Y1=["put","add","delete","clear"],wc=new Map;function sg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wc.get(e))return wc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Y1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X1.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return wc.set(e,s),s}H1(t=>({...t,get:(e,n,r)=>sg(e,n)||t.get(e,n,r),has:(e,n)=>!!sg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xh="@firebase/app",og="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new qd("@firebase/app"),eS="@firebase/app-compat",tS="@firebase/analytics-compat",nS="@firebase/analytics",rS="@firebase/app-check-compat",iS="@firebase/app-check",sS="@firebase/auth",oS="@firebase/auth-compat",aS="@firebase/database",lS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",hS="@firebase/functions-compat",dS="@firebase/installations",fS="@firebase/installations-compat",pS="@firebase/messaging",mS="@firebase/messaging-compat",gS="@firebase/performance",AS="@firebase/performance-compat",yS="@firebase/remote-config",vS="@firebase/remote-config-compat",_S="@firebase/storage",ES="@firebase/storage-compat",wS="@firebase/firestore",IS="@firebase/vertexai",TS="@firebase/firestore-compat",SS="firebase",RS="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",CS={[xh]:"fire-core",[eS]:"fire-core-compat",[nS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[rS]:"fire-app-check-compat",[sS]:"fire-auth",[oS]:"fire-auth-compat",[aS]:"fire-rtdb",[lS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[hS]:"fire-fn-compat",[dS]:"fire-iid",[fS]:"fire-iid-compat",[pS]:"fire-fcm",[mS]:"fire-fcm-compat",[gS]:"fire-perf",[AS]:"fire-perf-compat",[yS]:"fire-rc",[vS]:"fire-rc-compat",[_S]:"fire-gcs",[ES]:"fire-gcs-compat",[wS]:"fire-fst",[TS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,xS=new Map,Ph=new Map;function ag(t,e){try{t.container.addComponent(e)}catch(n){Tn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mi(t){const e=t.name;if(Ph.has(e))return Tn.debug(`There were multiple attempts to register component ${e}.`),!1;Ph.set(e,t);for(const n of vl.values())ag(n,t);for(const n of xS.values())ag(n,t);return!0}function Jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new xo("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=RS;function Kr(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=Kv()),!n)throw or.create("no-options");const s=vl.get(i);if(s){if(mo(n,s.options)&&mo(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}const o=new L1(i);for(const u of Ph.values())o.addComponent(u);const l=new PS(n,r,o);return vl.set(i,l),l}function Zv(t=kh){const e=vl.get(t);if(!e&&t===kh&&Kv())return Kr();if(!e)throw or.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=CS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tn.warn(l.join(" "));return}Mi(new Br(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebase-heartbeat-database",NS=1,go="firebase-heartbeat-store";let Ic=null;function $v(){return Ic||(Ic=J1(bS,NS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(go)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),Ic}async function DS(t){try{const n=(await $v()).transaction(go),r=await n.objectStore(go).get(e0(t));return await n.done,r}catch(e){if(e instanceof bn)Tn.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tn.warn(n.message)}}}async function lg(t,e){try{const r=(await $v()).transaction(go,"readwrite");await r.objectStore(go).put(e,e0(t)),await r.done}catch(n){if(n instanceof bn)Tn.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tn.warn(r.message)}}}function e0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=1024,OS=30*24*60*60*1e3;class LS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ug();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=OS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ug(),{heartbeatsToSend:r,unsentEntries:i}=MS(this._heartbeatsCache.heartbeats),s=yl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Tn.warn(n),""}}}function ug(){return new Date().toISOString().substring(0,10)}function MS(t,e=VS){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cg(t){return yl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){Mi(new Br("platform-logger",e=>new Z1(e),"PRIVATE")),Mi(new Br("heartbeat",e=>new LS(e),"PRIVATE")),ar(xh,og,t),ar(xh,og,"esm2017"),ar("fire-js","")}FS("");var US="firebase",BS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(US,BS,"app");function Xd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function t0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zS=t0,n0=new xo("auth","Firebase",t0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new qd("@firebase/auth");function WS(t,...e){_l.logLevel<=te.WARN&&_l.warn(`Auth (${Zi}): ${t}`,...e)}function La(t,...e){_l.logLevel<=te.ERROR&&_l.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw Yd(t,...e)}function Kt(t,...e){return Yd(t,...e)}function r0(t,e,n){const r=Object.assign(Object.assign({},zS()),{[e]:n});return new xo("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return r0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n0.create(t,...e)}function K(t,e,...n){if(!t)throw Yd(e,...n)}function fn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw La(e),new Error(e)}function Rn(t,e){t||fn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GS(){return hg()==="http:"||hg()==="https:"}function hg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GS()||_1()||"connection"in navigator)?navigator.onLine:!0}function HS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rn(n>e,"Short delay should be less than long delay!"),this.isMobile=A1()||E1()}get(){return QS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e){Rn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Po(3e4,6e4);function $d(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,n,r,i={}){return s0(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ko(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},s);return v1()||(h.referrerPolicy="no-referrer"),i0.fetch()(o0(t,t.config.apiHost,n,l),h)})}async function s0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qS),e);try{const i=new XS(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ya(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ya(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ya(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ya(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw r0(t,f,h);Sn(t,f)}}catch(i){if(i instanceof bn)throw i;Sn(t,"network-request-failed",{message:String(i)})}}async function JS(t,e,n,r,i={}){const s=await $i(t,e,n,r,i);return"mfaPendingCredential"in s&&Sn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function o0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zd(t.config,i):`${t.config.apiScheme}://${i}`}class XS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kt(this.auth,"network-request-failed")),KS.get())})}}function ya(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function a0(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZS(t,e=!1){const n=At(t),r=await n.getIdToken(e),i=ef(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gs(Tc(i.auth_time)),issuedAtTime:Gs(Tc(i.iat)),expirationTime:Gs(Tc(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Tc(t){return Number(t)*1e3}function ef(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return La("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hv(n);return i?JSON.parse(i):(La("Failed to decode base64 JWT payload"),null)}catch(i){return La("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dg(t){const e=ef(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bn&&$S(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $S({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ao(t,a0(n,{idToken:r}));K(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?l0(s.providerUserInfo):[],l=nR(t.providerData,o),u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),f=u?h:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Nh(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function tR(t){const e=At(t);await El(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l0(t){return t.map(e=>{var{providerId:n}=e,r=Xd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e){const n=await s0(t,{},async()=>{const r=ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=o0(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",i0.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iR(t,e){return $i(t,"POST","/v2/accounts:revokeToken",$d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");const n=dg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rR(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ri;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Xd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZS(this,e)}reload(){return tR(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await El(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await Ao(this,YS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,h,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,A=(i=n.email)!==null&&i!==void 0?i:void 0,R=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,v=(h=n.createdAt)!==null&&h!==void 0?h:void 0,g=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:V,isAnonymous:F,providerData:D,stsTokenManager:E}=n;K(I&&E,e,"internal-error");const y=Ri.fromJSON(this.name,E);K(typeof I=="string",e,"internal-error"),Mn(p,e.name),Mn(A,e.name),K(typeof V=="boolean",e,"internal-error"),K(typeof F=="boolean",e,"internal-error"),Mn(R,e.name),Mn(k,e.name),Mn(P,e.name),Mn(x,e.name),Mn(v,e.name),Mn(g,e.name);const w=new pn({uid:I,auth:e,email:A,emailVerified:V,displayName:p,isAnonymous:F,photoURL:k,phoneNumber:R,tenantId:P,stsTokenManager:y,createdAt:v,lastLoginAt:g});return D&&Array.isArray(D)&&(w.providerData=D.map(T=>Object.assign({},T))),x&&(w._redirectEventId=x),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ri;i.updateFromServerResponse(n);const s=new pn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await El(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];K(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?l0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Ri;l.updateFromIdToken(r);const u=new pn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Nh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new Map;function mn(t){Rn(t instanceof Function,"Expected a class definition");let e=fg.get(t);return e?(Rn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u0.type="NONE";const pg=u0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,e,n){return`firebase:${t}:${e}:${n}`}class Ci{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ma(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ma("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ci(mn(pg),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||mn(pg);const o=Ma(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const f=await h._get(o);if(f){const p=pn._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ci(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ci(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m0(e))return"Blackberry";if(g0(e))return"Webos";if(h0(e))return"Safari";if((e.includes("chrome/")||d0(e))&&!e.includes("edge/"))return"Chrome";if(p0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function c0(t=nt()){return/firefox\//i.test(t)}function h0(t=nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d0(t=nt()){return/crios\//i.test(t)}function f0(t=nt()){return/iemobile/i.test(t)}function p0(t=nt()){return/android/i.test(t)}function m0(t=nt()){return/blackberry/i.test(t)}function g0(t=nt()){return/webos/i.test(t)}function tf(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sR(t=nt()){var e;return tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oR(){return w1()&&document.documentMode===10}function A0(t=nt()){return tf(t)||p0(t)||g0(t)||m0(t)||/windows phone/i.test(t)||f0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e=[]){let n;switch(t){case"Browser":n=mg(nt());break;case"Worker":n=`${mg(nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e={}){return $i(t,"GET","/v2/passwordPolicy",$d(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=6;class cR{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:uR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gg(this),this.idTokenSubscription=new gg(this),this.beforeStateQueue=new aR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ci.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await a0(this,{idToken:e}),r=await pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await El(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Vr(this));const n=e?At(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lR(this),n=new cR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ci.create(this,[mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function nf(t){return At(t)}class gg{constructor(e){this.auth=e,this.observer=null,this.addObserver=P1(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dR(t){rf=t}function fR(t){return rf.loadJS(t)}function pR(){return rf.gapiScript}function mR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){const n=Jd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(mo(s,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function AR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yR(t,e,n){const r=nf(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=v0(e),{host:o,port:l}=vR(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),_R()}function v0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vR(t){const e=v0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ag(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ag(o)}}}function Ag(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _R(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fn("not implemented")}_getIdTokenResponse(e){return fn("not implemented")}_linkToIdToken(e,n){return fn("not implemented")}_getReauthenticationResolver(e){return fn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e){return JS(t,"POST","/v1/accounts:signInWithIdp",$d(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="http://localhost";class zr extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Xd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xi(e,n)}buildRequest(){const e={requestUri:ER,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ko(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends E0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends bo{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zn.credential(e.oauthAccessToken)}catch{return null}}}zn.FACEBOOK_SIGN_IN_METHOD="facebook.com";zn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn extends bo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zr._fromParams({providerId:Wn.PROVIDER_ID,signInMethod:Wn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wn.credentialFromTaggedObject(e)}static credentialFromError(e){return Wn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wn.credential(n,r)}catch{return null}}}Wn.GOOGLE_SIGN_IN_METHOD="google.com";Wn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends bo{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gn.credential(e.oauthAccessToken)}catch{return null}}}Gn.GITHUB_SIGN_IN_METHOD="github.com";Gn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends bo{constructor(){super("twitter.com")}static credential(e,n){return zr._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.TWITTER_SIGN_IN_METHOD="twitter.com";Qn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pn._fromIdTokenResponse(e,r,i),o=yg(r);return new ji({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=yg(r);return new ji({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function yg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends bn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wl.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new wl(e,n,r,i)}}function w0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wl._fromErrorAndOperation(t,s,e,r):s})}async function wR(t,e,n=!1){const r=await Ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(Vr(r));const i="reauthenticate";try{const s=await Ao(t,w0(r,i,e,t),n);K(s.idToken,r,"internal-error");const o=ef(s.idToken);K(o,r,"internal-error");const{sub:l}=o;return K(t.uid===l,r,"user-mismatch"),ji._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e,n=!1){if(Jn(t.app))return Promise.reject(Vr(t));const r="signIn",i=await w0(t,r,e),s=await ji._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function SR(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function RR(t,e,n){return At(t).beforeAuthStateChanged(e,n)}const Il="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Il,"1"),this.storage.removeItem(Il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1e3,xR=10;class T0 extends I0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}T0.type="LOCAL";const kR=T0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends I0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S0.type="SESSION";const R0=S0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async h=>h(n.origin,s)),u=await PR(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=sf("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const A=p;if(A.data.eventId===h)switch(A.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(A.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return window}function NR(t){Jt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function DR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function OR(){return C0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",LR=1,Tl="firebaseLocalStorage",k0="fbase_key";class No{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nu(t,e){return t.transaction([Tl],e?"readwrite":"readonly").objectStore(Tl)}function MR(){const t=indexedDB.deleteDatabase(x0);return new No(t).toPromise()}function Dh(){const t=indexedDB.open(x0,LR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tl,{keyPath:k0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tl)?e(r):(r.close(),await MR(),e(await Dh()))})})}async function vg(t,e,n){const r=nu(t,!0).put({[k0]:e,value:n});return new No(r).toPromise()}async function jR(t,e){const n=nu(t,!1).get(e),r=await new No(n).toPromise();return r===void 0?null:r.value}function _g(t,e){const n=nu(t,!0).delete(e);return new No(n).toPromise()}const FR=800,UR=3;class P0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tu._getInstance(OR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new bR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dh();return await vg(e,Il,"1"),await _g(e,Il),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_g(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=nu(i,!1).getAll();return new No(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P0.type="LOCAL";const BR=P0;new Po(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){return e?mn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WR(t){return TR(t.auth,new of(t),t.bypassAuthState)}function GR(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),IR(n,new of(t),t.bypassAuthState)}async function QR(t){const{auth:e,user:n}=t;return K(n,e,"internal-error"),wR(n,new of(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WR;case"linkViaPopup":case"linkViaRedirect":return QR;case"reauthViaPopup":case"reauthViaRedirect":return GR;default:Sn(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Po(2e3,1e4);class vi extends b0{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vi.currentPopupAction&&vi.currentPopupAction.cancel(),vi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return K(e,this.auth,"internal-error"),e}async onExecution(){Rn(this.filter.length===1,"Popup operations only handle one event");const e=sf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HR.get())};e()}}vi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="pendingRedirect",ja=new Map;class KR extends b0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ja.get(this.auth._key());if(!e){try{const r=await JR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ja.set(this.auth._key(),e)}return this.bypassAuthState||ja.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JR(t,e){const n=ZR(e),r=YR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XR(t,e){ja.set(t._key(),e)}function YR(t){return mn(t._redirectPersistence)}function ZR(t){return Ma(qR,t.config.apiKey,t.name)}async function $R(t,e,n=!1){if(Jn(t.app))return Promise.reject(Vr(t));const r=nf(t),i=zR(r,e),o=await new KR(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=10*60*1e3;class tC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!N0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eg(e))}saveEventToCache(e){this.cachedEventUids.add(Eg(e)),this.lastProcessedEventTime=Date.now()}}function Eg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function N0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sC=/^https?/;async function oC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rC(t);for(const n of e)try{if(aC(n))return}catch{}Sn(t,"unauthorized-domain")}function aC(t){const e=bh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sC.test(n))return!1;if(iC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Po(3e4,6e4);function wg(){const t=Jt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uC(t){return new Promise((e,n)=>{var r,i,s;function o(){wg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wg(),n(Kt(t,"network-request-failed"))},timeout:lC.get()})}if(!((i=(r=Jt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jt().gapi)===null||s===void 0)&&s.load)o();else{const l=mR("iframefcb");return Jt()[l]=()=>{gapi.load?o():n(Kt(t,"network-request-failed"))},fR(`${pR()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Fa=null,e})}let Fa=null;function cC(t){return Fa=Fa||uC(t),Fa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Po(5e3,15e3),dC="__/auth/iframe",fC="emulator/auth/iframe",pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gC(t){const e=t.config;K(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zd(e,fC):`https://${t.config.authDomain}/${dC}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},i=mC.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ko(r).slice(1)}`}async function AC(t){const e=await cC(t),n=Jt().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:gC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kt(t,"network-request-failed"),l=Jt().setTimeout(()=>{s(o)},hC.get());function u(){Jt().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vC=500,_C=600,EC="_blank",wC="http://localhost";class Ig{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IC(t,e,n,r=vC,i=_C){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},yC),{width:r.toString(),height:i.toString(),top:s,left:o}),h=nt().toLowerCase();n&&(l=d0(h)?EC:n),c0(h)&&(e=e||wC,u.scrollbars="yes");const f=Object.entries(u).reduce((A,[R,k])=>`${A}${R}=${k},`,"");if(sR(h)&&l!=="_self")return TC(e||"",l),new Ig(null);const p=window.open(e||"",l,f);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Ig(p)}function TC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="__/auth/handler",RC="emulator/auth/handler",CC=encodeURIComponent("fac");async function Tg(t,e,n,r,i,s){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:i};if(e instanceof E0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof bo){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),h=u?`#${CC}=${encodeURIComponent(u)}`:"";return`${xC(t)}?${ko(l).slice(1)}${h}`}function xC({config:t}){return t.emulator?Zd(t,RC):`https://${t.authDomain}/${SC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="webStorageSupport";class kC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=$R,this._overrideRedirectResult=XR}async _openPopup(e,n,r,i){var s;Rn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Tg(e,n,r,bh(),i);return IC(e,o,sf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Tg(e,n,r,bh(),i);return NR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AC(e),r=new tC(e);return n.register("authEvent",i=>(K(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sc,{type:Sc},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Sc];o!==void 0&&n(!!o),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A0()||h0()||tf()}}const PC=kC;var Sg="@firebase/auth",Rg="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(t){Mi(new Br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y0(t)},h=new hR(r,i,s,u);return AR(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new Br("auth-internal",e=>{const n=nf(e.getProvider("auth").getImmediate());return(r=>new bC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(Sg,Rg,NC(t)),ar(Sg,Rg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=5*60,OC=Jv("authIdTokenMaxAge")||VC;let Cg=null;const LC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OC)return;const i=n==null?void 0:n.token;Cg!==i&&(Cg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MC(t=Zv()){const e=Jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gR(t,{popupRedirectResolver:PC,persistence:[BR,kR,R0]}),r=Jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=LC(s.toString());RR(n,o,()=>o(n.currentUser)),SR(n,l=>o(l))}}const i=qv("auth");return i&&yR(n,`http://${i}`),n}function jC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,D0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(T,C,b){for(var S=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)S[Qe-2]=arguments[Qe];return y.prototype[C].apply(T,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)T[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)T[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],C=E.g[2];var b=E.g[3],S=y+(b^w&(C^b))+T[0]+3614090360&4294967295;y=w+(S<<7&4294967295|S>>>25),S=b+(C^y&(w^C))+T[1]+3905402710&4294967295,b=y+(S<<12&4294967295|S>>>20),S=C+(w^b&(y^w))+T[2]+606105819&4294967295,C=b+(S<<17&4294967295|S>>>15),S=w+(y^C&(b^y))+T[3]+3250441966&4294967295,w=C+(S<<22&4294967295|S>>>10),S=y+(b^w&(C^b))+T[4]+4118548399&4294967295,y=w+(S<<7&4294967295|S>>>25),S=b+(C^y&(w^C))+T[5]+1200080426&4294967295,b=y+(S<<12&4294967295|S>>>20),S=C+(w^b&(y^w))+T[6]+2821735955&4294967295,C=b+(S<<17&4294967295|S>>>15),S=w+(y^C&(b^y))+T[7]+4249261313&4294967295,w=C+(S<<22&4294967295|S>>>10),S=y+(b^w&(C^b))+T[8]+1770035416&4294967295,y=w+(S<<7&4294967295|S>>>25),S=b+(C^y&(w^C))+T[9]+2336552879&4294967295,b=y+(S<<12&4294967295|S>>>20),S=C+(w^b&(y^w))+T[10]+4294925233&4294967295,C=b+(S<<17&4294967295|S>>>15),S=w+(y^C&(b^y))+T[11]+2304563134&4294967295,w=C+(S<<22&4294967295|S>>>10),S=y+(b^w&(C^b))+T[12]+1804603682&4294967295,y=w+(S<<7&4294967295|S>>>25),S=b+(C^y&(w^C))+T[13]+4254626195&4294967295,b=y+(S<<12&4294967295|S>>>20),S=C+(w^b&(y^w))+T[14]+2792965006&4294967295,C=b+(S<<17&4294967295|S>>>15),S=w+(y^C&(b^y))+T[15]+1236535329&4294967295,w=C+(S<<22&4294967295|S>>>10),S=y+(C^b&(w^C))+T[1]+4129170786&4294967295,y=w+(S<<5&4294967295|S>>>27),S=b+(w^C&(y^w))+T[6]+3225465664&4294967295,b=y+(S<<9&4294967295|S>>>23),S=C+(y^w&(b^y))+T[11]+643717713&4294967295,C=b+(S<<14&4294967295|S>>>18),S=w+(b^y&(C^b))+T[0]+3921069994&4294967295,w=C+(S<<20&4294967295|S>>>12),S=y+(C^b&(w^C))+T[5]+3593408605&4294967295,y=w+(S<<5&4294967295|S>>>27),S=b+(w^C&(y^w))+T[10]+38016083&4294967295,b=y+(S<<9&4294967295|S>>>23),S=C+(y^w&(b^y))+T[15]+3634488961&4294967295,C=b+(S<<14&4294967295|S>>>18),S=w+(b^y&(C^b))+T[4]+3889429448&4294967295,w=C+(S<<20&4294967295|S>>>12),S=y+(C^b&(w^C))+T[9]+568446438&4294967295,y=w+(S<<5&4294967295|S>>>27),S=b+(w^C&(y^w))+T[14]+3275163606&4294967295,b=y+(S<<9&4294967295|S>>>23),S=C+(y^w&(b^y))+T[3]+4107603335&4294967295,C=b+(S<<14&4294967295|S>>>18),S=w+(b^y&(C^b))+T[8]+1163531501&4294967295,w=C+(S<<20&4294967295|S>>>12),S=y+(C^b&(w^C))+T[13]+2850285829&4294967295,y=w+(S<<5&4294967295|S>>>27),S=b+(w^C&(y^w))+T[2]+4243563512&4294967295,b=y+(S<<9&4294967295|S>>>23),S=C+(y^w&(b^y))+T[7]+1735328473&4294967295,C=b+(S<<14&4294967295|S>>>18),S=w+(b^y&(C^b))+T[12]+2368359562&4294967295,w=C+(S<<20&4294967295|S>>>12),S=y+(w^C^b)+T[5]+4294588738&4294967295,y=w+(S<<4&4294967295|S>>>28),S=b+(y^w^C)+T[8]+2272392833&4294967295,b=y+(S<<11&4294967295|S>>>21),S=C+(b^y^w)+T[11]+1839030562&4294967295,C=b+(S<<16&4294967295|S>>>16),S=w+(C^b^y)+T[14]+4259657740&4294967295,w=C+(S<<23&4294967295|S>>>9),S=y+(w^C^b)+T[1]+2763975236&4294967295,y=w+(S<<4&4294967295|S>>>28),S=b+(y^w^C)+T[4]+1272893353&4294967295,b=y+(S<<11&4294967295|S>>>21),S=C+(b^y^w)+T[7]+4139469664&4294967295,C=b+(S<<16&4294967295|S>>>16),S=w+(C^b^y)+T[10]+3200236656&4294967295,w=C+(S<<23&4294967295|S>>>9),S=y+(w^C^b)+T[13]+681279174&4294967295,y=w+(S<<4&4294967295|S>>>28),S=b+(y^w^C)+T[0]+3936430074&4294967295,b=y+(S<<11&4294967295|S>>>21),S=C+(b^y^w)+T[3]+3572445317&4294967295,C=b+(S<<16&4294967295|S>>>16),S=w+(C^b^y)+T[6]+76029189&4294967295,w=C+(S<<23&4294967295|S>>>9),S=y+(w^C^b)+T[9]+3654602809&4294967295,y=w+(S<<4&4294967295|S>>>28),S=b+(y^w^C)+T[12]+3873151461&4294967295,b=y+(S<<11&4294967295|S>>>21),S=C+(b^y^w)+T[15]+530742520&4294967295,C=b+(S<<16&4294967295|S>>>16),S=w+(C^b^y)+T[2]+3299628645&4294967295,w=C+(S<<23&4294967295|S>>>9),S=y+(C^(w|~b))+T[0]+4096336452&4294967295,y=w+(S<<6&4294967295|S>>>26),S=b+(w^(y|~C))+T[7]+1126891415&4294967295,b=y+(S<<10&4294967295|S>>>22),S=C+(y^(b|~w))+T[14]+2878612391&4294967295,C=b+(S<<15&4294967295|S>>>17),S=w+(b^(C|~y))+T[5]+4237533241&4294967295,w=C+(S<<21&4294967295|S>>>11),S=y+(C^(w|~b))+T[12]+1700485571&4294967295,y=w+(S<<6&4294967295|S>>>26),S=b+(w^(y|~C))+T[3]+2399980690&4294967295,b=y+(S<<10&4294967295|S>>>22),S=C+(y^(b|~w))+T[10]+4293915773&4294967295,C=b+(S<<15&4294967295|S>>>17),S=w+(b^(C|~y))+T[1]+2240044497&4294967295,w=C+(S<<21&4294967295|S>>>11),S=y+(C^(w|~b))+T[8]+1873313359&4294967295,y=w+(S<<6&4294967295|S>>>26),S=b+(w^(y|~C))+T[15]+4264355552&4294967295,b=y+(S<<10&4294967295|S>>>22),S=C+(y^(b|~w))+T[6]+2734768916&4294967295,C=b+(S<<15&4294967295|S>>>17),S=w+(b^(C|~y))+T[13]+1309151649&4294967295,w=C+(S<<21&4294967295|S>>>11),S=y+(C^(w|~b))+T[4]+4149444226&4294967295,y=w+(S<<6&4294967295|S>>>26),S=b+(w^(y|~C))+T[11]+3174756917&4294967295,b=y+(S<<10&4294967295|S>>>22),S=C+(y^(b|~w))+T[2]+718787259&4294967295,C=b+(S<<15&4294967295|S>>>17),S=w+(b^(C|~y))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(S<<21&4294967295|S>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,T=this.B,C=this.h,b=0;b<y;){if(C==0)for(;b<=w;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(T[C++]=E.charCodeAt(b++),C==this.blockSize){i(this,T),C=0;break}}else for(;b<y;)if(T[C++]=E[b++],C==this.blockSize){i(this,T),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)E[w++]=this.g[y]>>>T&255;return E};function s(E,y){var w=l;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function o(E,y){this.h=y;for(var w=[],T=!0,C=E.length-1;0<=C;C--){var b=E[C]|0;T&&b==y||(w[C]=b,T=!1)}this.g=w}var l={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return x(h(-E));for(var y=[],w=1,T=0;E>=w;T++)y[T]=E/w|0,w*=4294967296;return new o(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return x(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(y,8)),T=p,C=0;C<E.length;C+=8){var b=Math.min(8,E.length-C),S=parseInt(E.substring(C,C+b),y);8>b?(b=h(Math.pow(y,b)),T=T.j(b).add(h(S))):(T=T.j(w),T=T.add(h(S)))}return T}var p=u(0),A=u(1),R=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-x(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);E+=(0<=T?T:4294967296+T)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(k(this))return"0";if(P(this))return"-"+x(this).toString(E);for(var y=h(Math.pow(E,6)),w=this,T="";;){var C=V(w,y).g;w=v(w,C.j(y));var b=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,k(w))return b+T;for(;6>b.length;)b="0"+b;T=b+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function k(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=v(this,E),P(E)?-1:k(E)?0:1};function x(E){for(var y=E.g.length,w=[],T=0;T<y;T++)w[T]=~E.g[T];return new o(w,~E.h).add(A)}t.abs=function(){return P(this)?x(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0,C=0;C<=y;C++){var b=T+(this.i(C)&65535)+(E.i(C)&65535),S=(b>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);T=S>>>16,b&=65535,S&=65535,w[C]=S<<16|b}return new o(w,w[w.length-1]&-2147483648?-1:0)};function v(E,y){return E.add(x(y))}t.j=function(E){if(k(this)||k(E))return p;if(P(this))return P(E)?x(this).j(x(E)):x(x(this).j(E));if(P(E))return x(this.j(x(E)));if(0>this.l(R)&&0>E.l(R))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<E.g.length;C++){var b=this.i(T)>>>16,S=this.i(T)&65535,Qe=E.i(C)>>>16,$=E.i(C)&65535;w[2*T+2*C]+=S*$,g(w,2*T+2*C),w[2*T+2*C+1]+=b*$,g(w,2*T+2*C+1),w[2*T+2*C+1]+=S*Qe,g(w,2*T+2*C+1),w[2*T+2*C+2]+=b*Qe,g(w,2*T+2*C+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new o(w,0)};function g(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function I(E,y){this.g=E,this.h=y}function V(E,y){if(k(y))throw Error("division by zero");if(k(E))return new I(p,p);if(P(E))return y=V(x(E),y),new I(x(y.g),x(y.h));if(P(y))return y=V(E,x(y)),new I(x(y.g),y.h);if(30<E.g.length){if(P(E)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=A,T=y;0>=T.l(E);)w=F(w),T=F(T);var C=D(w,1),b=D(T,1);for(T=D(T,2),w=D(w,2);!k(T);){var S=b.add(T);0>=S.l(E)&&(C=C.add(w),b=S),T=D(T,1),w=D(w,1)}return y=v(E,C.j(y)),new I(C,y)}for(C=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),b=h(w),S=b.j(y);P(S)||0<S.l(E);)w-=T,b=h(w),S=b.j(y);k(b)&&(b=A),C=C.add(b),E=v(E,S)}return new I(C,E)}t.A=function(E){return V(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&E.i(T);return new o(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|E.i(T);return new o(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^E.i(T);return new o(w,this.h^E.h)};function F(E){for(var y=E.g.length+1,w=[],T=0;T<y;T++)w[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(w,E.h)}function D(E,y){var w=y>>5;y%=32;for(var T=E.g.length-w,C=[],b=0;b<T;b++)C[b]=0<y?E.i(b+w)>>>y|E.i(b+w+1)<<32-y:E.i(b+w);return new o(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,D0=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Or=o}).apply(typeof xg<"u"?xg:typeof self<"u"?self:typeof window<"u"?window:{});var va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,bs,O0,Ua,Vh,L0,M0,j0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,d){return a==Array.prototype||a==Object.prototype||(a[c]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof va=="object"&&va];for(var c=0;c<a.length;++c){var d=a[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,c){if(c)e:{var d=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var N=a[m];if(!(N in d))break e;d=d[N]}a=a[a.length-1],m=d[a],c=c(m),c!=m&&c!=null&&e(d,a,{configurable:!0,writable:!0,value:c})}}function s(a,c){a instanceof String&&(a+="");var d=0,m=!1,N={next:function(){if(!m&&d<a.length){var O=d++;return{value:c(O,a[O]),done:!1}}return m=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(a){return a||function(){return s(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var c=typeof a;return c=c!="object"?c:a?Array.isArray(a)?"array":c:"null",c=="array"||c=="object"&&typeof a.length=="number"}function h(a){var c=typeof a;return c=="object"&&a!=null||c=="function"}function f(a,c,d){return a.call.apply(a.bind,arguments)}function p(a,c,d){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,m),a.apply(c,N)}}return function(){return a.apply(c,arguments)}}function A(a,c,d){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,A.apply(null,arguments)}function R(a,c){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function k(a,c){function d(){}d.prototype=c.prototype,a.aa=c.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(m,N,O){for(var B=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)B[ce-2]=arguments[ce];return c.prototype[N].apply(m,B)}}function P(a){const c=a.length;if(0<c){const d=Array(c);for(let m=0;m<c;m++)d[m]=a[m];return d}return[]}function x(a,c){for(let d=1;d<arguments.length;d++){const m=arguments[d];if(u(m)){const N=a.length||0,O=m.length||0;a.length=N+O;for(let B=0;B<O;B++)a[N+B]=m[B]}else a.push(m)}}class v{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function g(a){return/^[\s\xa0]*$/.test(a)}function I(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var F=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function D(a,c,d){for(const m in a)c.call(d,a[m],m,a)}function E(a,c){for(const d in a)c.call(void 0,a[d],d,a)}function y(a){const c={};for(const d in a)c[d]=a[d];return c}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,c){let d,m;for(let N=1;N<arguments.length;N++){m=arguments[N];for(d in m)a[d]=m[d];for(let O=0;O<w.length;O++)d=w[O],Object.prototype.hasOwnProperty.call(m,d)&&(a[d]=m[d])}}function C(a){var c=1;a=a.split(":");const d=[];for(;0<c&&a.length;)d.push(a.shift()),c--;return a.length&&d.push(a.join(":")),d}function b(a){l.setTimeout(()=>{throw a},0)}function S(){var a=J;let c=null;return a.g&&(c=a.g,a.g=a.g.next,a.g||(a.h=null),c.next=null),c}class Qe{constructor(){this.h=this.g=null}add(c,d){const m=$.get();m.set(c,d),this.h?this.h.next=m:this.g=m,this.h=m}}var $=new v(()=>new Dt,a=>a.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let tn,z=!1,J=new Qe,Z=()=>{const a=l.Promise.resolve(void 0);tn=()=>{a.then(Ae)}};var Ae=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(d){b(d)}var c=$;c.j(a),100>c.h&&(c.h++,a.next=c.g,c.g=a)}z=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(a,c){this.type=a,this.g=this.target=c,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var nn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,c=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return a}();function rn(a,c){if(Te.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=c,c=a.relatedTarget){if(F){e:{try{V(c.nodeName);var N=!0;break e}catch{}N=!1}N||(c=null)}}else d=="mouseover"?c=a.fromElement:d=="mouseout"&&(c=a.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:sn[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&rn.aa.h.call(this)}}k(rn,Te);var sn={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),iE=0;function sE(a,c,d,m,N){this.listener=a,this.proxy=null,this.src=c,this.type=d,this.capture=!!m,this.ha=N,this.key=++iE,this.da=this.fa=!1}function Mo(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function jo(a){this.src=a,this.g={},this.h=0}jo.prototype.add=function(a,c,d,m,N){var O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);var B=Tu(a,c,m,N);return-1<B?(c=a[B],d||(c.fa=!1)):(c=new sE(c,this.src,O,!!m,N),c.fa=d,a.push(c)),c};function Iu(a,c){var d=c.type;if(d in a.g){var m=a.g[d],N=Array.prototype.indexOf.call(m,c,void 0),O;(O=0<=N)&&Array.prototype.splice.call(m,N,1),O&&(Mo(c),a.g[d].length==0&&(delete a.g[d],a.h--))}}function Tu(a,c,d,m){for(var N=0;N<a.length;++N){var O=a[N];if(!O.da&&O.listener==c&&O.capture==!!d&&O.ha==m)return N}return-1}var Su="closure_lm_"+(1e6*Math.random()|0),Ru={};function Mf(a,c,d,m,N){if(Array.isArray(c)){for(var O=0;O<c.length;O++)Mf(a,c[O],d,m,N);return null}return d=Uf(d),a&&a[on]?a.K(c,d,h(m)?!!m.capture:!!m,N):oE(a,c,d,!1,m,N)}function oE(a,c,d,m,N,O){if(!c)throw Error("Invalid event type");var B=h(N)?!!N.capture:!!N,ce=xu(a);if(ce||(a[Su]=ce=new jo(a)),d=ce.add(c,d,m,B,O),d.proxy)return d;if(m=aE(),d.proxy=m,m.src=a,m.listener=d,a.addEventListener)nn||(N=B),N===void 0&&(N=!1),a.addEventListener(c.toString(),m,N);else if(a.attachEvent)a.attachEvent(Ff(c.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function aE(){function a(d){return c.call(a.src,a.listener,d)}const c=lE;return a}function jf(a,c,d,m,N){if(Array.isArray(c))for(var O=0;O<c.length;O++)jf(a,c[O],d,m,N);else m=h(m)?!!m.capture:!!m,d=Uf(d),a&&a[on]?(a=a.i,c=String(c).toString(),c in a.g&&(O=a.g[c],d=Tu(O,d,m,N),-1<d&&(Mo(O[d]),Array.prototype.splice.call(O,d,1),O.length==0&&(delete a.g[c],a.h--)))):a&&(a=xu(a))&&(c=a.g[c.toString()],a=-1,c&&(a=Tu(c,d,m,N)),(d=-1<a?c[a]:null)&&Cu(d))}function Cu(a){if(typeof a!="number"&&a&&!a.da){var c=a.src;if(c&&c[on])Iu(c.i,a);else{var d=a.type,m=a.proxy;c.removeEventListener?c.removeEventListener(d,m,a.capture):c.detachEvent?c.detachEvent(Ff(d),m):c.addListener&&c.removeListener&&c.removeListener(m),(d=xu(c))?(Iu(d,a),d.h==0&&(d.src=null,c[Su]=null)):Mo(a)}}}function Ff(a){return a in Ru?Ru[a]:Ru[a]="on"+a}function lE(a,c){if(a.da)a=!0;else{c=new rn(c,this);var d=a.listener,m=a.ha||a.src;a.fa&&Cu(a),a=d.call(m,c)}return a}function xu(a){return a=a[Su],a instanceof jo?a:null}var ku="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uf(a){return typeof a=="function"?a:(a[ku]||(a[ku]=function(c){return a.handleEvent(c)}),a[ku])}function He(){ue.call(this),this.i=new jo(this),this.M=this,this.F=null}k(He,ue),He.prototype[on]=!0,He.prototype.removeEventListener=function(a,c,d,m){jf(this,a,c,d,m)};function rt(a,c){var d,m=a.F;if(m)for(d=[];m;m=m.F)d.push(m);if(a=a.M,m=c.type||c,typeof c=="string")c=new Te(c,a);else if(c instanceof Te)c.target=c.target||a;else{var N=c;c=new Te(m,a),T(c,N)}if(N=!0,d)for(var O=d.length-1;0<=O;O--){var B=c.g=d[O];N=Fo(B,m,!0,c)&&N}if(B=c.g=a,N=Fo(B,m,!0,c)&&N,N=Fo(B,m,!1,c)&&N,d)for(O=0;O<d.length;O++)B=c.g=d[O],N=Fo(B,m,!1,c)&&N}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var a=this.i,c;for(c in a.g){for(var d=a.g[c],m=0;m<d.length;m++)Mo(d[m]);delete a.g[c],a.h--}}this.F=null},He.prototype.K=function(a,c,d,m){return this.i.add(String(a),c,!1,d,m)},He.prototype.L=function(a,c,d,m){return this.i.add(String(a),c,!0,d,m)};function Fo(a,c,d,m){if(c=a.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,O=0;O<c.length;++O){var B=c[O];if(B&&!B.da&&B.capture==d){var ce=B.listener,je=B.ha||B.src;B.fa&&Iu(a.i,B),N=ce.call(je,m)!==!1&&N}}return N&&!m.defaultPrevented}function Bf(a,c,d){if(typeof a=="function")d&&(a=A(a,d));else if(a&&typeof a.handleEvent=="function")a=A(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(a,c||0)}function zf(a){a.g=Bf(()=>{a.g=null,a.i&&(a.i=!1,zf(a))},a.l);const c=a.h;a.h=null,a.m.apply(null,c)}class uE extends ue{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:zf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(a){ue.call(this),this.h=a,this.g={}}k(os,ue);var Wf=[];function Gf(a){D(a.g,function(c,d){this.g.hasOwnProperty(d)&&Cu(c)},a),a.g={}}os.prototype.N=function(){os.aa.N.call(this),Gf(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pu=l.JSON.stringify,cE=l.JSON.parse,hE=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function bu(){}bu.prototype.h=null;function Qf(a){return a.h||(a.h=a.i())}function Hf(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nu(){Te.call(this,"d")}k(Nu,Te);function Du(){Te.call(this,"c")}k(Du,Te);var _r={},qf=null;function Uo(){return qf=qf||new He}_r.La="serverreachability";function Kf(a){Te.call(this,_r.La,a)}k(Kf,Te);function ls(a){const c=Uo();rt(c,new Kf(c))}_r.STAT_EVENT="statevent";function Jf(a,c){Te.call(this,_r.STAT_EVENT,a),this.stat=c}k(Jf,Te);function it(a){const c=Uo();rt(c,new Jf(c,a))}_r.Ma="timingevent";function Xf(a,c){Te.call(this,_r.Ma,a),this.size=c}k(Xf,Te);function us(a,c){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},c)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function dE(a,c,d,m,N,O){a.info(function(){if(a.g)if(O)for(var B="",ce=O.split("&"),je=0;je<ce.length;je++){var oe=ce[je].split("=");if(1<oe.length){var qe=oe[0];oe=oe[1];var Ke=qe.split("_");B=2<=Ke.length&&Ke[1]=="type"?B+(qe+"="+oe+"&"):B+(qe+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+m+") [attempt "+N+"]: "+c+`
`+d+`
`+B})}function fE(a,c,d,m,N,O,B){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+N+"]: "+c+`
`+d+`
`+O+" "+B})}function Zr(a,c,d,m){a.info(function(){return"XMLHTTP TEXT ("+c+"): "+mE(a,d)+(m?" "+m:"")})}function pE(a,c){a.info(function(){return"TIMEOUT: "+c})}cs.prototype.info=function(){};function mE(a,c){if(!a.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var m=d[a];if(!(2>m.length)){var N=m[1];if(Array.isArray(N)&&!(1>N.length)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<N.length;B++)N[B]=""}}}}return Pu(d)}catch{return c}}var Bo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vu;function zo(){}k(zo,bu),zo.prototype.g=function(){return new XMLHttpRequest},zo.prototype.i=function(){return{}},Vu=new zo;function Dn(a,c,d,m){this.j=a,this.i=c,this.l=d,this.R=m||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zf}function Zf(){this.i=null,this.g="",this.h=!1}var $f={},Ou={};function Lu(a,c,d){a.L=1,a.v=Ho(an(c)),a.m=d,a.P=!0,ep(a,null)}function ep(a,c){a.F=Date.now(),Wo(a),a.A=an(a.v);var d=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),pp(d.i,"t",m),a.C=0,d=a.j.J,a.h=new Zf,a.g=Np(a.j,d?c:null,!a.m),0<a.O&&(a.M=new uE(A(a.Y,a,a.g),a.O)),c=a.U,d=a.g,m=a.ca;var N="readystatechange";Array.isArray(N)||(N&&(Wf[0]=N.toString()),N=Wf);for(var O=0;O<N.length;O++){var B=Mf(d,N[O],m||c.handleEvent,!1,c.h||c);if(!B)break;c.g[B.key]=B}c=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,c)):(a.u="GET",a.g.ea(a.A,a.u,null,c)),ls(),dE(a.i,a.u,a.A,a.l,a.R,a.m)}Dn.prototype.ca=function(a){a=a.target;const c=this.M;c&&ln(a)==3?c.j():this.Y(a)},Dn.prototype.Y=function(a){try{if(a==this.g)e:{const Ke=ln(this.g);var c=this.g.Ba();const ti=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||Ep(this.g)))){this.J||Ke!=4||c==7||(c==8||0>=ti?ls(3):ls(2)),Mu(this);var d=this.g.Z();this.X=d;t:if(tp(this)){var m=Ep(this.g);a="";var N=m.length,O=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),hs(this);var B="";break t}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,a+=this.h.i.decode(m[c],{stream:!(O&&c==N-1)});m.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=d==200,fE(this.i,this.u,this.A,this.l,this.R,Ke,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ce,je=this.g;if((ce=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ce)){var oe=ce;break t}}oe=null}if(d=oe)Zr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ju(this,d);else{this.o=!1,this.s=3,it(12),Er(this),hs(this);break e}}if(this.P){d=!0;let Vt;for(;!this.J&&this.C<B.length;)if(Vt=gE(this,B),Vt==Ou){Ke==4&&(this.s=4,it(14),d=!1),Zr(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==$f){this.s=4,it(15),Zr(this.i,this.l,B,"[Invalid Chunk]"),d=!1;break}else Zr(this.i,this.l,Vt,null),ju(this,Vt);if(tp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||B.length!=0||this.h.h||(this.s=1,it(16),d=!1),this.o=this.o&&d,!d)Zr(this.i,this.l,B,"[Invalid Chunked Response]"),Er(this),hs(this);else if(0<B.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Gu(qe),qe.M=!0,it(11))}}else Zr(this.i,this.l,B,null),ju(this,B);Ke==4&&Er(this),this.o&&!this.J&&(Ke==4?xp(this.j,this):(this.o=!1,Wo(this)))}else DE(this.g),d==400&&0<B.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Er(this),hs(this)}}}catch{}finally{}};function tp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function gE(a,c){var d=a.C,m=c.indexOf(`
`,d);return m==-1?Ou:(d=Number(c.substring(d,m)),isNaN(d)?$f:(m+=1,m+d>c.length?Ou:(c=c.slice(m,m+d),a.C=m+d,c)))}Dn.prototype.cancel=function(){this.J=!0,Er(this)};function Wo(a){a.S=Date.now()+a.I,np(a,a.I)}function np(a,c){if(a.B!=null)throw Error("WatchDog timer not null");a.B=us(A(a.ba,a),c)}function Mu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Dn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(pE(this.i,this.A),this.L!=2&&(ls(),it(17)),Er(this),this.s=2,hs(this)):np(this,this.S-a)};function hs(a){a.j.G==0||a.J||xp(a.j,a)}function Er(a){Mu(a);var c=a.M;c&&typeof c.ma=="function"&&c.ma(),a.M=null,Gf(a.U),a.g&&(c=a.g,a.g=null,c.abort(),c.ma())}function ju(a,c){try{var d=a.j;if(d.G!=0&&(d.g==a||Fu(d.h,a))){if(!a.K&&Fu(d.h,a)&&d.G==3){try{var m=d.Da.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var N=m;if(N[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Zo(d),Xo(d);else break e;Wu(d),it(18)}}else d.za=N[1],0<d.za-d.T&&37500>N[2]&&d.F&&d.v==0&&!d.C&&(d.C=us(A(d.Za,d),6e3));if(1>=sp(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Ir(d,11)}else if((a.K||d.g==a)&&Zo(d),!g(c))for(N=d.Da.g.parse(c),c=0;c<N.length;c++){let oe=N[c];if(d.T=oe[0],oe=oe[1],d.G==2)if(oe[0]=="c"){d.K=oe[1],d.ia=oe[2];const qe=oe[3];qe!=null&&(d.la=qe,d.j.info("VER="+d.la));const Ke=oe[4];Ke!=null&&(d.Aa=Ke,d.j.info("SVER="+d.Aa));const ti=oe[5];ti!=null&&typeof ti=="number"&&0<ti&&(m=1.5*ti,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const Vt=a.g;if(Vt){const ea=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var O=m.h;O.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Uu(O,O.h),O.h=null))}if(m.D){const Qu=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Qu&&(m.ya=Qu,de(m.I,m.D,Qu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var B=a;if(m.qa=bp(m,m.J?m.ia:null,m.W),B.K){op(m.h,B);var ce=B,je=m.L;je&&(ce.I=je),ce.B&&(Mu(ce),Wo(ce)),m.g=B}else Rp(m);0<d.i.length&&Yo(d)}else oe[0]!="stop"&&oe[0]!="close"||Ir(d,7);else d.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?Ir(d,7):zu(d):oe[0]!="noop"&&d.l&&d.l.ta(oe),d.v=0)}}ls(4)}catch{}}var AE=class{constructor(a,c){this.g=a,this.map=c}};function rp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ip(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function sp(a){return a.h?1:a.g?a.g.size:0}function Fu(a,c){return a.h?a.h==c:a.g?a.g.has(c):!1}function Uu(a,c){a.g?a.g.add(c):a.h=c}function op(a,c){a.h&&a.h==c?a.h=null:a.g&&a.g.has(c)&&a.g.delete(c)}rp.prototype.cancel=function(){if(this.i=ap(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ap(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let c=a.i;for(const d of a.g.values())c=c.concat(d.D);return c}return P(a.i)}function yE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var c=[],d=a.length,m=0;m<d;m++)c.push(a[m]);return c}c=[],d=0;for(m in a)c[d++]=a[m];return c}function vE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var c=[];a=a.length;for(var d=0;d<a;d++)c.push(d);return c}c=[],d=0;for(const m in a)c[d++]=m;return c}}}function lp(a,c){if(a.forEach&&typeof a.forEach=="function")a.forEach(c,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,c,void 0);else for(var d=vE(a),m=yE(a),N=m.length,O=0;O<N;O++)c.call(void 0,m[O],d&&d[O],a)}var up=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _E(a,c){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var m=a[d].indexOf("="),N=null;if(0<=m){var O=a[d].substring(0,m);N=a[d].substring(m+1)}else O=a[d];c(O,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function wr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof wr){this.h=a.h,Go(this,a.j),this.o=a.o,this.g=a.g,Qo(this,a.s),this.l=a.l;var c=a.i,d=new ps;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),cp(this,d),this.m=a.m}else a&&(c=String(a).match(up))?(this.h=!1,Go(this,c[1]||"",!0),this.o=ds(c[2]||""),this.g=ds(c[3]||"",!0),Qo(this,c[4]),this.l=ds(c[5]||"",!0),cp(this,c[6]||"",!0),this.m=ds(c[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}wr.prototype.toString=function(){var a=[],c=this.j;c&&a.push(fs(c,hp,!0),":");var d=this.g;return(d||c=="file")&&(a.push("//"),(c=this.o)&&a.push(fs(c,hp,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(fs(d,d.charAt(0)=="/"?IE:wE,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",fs(d,SE)),a.join("")};function an(a){return new wr(a)}function Go(a,c,d){a.j=d?ds(c,!0):c,a.j&&(a.j=a.j.replace(/:$/,""))}function Qo(a,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);a.s=c}else a.s=null}function cp(a,c,d){c instanceof ps?(a.i=c,RE(a.i,a.h)):(d||(c=fs(c,TE)),a.i=new ps(c,a.h))}function de(a,c,d){a.i.set(c,d)}function Ho(a){return de(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ds(a,c){return a?c?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function fs(a,c,d){return typeof a=="string"?(a=encodeURI(a).replace(c,EE),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function EE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hp=/[#\/\?@]/g,wE=/[#\?:]/g,IE=/[#\?]/g,TE=/[#\?@]/g,SE=/#/g;function ps(a,c){this.h=this.g=null,this.i=a||null,this.j=!!c}function Vn(a){a.g||(a.g=new Map,a.h=0,a.i&&_E(a.i,function(c,d){a.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=ps.prototype,t.add=function(a,c){Vn(this),this.i=null,a=$r(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(c),this.h+=1,this};function dp(a,c){Vn(a),c=$r(a,c),a.g.has(c)&&(a.i=null,a.h-=a.g.get(c).length,a.g.delete(c))}function fp(a,c){return Vn(a),c=$r(a,c),a.g.has(c)}t.forEach=function(a,c){Vn(this),this.g.forEach(function(d,m){d.forEach(function(N){a.call(c,N,m,this)},this)},this)},t.na=function(){Vn(this);const a=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let m=0;m<c.length;m++){const N=a[m];for(let O=0;O<N.length;O++)d.push(c[m])}return d},t.V=function(a){Vn(this);let c=[];if(typeof a=="string")fp(this,a)&&(c=c.concat(this.g.get($r(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)c=c.concat(a[d])}return c},t.set=function(a,c){return Vn(this),this.i=null,a=$r(this,a),fp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[c]),this.h+=1,this},t.get=function(a,c){return a?(a=this.V(a),0<a.length?String(a[0]):c):c};function pp(a,c,d){dp(a,c),0<d.length&&(a.i=null,a.g.set($r(a,c),P(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var m=c[d];const O=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var N=O;B[m]!==""&&(N+="="+encodeURIComponent(String(B[m]))),a.push(N)}}return this.i=a.join("&")};function $r(a,c){return c=String(c),a.j&&(c=c.toLowerCase()),c}function RE(a,c){c&&!a.j&&(Vn(a),a.i=null,a.g.forEach(function(d,m){var N=m.toLowerCase();m!=N&&(dp(this,m),pp(this,N,d))},a)),a.j=c}function CE(a,c){const d=new cs;if(l.Image){const m=new Image;m.onload=R(On,d,"TestLoadImage: loaded",!0,c,m),m.onerror=R(On,d,"TestLoadImage: error",!1,c,m),m.onabort=R(On,d,"TestLoadImage: abort",!1,c,m),m.ontimeout=R(On,d,"TestLoadImage: timeout",!1,c,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else c(!1)}function xE(a,c){const d=new cs,m=new AbortController,N=setTimeout(()=>{m.abort(),On(d,"TestPingServer: timeout",!1,c)},1e4);fetch(a,{signal:m.signal}).then(O=>{clearTimeout(N),O.ok?On(d,"TestPingServer: ok",!0,c):On(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),On(d,"TestPingServer: error",!1,c)})}function On(a,c,d,m,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),m(d)}catch{}}function kE(){this.g=new hE}function PE(a,c,d){const m=d||"";try{lp(a,function(N,O){let B=N;h(N)&&(B=Pu(N)),c.push(m+O+"="+encodeURIComponent(B))})}catch(N){throw c.push(m+"type="+encodeURIComponent("_badmap")),N}}function qo(a){this.l=a.Ub||null,this.j=a.eb||!1}k(qo,bu),qo.prototype.g=function(){return new Ko(this.l,this.j)},qo.prototype.i=function(a){return function(){return a}}({});function Ko(a,c){He.call(this),this.D=a,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ko,He),t=Ko.prototype,t.open=function(a,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=c,this.readyState=1,gs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(c.body=a),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function mp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var c=a.value?a.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!a.done}))&&(this.response=this.responseText+=c)}a.done?ms(this):gs(this),this.readyState==3&&mp(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ms(this))},t.Qa=function(a){this.g&&(this.response=a,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(a){a.readyState=4,a.l=null,a.j=null,a.v=null,gs(a)}t.setRequestHeader=function(a,c){this.u.append(a,c)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=c.next();return a.join(`\r
`)};function gs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function gp(a){let c="";return D(a,function(d,m){c+=m,c+=":",c+=d,c+=`\r
`}),c}function Bu(a,c,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=gp(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):de(a,c,d))}function we(a){He.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(we,He);var bE=/^https?$/i,NE=["POST","PUT"];t=we.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,c,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);c=c?c.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vu.g(),this.v=this.o?Qf(this.o):Qf(Vu),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(c,String(a),!0),this.B=!1}catch(O){Ap(this,O);return}if(a=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var N in m)d.set(N,m[N]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const O of m.keys())d.set(O,m.get(O));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(O=>O.toLowerCase()=="content-type"),N=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(NE,c,void 0))||m||N||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of d)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_p(this),this.u=!0,this.g.send(a),this.u=!1}catch(O){Ap(this,O)}};function Ap(a,c){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=c,a.m=5,yp(a),Jo(a)}function yp(a){a.A||(a.A=!0,rt(a,"complete"),rt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,rt(this,"complete"),rt(this,"abort"),Jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jo(this,!0)),we.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vp(this):this.bb())},t.bb=function(){vp(this)};function vp(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ln(a)!=4||a.Z()!=2)){if(a.u&&ln(a)==4)Bf(a.Ea,0,a);else if(rt(a,"readystatechange"),ln(a)==4){a.h=!1;try{const B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var m;if(m=B===0){var N=String(a.D).match(up)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),m=!bE.test(N?N.toLowerCase():"")}d=m}if(d)rt(a,"complete"),rt(a,"success");else{a.m=6;try{var O=2<ln(a)?a.g.statusText:""}catch{O=""}a.l=O+" ["+a.Z()+"]",yp(a)}}finally{Jo(a)}}}}function Jo(a,c){if(a.g){_p(a);const d=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,c||rt(a,"ready");try{d.onreadystatechange=m}catch{}}}function _p(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var c=this.g.responseText;return a&&c.indexOf(a)==0&&(c=c.substring(a.length)),cE(c)}};function Ep(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function DE(a){const c={};a=(a.g&&2<=ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(g(a[m]))continue;var d=C(a[m]);const N=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const O=c[N]||[];c[N]=O,O.push(d)}E(c,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(a,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||c}function wp(a){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,a),this.cb=As("retryDelaySeedMs",1e4,a),this.Wa=As("forwardChannelMaxRetries",2,a),this.wa=As("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new rp(a&&a.concurrentRequestLimit),this.Da=new kE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wp.prototype,t.la=8,t.G=1,t.connect=function(a,c,d,m){it(0),this.W=a,this.H=c||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=bp(this,null,this.W),Yo(this)};function zu(a){if(Ip(a),a.G==3){var c=a.U++,d=an(a.I);if(de(d,"SID",a.K),de(d,"RID",c),de(d,"TYPE","terminate"),ys(a,d),c=new Dn(a,a.j,c),c.L=2,c.v=Ho(an(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Np(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Wo(c)}Pp(a)}function Xo(a){a.g&&(Gu(a),a.g.cancel(),a.g=null)}function Ip(a){Xo(a),a.u&&(l.clearTimeout(a.u),a.u=null),Zo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Yo(a){if(!ip(a.h)&&!a.s){a.s=!0;var c=a.Ga;tn||Z(),z||(tn(),z=!0),J.add(c,a),a.B=0}}function VE(a,c){return sp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=c.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=us(A(a.Ga,a,c),kp(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new Dn(this,this.j,a);let O=this.o;if(this.S&&(O?(O=y(O),T(O,this.S)):O=this.S),this.m!==null||this.O||(N.H=O,O=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Sp(this,N,c),d=an(this.I),de(d,"RID",a),de(d,"CVER",22),this.D&&de(d,"X-HTTP-Session-Id",this.D),ys(this,d),O&&(this.O?c="headers="+encodeURIComponent(String(gp(O)))+"&"+c:this.m&&Bu(d,this.m,O)),Uu(this.h,N),this.Ua&&de(d,"TYPE","init"),this.P?(de(d,"$req",c),de(d,"SID","null"),N.T=!0,Lu(N,d,null)):Lu(N,d,c),this.G=2}}else this.G==3&&(a?Tp(this,a):this.i.length==0||ip(this.h)||Tp(this))};function Tp(a,c){var d;c?d=c.l:d=a.U++;const m=an(a.I);de(m,"SID",a.K),de(m,"RID",d),de(m,"AID",a.T),ys(a,m),a.m&&a.o&&Bu(m,a.m,a.o),d=new Dn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),c&&(a.i=c.D.concat(a.i)),c=Sp(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Uu(a.h,d),Lu(d,m,c)}function ys(a,c){a.H&&D(a.H,function(d,m){de(c,m,d)}),a.l&&lp({},function(d,m){de(c,m,d)})}function Sp(a,c,d){d=Math.min(a.i.length,d);var m=a.l?A(a.l.Na,a.l,a):null;e:{var N=a.i;let O=-1;for(;;){const B=["count="+d];O==-1?0<d?(O=N[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let ce=!0;for(let je=0;je<d;je++){let oe=N[je].g;const qe=N[je].map;if(oe-=O,0>oe)O=Math.max(0,N[je].g-100),ce=!1;else try{PE(qe,B,"req"+oe+"_")}catch{m&&m(qe)}}if(ce){m=B.join("&");break e}}}return a=a.i.splice(0,d),c.D=a,m}function Rp(a){if(!a.g&&!a.u){a.Y=1;var c=a.Fa;tn||Z(),z||(tn(),z=!0),J.add(c,a),a.v=0}}function Wu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=us(A(a.Fa,a),kp(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Cp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=us(A(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Xo(this),Cp(this))};function Gu(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Cp(a){a.g=new Dn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var c=an(a.qa);de(c,"RID","rpc"),de(c,"SID",a.K),de(c,"AID",a.T),de(c,"CI",a.F?"0":"1"),!a.F&&a.ja&&de(c,"TO",a.ja),de(c,"TYPE","xmlhttp"),ys(a,c),a.m&&a.o&&Bu(c,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Ho(an(c)),d.m=null,d.P=!0,ep(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Xo(this),Wu(this),it(19))};function Zo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function xp(a,c){var d=null;if(a.g==c){Zo(a),Gu(a),a.g=null;var m=2}else if(Fu(a.h,c))d=c.D,op(a.h,c),m=1;else return;if(a.G!=0){if(c.o)if(m==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var N=a.B;m=Uo(),rt(m,new Xf(m,d)),Yo(a)}else Rp(a);else if(N=c.s,N==3||N==0&&0<c.X||!(m==1&&VE(a,c)||m==2&&Wu(a)))switch(d&&0<d.length&&(c=a.h,c.i=c.i.concat(d)),N){case 1:Ir(a,5);break;case 4:Ir(a,10);break;case 3:Ir(a,6);break;default:Ir(a,2)}}}function kp(a,c){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*c}function Ir(a,c){if(a.j.info("Error code "+c),c==2){var d=A(a.fb,a),m=a.Xa;const N=!m;m=new wr(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Go(m,"https"),Ho(m),N?CE(m.toString(),d):xE(m.toString(),d)}else it(2);a.G=0,a.l&&a.l.sa(c),Pp(a),Ip(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Pp(a){if(a.G=0,a.ka=[],a.l){const c=ap(a.h);(c.length!=0||a.i.length!=0)&&(x(a.ka,c),x(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function bp(a,c,d){var m=d instanceof wr?an(d):new wr(d);if(m.g!="")c&&(m.g=c+"."+m.g),Qo(m,m.s);else{var N=l.location;m=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var O=new wr(null);m&&Go(O,m),c&&(O.g=c),N&&Qo(O,N),d&&(O.l=d),m=O}return d=a.D,c=a.ya,d&&c&&de(m,d,c),de(m,"VER",a.la),ys(a,m),m}function Np(a,c,d){if(c&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=a.Ca&&!a.pa?new we(new qo({eb:d})):new we(a.pa),c.Ha(a.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dp(){}t=Dp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $o(){}$o.prototype.g=function(a,c){return new yt(a,c)};function yt(a,c){He.call(this),this.g=new wp(c),this.l=a,this.h=c&&c.messageUrlParams||null,a=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(a?a["X-WebChannel-Content-Type"]=c.messageContentType:a={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(a?a["X-WebChannel-Client-Profile"]=c.va:a={"X-WebChannel-Client-Profile":c.va}),this.g.S=a,(a=c&&c.Sb)&&!g(a)&&(this.g.m=a),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!g(c)&&(this.g.D=c,a=this.h,a!==null&&c in a&&(a=this.h,c in a&&delete a[c])),this.j=new ei(this)}k(yt,He),yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){zu(this.g)},yt.prototype.o=function(a){var c=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Pu(a),a=d);c.i.push(new AE(c.Ya++,a)),c.G==3&&Yo(c)},yt.prototype.N=function(){this.g.l=null,delete this.j,zu(this.g),delete this.g,yt.aa.N.call(this)};function Vp(a){Nu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var c=a.__sm__;if(c){e:{for(const d in c){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,c=c!==null&&a in c?c[a]:void 0),this.data=c}else this.data=a}k(Vp,Nu);function Op(){Du.call(this),this.status=1}k(Op,Du);function ei(a){this.g=a}k(ei,Dp),ei.prototype.ua=function(){rt(this.g,"a")},ei.prototype.ta=function(a){rt(this.g,new Vp(a))},ei.prototype.sa=function(a){rt(this.g,new Op)},ei.prototype.ra=function(){rt(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,j0=function(){return new $o},M0=function(){return Uo()},L0=_r,Vh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bo.NO_ERROR=0,Bo.TIMEOUT=8,Bo.HTTP_ERROR=6,Ua=Bo,Yf.COMPLETE="complete",O0=Yf,Hf.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",He.prototype.listen=He.prototype.K,bs=Hf,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,V0=we}).apply(typeof va<"u"?va:typeof self<"u"?self:typeof window<"u"?window:{});const kg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let es="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new qd("@firebase/firestore");function ri(){return Wr.logLevel}function W(t,...e){if(Wr.logLevel<=te.DEBUG){const n=e.map(af);Wr.debug(`Firestore (${es}): ${t}`,...n)}}function Cn(t,...e){if(Wr.logLevel<=te.ERROR){const n=e.map(af);Wr.error(`Firestore (${es}): ${t}`,...n)}}function Fi(t,...e){if(Wr.logLevel<=te.WARN){const n=e.map(af);Wr.warn(`Firestore (${es}): ${t}`,...n)}}function af(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t="Unexpected state"){const e=`FIRESTORE (${es}) INTERNAL ASSERTION FAILED: `+t;throw Cn(e),new Error(e)}function ae(t,e){t||q()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BC{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new An;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new An,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new An)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string"),new F0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new Ze(e)}}class zC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ae(this.o===void 0);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string"),this.R=n.token,new GC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HC(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Ui(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new De(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new De(0,0))}static max(){return new X(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends yo{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const qC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends yo{construct(e,n,r){return new Be(e,n,r)}static isValidIdentifier(e){return qC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Q(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Q(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(ge.fromString(e))}static fromName(e){return new H(ge.fromString(e).popFirst(5))}static empty(){return new H(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new ge(e.slice()))}}function KC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new hr(i,H.empty(),e)}function JC(t){return new hr(t.readTime,t.key,-1)}class hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hr(X.min(),H.empty(),-1)}static max(){return new hr(X.max(),H.empty(),-1)}}function XC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==YC)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(f=>{o[h]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new M((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function $C(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ns(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ru.oe=-1;function iu(t){return t==null}function Sl(t){return t===0&&1/t==-1/0}function ex(t){return typeof t=="number"&&Number.isInteger(t)&&!Sl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Pg(e)),e=nx(t.get(n),e);return Pg(e)}function nx(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Pg(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function B0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new Ee(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _a(this.root,e,this.comparator,!1)}getReverseIterator(){return new _a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _a(this.root,e,this.comparator,!0)}}class _a{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=i??Ue.EMPTY,this.right=s??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ue(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();const e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ng(this.data.getIterator())}getIteratorFrom(e){return new Ng(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ve(this.comparator);return n.data=e,n}}class Ng{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Ft([])}unionWith(e){let n=new Ve(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ft(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ui(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new z0("Invalid base64 string: "+s):s}}(e);return new Ge(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ge(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(t){if(ae(!!t),typeof t=="string"){let e=0;const n=rx.exec(t);if(ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fr(t){return typeof t=="string"?Ge.fromBase64String(t):Ge.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function su(t){const e=t.mapValue.fields.__previous_value__;return lf(e)?su(e):e}function vo(t){const e=dr(t.mapValue.fields.__local_write_time__.timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,r,i,s,o,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class _o{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lf(t)?4:ox(t)?9007199254740991:sx(t)?10:11:q()}function Zt(t,e){if(t===e)return!0;const n=pr(t);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vo(t).isEqual(vo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=dr(i.timestampValue),l=dr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fr(i.bytesValue).isEqual(fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Se(i.doubleValue),l=Se(s.doubleValue);return o===l?Sl(o)===Sl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ui(t.arrayValue.values||[],e.arrayValue.values||[],Zt);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(bg(o)!==bg(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Zt(o[u],l[u])))return!1;return!0}(t,e);default:return q()}}function Eo(t,e){return(t.values||[]).find(n=>Zt(n,e))!==void 0}function Bi(t,e){if(t===e)return 0;const n=pr(t),r=pr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Dg(t.timestampValue,e.timestampValue);case 4:return Dg(vo(t),vo(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){const l=fr(s),u=fr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=re(l[h],u[h]);if(f!==0)return f}return re(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=re(Se(s.latitude),Se(o.latitude));return l!==0?l:re(Se(s.longitude),Se(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Vg(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,h,f;const p=s.fields||{},A=o.fields||{},R=(l=p.value)===null||l===void 0?void 0:l.arrayValue,k=(u=A.value)===null||u===void 0?void 0:u.arrayValue,P=re(((h=R==null?void 0:R.values)===null||h===void 0?void 0:h.length)||0,((f=k==null?void 0:k.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:Vg(R,k)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ea.mapValue&&o===Ea.mapValue)return 0;if(s===Ea.mapValue)return 1;if(o===Ea.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const A=re(u[p],f[p]);if(A!==0)return A;const R=Bi(l[u[p]],h[f[p]]);if(R!==0)return R}return re(u.length,f.length)}(t.mapValue,e.mapValue);default:throw q()}}function Dg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=dr(t),r=dr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Vg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Bi(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function zi(t){return Oh(t)}function Oh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=dr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Oh(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Oh(n.fields[o])}`;return i+"}"}(t.mapValue):q()}function Ba(t){switch(pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=su(t);return e?16+Ba(e):16;case 5:return 2*t.stringValue.length;case 6:return fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ba(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return vr(r.fields,(s,o)=>{i+=s.length+Ba(o)}),i}(t.mapValue);default:throw q()}}function Lh(t){return!!t&&"integerValue"in t}function uf(t){return!!t&&"arrayValue"in t}function Og(t){return!!t&&"nullValue"in t}function Lg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function za(t){return!!t&&"mapValue"in t}function sx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ox(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.value=e}static empty(){return new _t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!za(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qs(n)}setAll(e){let n=Be.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Qs(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());za(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];za(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _t(Qs(this.value))}}function W0(t){const e=[];return vr(t.fields,(n,r)=>{const i=new Be([n]);if(za(r)){const s=W0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ft(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new et(e,0,X.min(),X.min(),X.min(),_t.empty(),0)}static newFoundDocument(e,n,r,i){return new et(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new et(e,2,n,X.min(),X.min(),_t.empty(),0)}static newUnknownDocument(e,n){return new et(e,3,n,X.min(),X.min(),_t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n){this.position=e,this.inclusive=n}}function Mg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Bi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function ax(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{}class Pe extends G0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ux(e,n,r):n==="array-contains"?new dx(e,r):n==="in"?new fx(e,r):n==="not-in"?new px(e,r):n==="array-contains-any"?new mx(e,r):new Pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cx(e,r):new hx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bi(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(Bi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends G0{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $t(e,n)}matches(e){return Q0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Q0(t){return t.op==="and"}function H0(t){return lx(t)&&Q0(t)}function lx(t){for(const e of t.filters)if(e instanceof $t)return!1;return!0}function Mh(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+zi(t.value);if(H0(t))return t.filters.map(e=>Mh(e)).join(",");{const e=t.filters.map(n=>Mh(n)).join(",");return`${t.op}(${e})`}}function q0(t,e){return t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&Zt(r.value,i.value)}(t,e):t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&q0(o,i.filters[l]),!0):!1}(t,e):void q()}function K0(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${zi(n.value)}`}(t):t instanceof $t?function(n){return n.op.toString()+" {"+n.getFilters().map(K0).join(" ,")+"}"}(t):"Filter"}class ux extends Pe{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class cx extends Pe{constructor(e,n){super(e,"in",n),this.keys=J0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hx extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=J0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class dx extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uf(n)&&Eo(n.arrayValue,this.value)}}class fx extends Pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eo(this.value.arrayValue,n)}}class px extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Eo(this.value.arrayValue,n)}}class mx extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Fg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gx(t,e,n,r,i,s,o)}function cf(t){const e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zi(r)).join(",")),e.ue=n}return e.ue}function hf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ax(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jg(t.startAt,e.startAt)&&jg(t.endAt,e.endAt)}function jh(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ax(t,e,n,r,i,s,o,l){return new ou(t,e,n,r,i,s,o,l)}function df(t){return new ou(t)}function Ug(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yx(t){return t.collectionGroup!==null}function Hs(t){const e=Y(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ve(Be.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cl(s,r))}),n.has(Be.keyField().canonicalString())||e.ce.push(new Cl(Be.keyField(),r))}return e.ce}function Xt(t){const e=Y(t);return e.le||(e.le=vx(e,Hs(t))),e.le}function vx(t,e){if(t.limitType==="F")return Fg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cl(i.field,s)});const n=t.endAt?new Rl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rl(t.startAt.position,t.startAt.inclusive):null;return Fg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fh(t,e,n){return new ou(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function au(t,e){return hf(Xt(t),Xt(e))&&t.limitType===e.limitType}function X0(t){return`${cf(Xt(t))}|lt:${t.limitType}`}function ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>K0(i)).join(", ")}]`),iu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zi(i)).join(",")),`Target(${r})`}(Xt(t))}; limitType=${t.limitType})`}function lu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Hs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const h=Mg(o,l,u);return o.inclusive?h<=0:h<0}(r.startAt,Hs(r),i)||r.endAt&&!function(o,l,u){const h=Mg(o,l,u);return o.inclusive?h>=0:h>0}(r.endAt,Hs(r),i))}(t,e)}function _x(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y0(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const s=Ex(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ex(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?Bi(u,h):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Ee(H.comparator);function xn(){return wx}const Z0=new Ee(H.comparator);function Ns(...t){let e=Z0;for(const n of t)e=e.insert(n.key,n);return e}function $0(t){let e=Z0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pr(){return qs()}function e_(){return qs()}function qs(){return new Jr(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ix=new Ee(H.comparator),Tx=new Ve(H.comparator);function ne(...t){let e=Tx;for(const n of t)e=e.add(n);return e}const Sx=new Ve(re);function Rx(){return Sx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(e)?"-0":e}}function t_(t){return{integerValue:""+t}}function Cx(t,e){return ex(e)?t_(e):ff(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this._=void 0}}function xx(t,e,n){return t instanceof xl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lf(s)&&(s=su(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wi?r_(t,e):t instanceof wo?i_(t,e):function(i,s){const o=n_(i,s),l=Bg(o)+Bg(i.Pe);return Lh(o)&&Lh(i.Pe)?t_(l):ff(i.serializer,l)}(t,e)}function kx(t,e,n){return t instanceof Wi?r_(t,e):t instanceof wo?i_(t,e):n}function n_(t,e){return t instanceof kl?function(r){return Lh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xl extends uu{}class Wi extends uu{constructor(e){super(),this.elements=e}}function r_(t,e){const n=s_(e);for(const r of t.elements)n.some(i=>Zt(i,r))||n.push(r);return{arrayValue:{values:n}}}class wo extends uu{constructor(e){super(),this.elements=e}}function i_(t,e){let n=s_(e);for(const r of t.elements)n=n.filter(i=>!Zt(i,r));return{arrayValue:{values:n}}}class kl extends uu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Bg(t){return Se(t.integerValue||t.doubleValue)}function s_(t){return uf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.field=e,this.transform=n}}function bx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wi&&i instanceof Wi||r instanceof wo&&i instanceof wo?Ui(r.elements,i.elements,Zt):r instanceof kl&&i instanceof kl?Zt(r.Pe,i.Pe):r instanceof xl&&i instanceof xl}(t.transform,e.transform)}class Nx{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cu{}function o_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new l_(t.key,yn.none()):new hu(t.key,t.data,yn.none());{const n=t.data,r=_t.empty();let i=new Ve(Be.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Xr(t.key,r,new Ft(i.toArray()),yn.none())}}function Dx(t,e,n){t instanceof hu?function(i,s,o){const l=i.value.clone(),u=Wg(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Xr?function(i,s,o){if(!Wa(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Wg(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(a_(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ks(t,e,n,r){return t instanceof hu?function(s,o,l,u){if(!Wa(s.precondition,o))return l;const h=s.value.clone(),f=Gg(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xr?function(s,o,l,u){if(!Wa(s.precondition,o))return l;const h=Gg(s.fieldTransforms,u,o),f=o.data;return f.setAll(a_(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,l){return Wa(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Vx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=n_(r.transform,i||null);s!=null&&(n===null&&(n=_t.empty()),n.set(r.field,s))}return n||null}function zg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ui(r,i,(s,o)=>bx(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hu extends cu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xr extends cu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function a_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wg(t,e,n){const r=new Map;ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,kx(o,l,n[i]))}return r}function Gg(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,xx(s,o,e))}return r}class l_ extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ox extends cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Dx(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=o_(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Ui(this.mutations,e.mutations,(n,r)=>zg(n,r))&&Ui(this.baseMutations,e.baseMutations,(n,r)=>zg(n,r))}}class pf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ae(e.mutations.length===r.length);let i=function(){return Ix}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,ie;function Fx(t){switch(t){default:return q();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function u_(t){if(t===void 0)return Cn("GRPC error has no .code"),j.UNKNOWN;switch(t){case Ce.OK:return j.OK;case Ce.CANCELLED:return j.CANCELLED;case Ce.UNKNOWN:return j.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return j.INTERNAL;case Ce.UNAVAILABLE:return j.UNAVAILABLE;case Ce.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ce.NOT_FOUND:return j.NOT_FOUND;case Ce.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ce.ABORTED:return j.ABORTED;case Ce.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ce.DATA_LOSS:return j.DATA_LOSS;default:return q()}}(ie=Ce||(Ce={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Or([4294967295,4294967295],0);function Qg(t){const e=Ux().encode(t),n=new D0;return n.update(e),new Uint8Array(n.digest())}function Hg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Or([n,r],0),new Or([i,s],0)]}class mf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ds(`Invalid padding: ${n}`);if(r<0)throw new Ds(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ds(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ds(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Or.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Or.fromNumber(r)));return i.compare(Bx)===1&&(i=new Or([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Qg(e),[r,i]=Hg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new mf(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const n=Qg(e),[r,i]=Hg(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ds extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Do.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new du(X.min(),i,new Ee(re),xn(),ne())}}class Do{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Do(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class c_{constructor(e,n){this.targetId=e,this.me=n}}class h_{constructor(e,n,r=Ge.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qg{constructor(){this.fe=0,this.ge=Kg(),this.pe=Ge.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ne(),n=ne(),r=ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Do(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kg()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zx{constructor(e){this.Le=e,this.Be=new Map,this.ke=xn(),this.qe=wa(),this.Qe=wa(),this.Ke=new Ee(re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(jh(s))if(r===0){const o=new H(s.path);this.We(n,o,et.newNoDocument(o,X.min()))}else ae(r===1);else{const o=this.Ze(n);if(o!==r){const l=this.Xe(e),u=l?this.et(l,e,o):1;if(u!==0){this.He(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,h)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=fr(r).toUint8Array()}catch(u){if(u instanceof z0)return Fi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new mf(o,i,s)}catch(u){return Fi(u instanceof Ds?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&jh(l.target)){const u=new H(l.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,et.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ne();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.Ye(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new du(e,n,this.Ke,this.ke,r);return this.ke=xn(),this.qe=wa(),this.Qe=wa(),this.Ke=new Ee(re),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new qg,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ve(re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ve(re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new qg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function wa(){return new Ee(H.comparator)}function Kg(){return new Ee(H.comparator)}const Wx={asc:"ASCENDING",desc:"DESCENDING"},Gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qx={and:"AND",or:"OR"};class Hx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uh(t,e){return t.useProto3Json||iu(e)?e:{value:e}}function Pl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qx(t,e){return Pl(t,e.toTimestamp())}function Yt(t){return ae(!!t),X.fromTimestamp(function(n){const r=dr(n);return new De(r.seconds,r.nanos)}(t))}function gf(t,e){return Bh(t,e).canonicalString()}function Bh(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function f_(t){const e=ge.fromString(t);return ae(y_(e)),e}function zh(t,e){return gf(t.databaseId,e.path)}function Rc(t,e){const n=f_(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(m_(n))}function p_(t,e){return gf(t.databaseId,e)}function Kx(t){const e=f_(t);return e.length===4?ge.emptyPath():m_(e)}function Wh(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m_(t){return ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jg(t,e,n){return{name:zh(t,e),fields:n.value.mapValue.fields}}function Jx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(ae(f===void 0||typeof f=="string"),Ge.fromBase64String(f||"")):(ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ge.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?j.UNKNOWN:u_(h.code);return new Q(f,h.message||"")}(o);n=new h_(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rc(t,r.document.name),s=Yt(r.document.updateTime),o=r.document.createTime?Yt(r.document.createTime):X.min(),l=new _t({mapValue:{fields:r.document.fields}}),u=et.newFoundDocument(i,s,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Ga(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rc(t,r.document),s=r.readTime?Yt(r.readTime):X.min(),o=et.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Ga([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rc(t,r.document),s=r.removedTargetIds||[];n=new Ga([],s,i,null)}else{if(!("filter"in e))return q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jx(i,s),l=r.targetId;n=new c_(l,o)}}return n}function Xx(t,e){let n;if(e instanceof hu)n={update:Jg(t,e.key,e.value)};else if(e instanceof l_)n={delete:zh(t,e.key)};else if(e instanceof Xr)n={update:Jg(t,e.key,e.data),updateMask:sk(e.fieldMask)};else{if(!(e instanceof Ox))return q();n={verify:zh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof xl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof wo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kl)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qx(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function Yx(t,e){return t&&t.length>0?(ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Yt(i.updateTime):Yt(s);return o.isEqual(X.min())&&(o=Yt(s)),new Nx(o,i.transformResults||[])}(n,e))):[]}function Zx(t,e){return{documents:[p_(t,e.path)]}}function $x(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=p_(t,i);const s=function(h){if(h.length!==0)return A_($t.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(A){return{field:si(A.field),direction:nk(A.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Uh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:n,parent:i}}function ek(t){let e=Kx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ae(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){const A=g_(p);return A instanceof $t&&H0(A)?A.getFilters():[A]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(A=>function(k){return new Cl(oi(k.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(A))}(n.orderBy));let l=null;n.limit&&(l=function(p){let A;return A=typeof p=="object"?p.value:p,iu(A)?null:A}(n.limit));let u=null;n.startAt&&(u=function(p){const A=!!p.before,R=p.values||[];return new Rl(R,A)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const A=!p.before,R=p.values||[];return new Rl(R,A)}(n.endAt)),Ax(e,i,o,s,l,"F",u,h)}function tk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oi(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oi(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oi(n.unaryFilter.field);return Pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oi(n.unaryFilter.field);return Pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(oi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $t.create(n.compositeFilter.filters.map(r=>g_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function nk(t){return Wx[t]}function rk(t){return Gx[t]}function ik(t){return Qx[t]}function si(t){return{fieldPath:t.canonicalString()}}function oi(t){return Be.fromServerFormat(t.fieldPath)}function A_(t){return t instanceof Pe?function(n){if(n.op==="=="){if(Lg(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NAN"}};if(Og(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lg(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NOT_NAN"}};if(Og(n.value))return{unaryFilter:{field:si(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:si(n.field),op:rk(n.op),value:n.value}}}(t):t instanceof $t?function(n){const r=n.getFilters().map(i=>A_(i));return r.length===1?r[0]:{compositeFilter:{op:ik(n.op),filters:r}}}(t):q()}function sk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function y_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,r,i,s=X.min(),o=X.min(),l=Ge.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Xn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.ht=e}}function ak(t){const e=ek({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.ln=new uk}addToCollectionParentIndex(e,n){return this.ln.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(hr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class uk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ht{static withCacheSize(e){return new ht(e,ht.DEFAULT_COLLECTION_PERCENTILE,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ht.DEFAULT_COLLECTION_PERCENTILE=10,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ht.DEFAULT=new ht(41943040,ht.DEFAULT_COLLECTION_PERCENTILE,ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ht.DISABLED=new ht(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Gi(0)}static Qn(){return new Gi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class ck{constructor(e){this.Gn=e,this.buffer=new Ve(Yg),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Yg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){W("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ns(n)?W("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ts(n)}await this.Yn(3e5)})}}class dk{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(ru.oe);const r=new ck(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(Xg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xg):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),ri()<=te.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function fk(t,e){return new dk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.changes=new Jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ks(r.mutation,i,Ft.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=Pr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ns();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=xn();const o=qs(),l=function(){return qs()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Xr)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Ks(f.mutation,h,f.mutation.getFieldMask(),De.now())):o.set(h.key,Ft.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var p;return l.set(h,new mk(f,(p=o.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=qs();let i=new Ee((o,l)=>o-l),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||Ft.empty();f=l.applyToLocalView(h,f),r.set(u,f);const p=(i.get(l.batchId)||ne()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=e_();f.forEach(A=>{if(!s.has(A)){const R=o_(n.get(A),r.get(A));R!==null&&p.set(A,R),s=s.add(A)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Pr());let l=-1,u=s;return o.next(h=>M.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(A=>{u=u.insert(f,A)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,ne())).next(f=>({batchId:l,changes:$0(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let i=Ns();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ns();return this.indexManager.getCollectionParents(e,s).next(l=>M.forEach(l,u=>{const h=function(p,A){return new ou(A,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((p,A)=>{o=o.insert(p,A)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,et.newInvalidDocument(f)))});let l=Ns();return o.forEach((u,h)=>{const f=s.get(u);f!==void 0&&Ks(f.mutation,h,Ft.empty(),De.now()),lu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return M.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:ak(i.bundledQuery),readTime:Yt(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(){this.overlays=new Ee(H.comparator),this.Er=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=Pr(),s=n.length+1,o=new H(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ee((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=Pr(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Pr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return M.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mx(n,r));let s=this.Er.get(n);s===void 0&&(s=ne(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this.dr=new Ve(Oe.Ar),this.Rr=new Ve(Oe.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new Oe(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Oe(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new H(new ge([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new H(new ge([])),r=new Oe(n,e),i=new Oe(n,e+1);let s=ne();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Oe(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return H.comparator(e.key,n.key)||re(e.br,n.br)}static Vr(e,n){return re(e.br,n.br)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ve(Oe.Ar)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Lx(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.vr=this.vr.add(new Oe(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const l=this.Cr(o.br);s.push(l)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(re);return n.forEach(i=>{const s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],l=>{r=r.add(l.br)})}),M.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;H.isDocumentKey(s)||(s=s.child(""));const o=new Oe(new H(s),0);let l=new Ve(re);return this.vr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.br)),!0)},o),M.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ae(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return M.forEach(n.mutations,i=>{const s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new Oe(n,0),i=this.vr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.Nr=e,this.docs=function(){return new Ee(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():et.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():et.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xn();const o=n.path,l=new H(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||XC(JC(f),r)<=0||(i.has(f.key)||lu(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}Lr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wk(this)}getSize(e){return M.resolve(this.size)}}class wk extends pk{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.persistence=e,this.Br=new Jr(n=>cf(n),hf),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.kr=0,this.qr=new Af,this.targetCount=0,this.Qr=Gi.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),M.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Gi(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Un(n),M.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n){this.Kr={},this.overlays={},this.$r=new ru(0),this.Ur=!1,this.Ur=!0,this.Wr=new vk,this.referenceDelegate=e(this),this.Gr=new Ik(this),this.indexManager=new lk,this.remoteDocumentCache=function(i){return new Ek(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new ok(n),this.jr=new Ak(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new _k(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Tk(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return M.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class Tk extends ZC{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.Zr=new Af,this.Xr=null}static ei(e){return new yf(e)}get ti(){if(this.Xr)return this.Xr;throw q()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),M.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.ti,r=>{const i=H.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return M.or([()=>M.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class bl{constructor(e,n){this.persistence=e,this.ri=new Jr(r=>tx(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fk(this,n)}static ei(e,n){return new bl(e,n)}Hr(){}Jr(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return M.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(l=>{l||(r++,s.removeEntry(o,X.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),M.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ba(e.data.value)),n}ir(e,n,r){return M.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return I1()?8:$C(nt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Sk;return this.ts(e,n,o).next(l=>{if(s.result=l,this.Hi)return this.ns(e,n,o,l.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(ri()<=te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),M.resolve()):(ri()<=te.DEBUG&&W("QueryEngine","Query:",ii(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ri()<=te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xt(n))):M.resolve())}Xi(e,n){if(Ug(n))return M.resolve(null);let r=Xt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fh(n,null,"F"),r=Xt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.rs(n,l);return this.ss(n,h,o,u.readTime)?this.Xi(e,Fh(n,null,"F")):this.os(e,h,n,u)}))})))}es(e,n,r,i){return Ug(n)||i.isEqual(X.min())?M.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?M.resolve(null):(ri()<=te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ii(n)),this.os(e,o,n,KC(i,-1)).next(l=>l))})}rs(e,n){let r=new Ve(Y0(e));return n.forEach((i,s)=>{lu(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return ri()<=te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ii(n)),this.Zi.getDocumentsMatchingQuery(e,n,hr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ee(re),this.cs=new Jr(s=>cf(s),hf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function xk(t,e,n,r){return new Ck(t,e,n,r)}async function __(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=ne();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ts:h,removedBatchIds:o,addedBatchIds:l}))})})}function kk(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,A=p.keys();let R=M.resolve();return A.forEach(k=>{R=R.next(()=>f.getEntry(u,k)).next(P=>{const x=h.docVersions.get(k);ae(x!==null),P.version.compareTo(x)<0&&(p.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),f.addEntry(P)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ne();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function E_(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function Pk(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((f,p)=>{const A=i.get(p);if(!A)return;l.push(n.Gr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(s,f.addedDocuments,p)));let R=A.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?R=R.withResumeToken(Ge.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(f.resumeToken,r)),i=i.insert(p,R),function(P,x,v){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(A,R,f)&&l.push(n.Gr.updateTargetData(s,R))});let u=xn(),h=ne();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(bk(s,o,e.documentUpdates).next(f=>{u=f.Is,h=f.Es})),!r.isEqual(X.min())){const f=n.Gr.getLastRemoteSnapshotVersion(s).next(p=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return M.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.us=i,s))}function bk(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xn();return n.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):W("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{Is:o,Es:i}})}function Nk(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dk(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Xn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Gh(t,e,n){const r=Y(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ns(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Zg(t,e,n){const r=Y(t);let i=X.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const p=Y(u),A=p.cs.get(f);return A!==void 0?M.resolve(p.us.get(A)):p.Gr.getTargetData(h,f)}(r,o,Xt(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:ne())).next(l=>(Vk(r,_x(e),l),{documents:l,ds:s})))}function Vk(t,e,n){let r=t.ls.get(e)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class $g{constructor(){this.activeTargetIds=Rx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ok{constructor(){this._o=new $g,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new $g,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia=null;function Cc(){return Ia===null?Ia=function(){return 268435456+Math.round(2147483648*Math.random())}():Ia++,"0x"+Ia.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Fk extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const l=Cc(),u=this.No(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,s,o),this.Bo(n,u,h,i).then(f=>(W("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Fi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}ko(n,r,i,s,o,l){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+es}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=Mk[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Cc();return new Promise((o,l)=>{const u=new V0;u.setWithCredentials(!0),u.listenOnce(O0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ua.NO_ERROR:const f=u.getResponseJson();W(Ye,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ua.TIMEOUT:W(Ye,`RPC '${e}' ${s} timed out`),l(new Q(j.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:const p=u.getStatus();if(W(Ye,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let A=u.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const k=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(R.status);l(new Q(k,R.message))}else l(new Q(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Q(j.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{W(Ye,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);W(Ye,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",h,r,15)})}qo(e,n,r){const i=Cc(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=j0(),l=M0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");W(Ye,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);let A=!1,R=!1;const k=new jk({Eo:x=>{R?W(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(A||(W(Ye,`Opening RPC '${e}' stream ${i} transport.`),p.open(),A=!0),W(Ye,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Ao:()=>p.close()}),P=(x,v,g)=>{x.listen(v,I=>{try{g(I)}catch(V){setTimeout(()=>{throw V},0)}})};return P(p,bs.EventType.OPEN,()=>{R||(W(Ye,`RPC '${e}' stream ${i} transport opened.`),k.So())}),P(p,bs.EventType.CLOSE,()=>{R||(R=!0,W(Ye,`RPC '${e}' stream ${i} transport closed`),k.Do())}),P(p,bs.EventType.ERROR,x=>{R||(R=!0,Fi(Ye,`RPC '${e}' stream ${i} transport errored:`,x),k.Do(new Q(j.UNAVAILABLE,"The operation could not be completed")))}),P(p,bs.EventType.MESSAGE,x=>{var v;if(!R){const g=x.data[0];ae(!!g);const I=g,V=(I==null?void 0:I.error)||((v=I[0])===null||v===void 0?void 0:v.error);if(V){W(Ye,`RPC '${e}' stream ${i} received error:`,V);const F=V.status;let D=function(w){const T=Ce[w];if(T!==void 0)return u_(T)}(F),E=V.message;D===void 0&&(D=j.INTERNAL,E="Unknown error status: "+F+" with message "+V.message),R=!0,k.Do(new Q(D,E)),p.close()}else W(Ye,`RPC '${e}' stream ${i} received:`,g),k.vo(g)}}),P(l,L0.STAT_EVENT,x=>{x.stat===Vh.PROXY?W(Ye,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Vh.NOPROXY&&W(Ye,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function xc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){return new Hx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,n,r,i,s,o,l,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new w_(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new Q(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uk extends I_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=Jx(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?Yt(o.readTime):X.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Wh(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=jh(u)?{documents:Zx(s,u)}:{query:$x(s,u).ct},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=d_(s,o.resumeToken);const h=Uh(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(X.min())>0){l.readTime=Pl(s,o.snapshotVersion.toTimestamp());const h=Uh(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=tk(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Wh(this.serializer),n.removeTarget=e,this.c_(n)}}class Bk extends I_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ae(!!e.streamToken),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=Yx(e.writeResults,e.commitTime),r=Yt(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Wh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Xx(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new Q(j.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Bh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(j.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ko(e,Bh(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(j.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Wk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Cn(n),this.C_=!1):W("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Yr(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=Y(u);h.k_.add(4),await Vo(h),h.K_.set("Unknown"),h.k_.delete(4),await pu(h)}(this))})}),this.K_=new Wk(r,i)}}async function pu(t){if(Yr(t))for(const e of t.q_)await e(!0)}async function Vo(t){for(const e of t.q_)await e(!1)}function T_(t,e){const n=Y(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),If(n)?wf(n):rs(n).s_()&&Ef(n,e))}function _f(t,e){const n=Y(t),r=rs(n);n.B_.delete(e),r.s_()&&S_(n,e),n.B_.size===0&&(r.s_()?r.a_():Yr(n)&&n.K_.set("Unknown"))}function Ef(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rs(t).V_(e)}function S_(t,e){t.U_.xe(e),rs(t).m_(e)}function wf(t){t.U_=new zx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rs(t).start(),t.K_.F_()}function If(t){return Yr(t)&&!rs(t).i_()&&t.B_.size>0}function Yr(t){return Y(t).k_.size===0}function R_(t){t.U_=void 0}async function Qk(t){t.K_.set("Online")}async function Hk(t){t.B_.forEach((e,n)=>{Ef(t,e)})}async function qk(t,e){R_(t),If(t)?(t.K_.O_(e),wf(t)):t.K_.set("Unknown")}async function Kk(t,e,n){if(t.K_.set("Online"),e instanceof h_&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nl(t,r)}else if(e instanceof Ga?t.U_.$e(e):e instanceof c_?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(X.min()))try{const r=await E_(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.U_.it(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.B_.get(h);f&&s.B_.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=s.B_.get(u);if(!f)return;s.B_.set(u,f.withResumeToken(Ge.EMPTY_BYTE_STRING,f.snapshotVersion)),S_(s,u);const p=new Xn(f.target,u,h,f.sequenceNumber);Ef(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Nl(t,r)}}async function Nl(t,e,n){if(!ns(e))throw e;t.k_.add(1),await Vo(t),t.K_.set("Offline"),n||(n=()=>E_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await pu(t)})}function C_(t,e){return e().catch(n=>Nl(t,n,e))}async function mu(t){const e=Y(t),n=mr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Jk(e);)try{const i=await Nk(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,Xk(e,i)}catch(i){await Nl(e,i)}x_(e)&&k_(e)}function Jk(t){return Yr(t)&&t.L_.length<10}function Xk(t,e){t.L_.push(e);const n=mr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function x_(t){return Yr(t)&&!mr(t).i_()&&t.L_.length>0}function k_(t){mr(t).start()}async function Yk(t){mr(t).w_()}async function Zk(t){const e=mr(t);for(const n of t.L_)e.g_(n.mutations)}async function $k(t,e,n){const r=t.L_.shift(),i=pf.from(r,e,n);await C_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mu(t)}async function eP(t,e){e&&mr(t).f_&&await async function(r,i){if(function(o){return Fx(o)&&o!==j.ABORTED}(i.code)){const s=r.L_.shift();mr(r).__(),await C_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mu(r)}}(t,e),x_(t)&&k_(t)}async function tA(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Yr(n);n.k_.add(3),await Vo(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await pu(n)}async function tP(t,e){const n=Y(t);e?(n.k_.delete(2),await pu(n)):e||(n.k_.add(2),await Vo(n),n.K_.set("Unknown"))}function rs(t){return t.W_||(t.W_=function(n,r,i){const s=Y(n);return s.b_(),new Uk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:Qk.bind(null,t),mo:Hk.bind(null,t),po:qk.bind(null,t),R_:Kk.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),If(t)?wf(t):t.K_.set("Unknown")):(await t.W_.stop(),R_(t))})),t.W_}function mr(t){return t.G_||(t.G_=function(n,r,i){const s=Y(n);return s.b_(),new Bk(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Yk.bind(null,t),po:eP.bind(null,t),p_:Zk.bind(null,t),y_:$k.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await mu(t)):(await t.G_.stop(),t.L_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Tf(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sf(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),ns(t))return new Q(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{static emptySet(e){return new ki(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Ns(),this.sortedSet=new Ee(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ki;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(){this.z_=new Ee(H.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):q():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qi{constructor(e,n,r,i,s,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Qi(e,n,ki.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class rP{constructor(){this.queries=rA(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Y(n),s=i.queries;i.queries=rA(),s.forEach((o,l)=>{for(const u of l.J_)u.onError(r)})})(this,new Q(j.ABORTED,"Firestore shutting down"))}}function rA(){return new Jr(t=>X0(t),au)}async function P_(t,e){const n=Y(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new nP,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Sf(o,`Initialization of query '${ii(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Rf(n)}async function b_(t,e){const n=Y(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iP(t,e){const n=Y(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.J_)l.ta(i)&&(r=!0);o.H_=i}}r&&Rf(n)}function sP(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Rf(t){t.X_.forEach(e=>{e.next()})}var Qh,iA;(iA=Qh||(Qh={})).na="default",iA.Cache="cache";class N_{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){this.key=e}}class V_{constructor(e){this.key=e}}class oP{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ne(),this.mutatedKeys=ne(),this.Va=Y0(e),this.ma=new ki(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new nA,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const A=i.get(f),R=lu(this.query,p)?p:null,k=!!A&&this.mutatedKeys.has(A.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let x=!1;A&&R?A.data.isEqual(R.data)?k!==P&&(r.track({type:3,doc:R}),x=!0):this.ya(A,R)||(r.track({type:2,doc:R}),x=!0,(u&&this.Va(R,u)>0||h&&this.Va(R,h)<0)&&(l=!0)):!A&&R?(r.track({type:0,doc:R}),x=!0):A&&!R&&(r.track({type:1,doc:A}),x=!0,(u||h)&&(l=!0)),x&&(R?(o=o.add(R),s=P?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ma:o,pa:r,ss:l,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((f,p)=>function(R,k){const P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return P(R)-P(k)}(f.type,p.type)||this.Va(f.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,h=u!==this.Aa;return this.Aa=u,o.length!==0||h?{snapshot:new Qi(this.query,e.ma,s,o,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new nA,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ne(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new V_(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new D_(r))}),n}va(e){this.da=e.ds,this.Ra=ne();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Qi.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class aP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lP{constructor(e){this.key=e,this.Fa=!1}}class uP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Jr(l=>X0(l),au),this.Oa=new Map,this.Na=new Set,this.La=new Ee(H.comparator),this.Ba=new Map,this.ka=new Af,this.qa={},this.Qa=new Map,this.Ka=Gi.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function cP(t,e,n=!0){const r=U_(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await O_(r,e,n,!0),i}async function hP(t,e){const n=U_(t);await O_(n,e,!0,!1)}async function O_(t,e,n,r){const i=await Dk(t.localStore,Xt(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await dP(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&T_(t.remoteStore,i),l}async function dP(t,e,n,r,i){t.Ua=(p,A,R)=>async function(P,x,v,g){let I=x.view.ga(v);I.ss&&(I=await Zg(P.localStore,x.query,!1).then(({documents:E})=>x.view.ga(E,I)));const V=g&&g.targetChanges.get(x.targetId),F=g&&g.targetMismatches.get(x.targetId)!=null,D=x.view.applyChanges(I,P.isPrimaryClient,V,F);return oA(P,x.targetId,D.ba),D.snapshot}(t,p,A,R);const s=await Zg(t.localStore,e,!0),o=new oP(e,s.ds),l=o.ga(s.documents),u=Do.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(l,t.isPrimaryClient,u);oA(t,n,h.ba);const f=new aP(e,n,o);return t.xa.set(e,f),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),h.snapshot}async function fP(t,e,n){const r=Y(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!au(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_f(r.remoteStore,i.targetId),Hh(r,i.targetId)}).catch(ts)):(Hh(r,i.targetId),await Gh(r.localStore,i.targetId,!0))}async function pP(t,e){const n=Y(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_f(n.remoteStore,r.targetId))}async function mP(t,e,n){const r=wP(t);try{const i=await function(o,l){const u=Y(o),h=De.now(),f=l.reduce((R,k)=>R.add(k.key),ne());let p,A;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let k=xn(),P=ne();return u.hs.getEntries(R,f).next(x=>{k=x,k.forEach((v,g)=>{g.isValidDocument()||(P=P.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,k)).next(x=>{p=x;const v=[];for(const g of l){const I=Vx(g,p.get(g.key).overlayedDocument);I!=null&&v.push(new Xr(g.key,I,W0(I.value.mapValue),yn.exists(!0)))}return u.mutationQueue.addMutationBatch(R,h,v,l)}).next(x=>{A=x;const v=x.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(R,x.batchId,v)})}).then(()=>({batchId:A.batchId,changes:$0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.qa[o.currentUser.toKey()];h||(h=new Ee(re)),h=h.insert(l,u),o.qa[o.currentUser.toKey()]=h}(r,i.batchId,n),await Oo(r,i.changes),await mu(r.remoteStore)}catch(i){const s=Sf(i,"Failed to persist write");n.reject(s)}}async function L_(t,e){const n=Y(t);try{const r=await Pk(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?ae(o.Fa):i.removedDocuments.size>0&&(ae(o.Fa),o.Fa=!1))}),await Oo(n,r,e)}catch(r){await ts(r)}}function sA(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const l=o.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Y(o);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const A of p.J_)A.ea(l)&&(h=!0)}),h&&Rf(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gP(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ee(H.comparator);o=o.insert(s,et.newNoDocument(s,X.min()));const l=ne().add(s),u=new du(X.min(),new Map,new Ee(re),o,l);await L_(r,u),r.La=r.La.remove(s),r.Ba.delete(e),Cf(r)}else await Gh(r.localStore,e,!1).then(()=>Hh(r,e,n)).catch(ts)}async function AP(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await kk(n.localStore,e);j_(n,r,null),M_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oo(n,i)}catch(i){await ts(i)}}async function yP(t,e,n){const r=Y(t);try{const i=await function(o,l){const u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(ae(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);j_(r,e,n),M_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oo(r,i)}catch(i){await ts(i)}}function M_(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function j_(t,e,n){const r=Y(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Hh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||F_(t,r)})}function F_(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(_f(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Cf(t))}function oA(t,e,n){for(const r of n)r instanceof D_?(t.ka.addReference(r.key,e),vP(t,r)):r instanceof V_?(W("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||F_(t,r.key)):q()}function vP(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(W("SyncEngine","New document in limbo: "+n),t.Na.add(r),Cf(t))}function Cf(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new H(ge.fromString(e)),r=t.Ka.next();t.Ba.set(r,new lP(n)),t.La=t.La.insert(n,r),T_(t.remoteStore,new Xn(Xt(df(n.path)),r,"TargetPurposeLimboResolution",ru.oe))}}async function Oo(t,e,n){const r=Y(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{o.push(r.Ua(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){i.push(h);const p=vf.zi(u.targetId,h);s.push(p)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,h){const f=Y(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(h,A=>M.forEach(A.Wi,R=>f.persistence.referenceDelegate.addReference(p,A.targetId,R)).next(()=>M.forEach(A.Gi,R=>f.persistence.referenceDelegate.removeReference(p,A.targetId,R)))))}catch(p){if(!ns(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const A=p.targetId;if(!p.fromCache){const R=f.us.get(A),k=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(k);f.us=f.us.insert(A,P)}}}(r.localStore,s))}async function _P(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await __(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(l=>{l.forEach(u=>{u.reject(new Q(j.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oo(n,r.Ts)}}function EP(t,e){const n=Y(t),r=n.Ba.get(e);if(r&&r.Fa)return ne().add(r.key);{let i=ne();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const l=n.xa.get(o);i=i.unionWith(l.view.fa)}return i}}function U_(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=L_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gP.bind(null,e),e.Ma.R_=iP.bind(null,e.eventManager),e.Ma.Wa=sP.bind(null,e.eventManager),e}function wP(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yP.bind(null,e),e}class Dl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return xk(this.persistence,new Rk,e.initialUser,this.serializer)}ja(e){return new v_(yf.ei,this.serializer)}za(e){return new Ok}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dl.provider={build:()=>new Dl};class IP extends Dl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ae(this.persistence.referenceDelegate instanceof bl);const r=this.persistence.referenceDelegate.garbageCollector;return new hk(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?ht.withCacheSize(this.cacheSizeBytes):ht.DEFAULT;return new v_(r=>bl.ei(r,n),this.serializer)}}class qh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_P.bind(null,this.syncEngine),await tP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rP}()}createDatastore(e){const n=fu(e.databaseInfo.databaseId),r=function(s){return new Fk(s)}(e.databaseInfo);return function(s,o,l,u){return new zk(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new Gk(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>sA(this.syncEngine,n,0),function(){return eA.p()?new eA:new Lk}())}createSyncEngine(e,n){return function(i,s,o,l,u,h,f){const p=new uP(i,s,o,l,u,h);return f&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Y(i);W("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Vo(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qh.provider={build:()=>new qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=U0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kc(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await __(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SP(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>tA(e.remoteStore,i)),t._onlineComponents=e}async function SP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await kc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fi("Error using user provided cache. Falling back to memory cache: "+n),await kc(t,new Dl)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await kc(t,new IP(void 0));return t._offlineComponents}async function z_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await aA(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await aA(t,new qh))),t._onlineComponents}function RP(t){return z_(t).then(e=>e.syncEngine)}async function W_(t){const e=await z_(t),n=e.eventManager;return n.onListen=cP.bind(null,e.syncEngine),n.onUnlisten=fP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pP.bind(null,e.syncEngine),n}function CP(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new B_({next:A=>{f.eu(),o.enqueueAndForget(()=>b_(s,p));const R=A.docs.has(l);!R&&A.fromCache?h.reject(new Q(j.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&A.fromCache&&u&&u.source==="server"?h.reject(new Q(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(A)},error:A=>h.reject(A)}),p=new N_(df(l.path),f,{includeMetadataChanges:!0,ua:!0});return P_(s,p)}(await W_(t),t.asyncQueue,e,n,r)),r.promise}function xP(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new B_({next:A=>{f.eu(),o.enqueueAndForget(()=>b_(s,p)),A.fromCache&&u.source==="server"?h.reject(new Q(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(A)},error:A=>h.reject(A)}),p=new N_(l,f,{includeMetadataChanges:!0,ua:!0});return P_(s,p)}(await W_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t,e,n){if(!n)throw new Q(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kP(t,e,n,r){if(e===!0&&r===!0)throw new Q(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uA(t){if(!H.isDocumentKey(t))throw new Q(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cA(t){if(H.isDocumentKey(t))throw new Q(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new Q(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FC;switch(r.type){case"firstParty":return new WC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lA.get(n);r&&(W("ComponentProvider","Removing Datastore"),lA.delete(n),r.terminate())}(this),Promise.resolve()}}function PP(t,e,n,r={}){var i;const s=(t=Gr(t,gu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ze.MOCK_USER;else{l=g1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Q(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ze(h)}t._authCredentials=new UC(new F0(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Au(this.firestore,e,this._query)}}class It{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class lr extends Au{constructor(e,n,r){super(e,n,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new H(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function Pc(t,e,...n){if(t=At(t),Q_("collection","path",e),t instanceof gu){const r=ge.fromString(e,...n);return cA(r),new lr(t,null,r)}{if(!(t instanceof It||t instanceof lr))throw new Q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return cA(r),new lr(t.firestore,null,r)}}function ot(t,e,...n){if(t=At(t),arguments.length===1&&(e=U0.newId()),Q_("doc","path",e),t instanceof gu){const r=ge.fromString(e,...n);return uA(r),new It(t,null,new H(r))}{if(!(t instanceof It||t instanceof lr))throw new Q(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return uA(r),new It(t.firestore,t instanceof lr?t.converter:null,new H(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new w_(this,"async_queue_retry"),this.fu=()=>{const r=xc();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=xc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=xc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new An;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ns(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Tf.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&q()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class yu extends gu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dA(e),this._firestoreClient=void 0,await e}}}function is(t,e){const n=typeof t=="object"?t:Zv(),r=typeof t=="string"?t:"(default)",i=Jd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=p1("firestore");s&&PP(i,...s)}return i}function kf(t){if(t._terminated)throw new Q(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bP(t),t._firestoreClient}function bP(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,h,f){return new ix(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,G_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TP(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hi(Ge.fromBase64String(e))}catch(n){throw new Q(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hi(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^__.*__$/;class H_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function q_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}class Eu{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Eu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Vl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(q_(this.Mu)&&NP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class DP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fu(e)}$u(e,n,r,i=!1){return new Eu({Mu:e,methodName:n,Ku:r,path:Be.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VP(t){const e=t._freezeSettings(),n=fu(t._databaseId);return new DP(t._databaseId,!!e.ignoreUndefinedProperties,n)}class wu extends _u{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wu}}function OP(t,e,n){return new Eu({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Nf extends _u{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=OP(this,e,!0),r=this.Uu.map(s=>Lo(s,n)),i=new Wi(r);return new Px(e.path,i)}isEqual(e){return e instanceof Nf&&mo(this.Uu,e.Uu)}}function LP(t,e,n,r){const i=t.$u(1,e,n);J_("Data must be an object, but it was:",i,r);const s=[],o=_t.empty();vr(r,(u,h)=>{const f=Df(e,u,n);h=At(h);const p=i.Bu(f);if(h instanceof wu)s.push(f);else{const A=Lo(h,p);A!=null&&(s.push(f),o.set(f,A))}});const l=new Ft(s);return new H_(o,l,i.fieldTransforms)}function MP(t,e,n,r,i,s){const o=t.$u(1,e,n),l=[fA(e,r,n)],u=[i];if(s.length%2!=0)throw new Q(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)l.push(fA(e,s[A])),u.push(s[A+1]);const h=[],f=_t.empty();for(let A=l.length-1;A>=0;--A)if(!UP(h,l[A])){const R=l[A];let k=u[A];k=At(k);const P=o.Bu(R);if(k instanceof wu)h.push(R);else{const x=Lo(k,P);x!=null&&(h.push(R),f.set(R,x))}}const p=new Ft(h);return new H_(f,p,o.fieldTransforms)}function Lo(t,e){if(K_(t=At(t)))return J_("Unsupported field value:",e,t),jP(t,e);if(t instanceof _u)return function(r,i){if(!q_(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Lo(l,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Cx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=De.fromDate(r);return{timestampValue:Pl(i.serializer,s)}}if(r instanceof De){const s=new De(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pl(i.serializer,s)}}if(r instanceof Pf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hi)return{bytesValue:d_(i.serializer,r._byteString)};if(r instanceof It){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bf)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return ff(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${xf(r)}`)}(t,e)}function jP(t,e){const n={};return B0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(t,(r,i)=>{const s=Lo(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function K_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof Pf||t instanceof Hi||t instanceof It||t instanceof _u||t instanceof bf)}function J_(t,e,n){if(!K_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xf(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function fA(t,e,n){if((e=At(e))instanceof vu)return e._internalPath;if(typeof e=="string")return Df(t,e);throw Vl("Field path arguments must be of type string or ",t,!1,void 0,n)}const FP=new RegExp("[~\\*/\\[\\]]");function Df(t,e,n){if(e.search(FP)>=0)throw Vl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw Vl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Q(j.INVALID_ARGUMENT,l+t+u)}function UP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Y_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BP extends X_{data(){return super.data()}}function Y_(t,e){return typeof e=="string"?Df(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WP{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new bf(s)}convertGeoPoint(e){return new Pf(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=su(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const n=dr(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);ae(y_(r));const i=new _o(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(n)||Cn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z_ extends X_{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Y_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qa extends Z_{data(e={}){return super.data(e)}}class GP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qa(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Qa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Qa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Vs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:QP(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){t=Gr(t,It);const e=Gr(t.firestore,yu);return CP(kf(e),t._key).then(n=>qP(e,t,n))}class $_ extends WP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function bc(t){t=Gr(t,Au);const e=Gr(t.firestore,yu),n=kf(e),r=new $_(e);return zP(t._query),xP(n,t._query).then(i=>new GP(e,r,t,i))}function Qr(t,e,n,...r){t=Gr(t,It);const i=Gr(t.firestore,yu),s=VP(i);let o;return o=typeof(e=At(e))=="string"||e instanceof vu?MP(s,"updateDoc",t._key,e,n,r):LP(s,"updateDoc",t._key,e),HP(i,[o.toMutation(t._key,yn.exists(!0))])}function HP(t,e){return function(r,i){const s=new An;return r.asyncQueue.enqueueAndForget(async()=>mP(await RP(r),i,s)),s.promise}(kf(t),e)}function qP(t,e,n){const r=n.docs.get(e._key),i=new $_(t);return new Z_(t,i,e._key,r,new Vs(n.hasPendingWrites,n.fromCache),e.converter)}function KP(...t){return new Nf("arrayUnion",t)}(function(e,n=!0){(function(i){es=i})(Zi),Mi(new Br("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new yu(new BC(r.getProvider("auth-internal")),new QC(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(h.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),ar(kg,"4.7.5",e),ar(kg,"4.7.5","esm2017")})();const Nn={apiKey:"AIzaSyCKUn24_Dtpc8DCG5d0KjdyuXMlz-Y7je4",authDomain:"realsolution-33055.firebaseapp.com",projectId:"realsolution-33055",storageBucket:"realsolution-33055.firebasestorage.app",messagingSenderId:"513642320133",appId:"1:513642320133:web:0ebc934185883c356ca76c",measurementId:"G-XLSTJNHW6M"},eE=Kr(Nn);MC(eE);const Kh=is(eE),tE=L.createContext();function pA({children:t}){const[e,n]=L.useState(null);return _.jsx(tE.Provider,{value:{mobileNumber:e,setMobileNumber:n},children:t})}function en(){return L.useContext(tE)}function JP(){const{setMobileNumber:t}=en(),e=Pn(),[n,r]=L.useState(""),[i,s]=L.useState(""),[o,l]=L.useState(null),u=Xh(Nn),h=AA(u),f=Yh(u),[p,A]=L.useState(""),[R,k]=L.useState(""),[P,x]=L.useState(""),[v,g]=L.useState(""),[I,V]=L.useState(""),[F,D]=L.useState(""),[E,y]=L.useState(""),[w,T]=L.useState(""),C=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new vA("recaptcha-container",{size:"invisible",callback:$=>{console.log("Recaptcha solved.")}},h),window.recaptchaVerifier.render())};L.useEffect(()=>{p&&console.log("Name has been updated:",p)},[p]),L.useEffect(()=>{v&&console.log("Password has been updated:",v)},[v]);const b=async()=>{if(!n||n.length<10){alert("Please enter a valid mobile number.");return}if(v!==I){alert("Passwords do not match.");return}if(!p||!R||!P||!v){alert("Please fill in all fields.");return}C();const $=window.recaptchaVerifier;try{const Dt=await yA(h,`+91${n}`,$);l(Dt)}catch(Dt){console.error("Error sending OTP: ",Dt.message),alert("Failed to send OTP. Please try again.")}},S=async()=>{if(!i||i.length<6){alert("Please enter the correct OTP.");return}try{const $=await o.confirm(i);t(n);const Dt=Ha(f,"users",n);await OE(Dt,{mobileNumber:n,name:p,address:R,pincode:P,password:v,facebookId:w,instagramId:E,referralCode:F}),e("/realSolution/Home"),console.log("User data:",$.user)}catch($){console.error("Error verifying OTP: ",$.message),alert("Invalid OTP. Please try again.")}},Qe=()=>{e("/realSolution/Login")};return _.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:[_.jsx("div",{style:{width:"80%",maxWidth:400,display:"flex",justifyContent:"start"},children:_.jsx("h1",{style:{fontSize:20,marginBottom:10,color:"black",fontWeight:"normal"},children:"Sign Up"})}),_.jsxs("div",{style:{width:"80%",maxWidth:400,display:"flex",flexDirection:"column",gap:5},children:[_.jsx("input",{type:"number",placeholder:"Mobile Number",value:n,onInput:$=>{$.target.value.length>10&&($.target.value=$.target.value.slice(0,10)),r($.target.value)},style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"text",placeholder:"Name",onChange:$=>A($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"password",placeholder:"Create Password",onChange:$=>g($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"text",placeholder:"Re-Enter Password",onChange:$=>V($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"text",placeholder:"Address",onChange:$=>k($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"number",placeholder:"Pincode",onInput:$=>{$.target.value.length>6&&($.target.value=$.target.value.slice(0,6)),x($.target.value)},style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"text",placeholder:"Referral Code (Optional)",onChange:$=>D($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"text",placeholder:"Instagram Id (Optional)",onChange:$=>y($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"text",placeholder:"Facebook Id (Optional)",onChange:$=>T($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),o&&_.jsx("input",{type:"number",placeholder:"Enter OTP",value:i,onChange:$=>s($.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("button",{onClick:o?S:b,style:{padding:12,fontSize:16,borderRadius:5,border:"none",backgroundColor:"black",color:"#ffffff",cursor:"pointer"},children:o?"Verify OTP":"SIGN UP WITH OTP"}),_.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"end"},children:_.jsx("a",{onClick:Qe,style:{textDecoration:"none",color:"black",fontSize:20},children:"Login"})})]}),_.jsx("div",{id:"recaptcha-container",style:{marginTop:10}})]})}function mA(){const{setMobileNumber:t}=en(),e=Pn(),[n,r]=L.useState(""),[i,s]=L.useState(""),o=Xh(Nn),l=Yh(o),u=async()=>{if(!n||n.length<10||!i){alert("Please enter a valid mobile number and password.");return}try{const f=Ha(l,"users",n),p=await gA(f);p.exists()?p.data().password===i?(t(n),e("/realSolution/Home")):alert("Incorrect password. Please try again."):alert("This mobile number is not registered. Please sign up.")}catch(f){console.error("Error logging in: ",f),alert("Failed to log in. Please try again.")}},h=()=>{e("/realSolution/App")};return _.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:[_.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",width:"80%",maxWidth:400},children:_.jsx("h1",{style:{fontSize:20,marginBottom:10,color:"black",fontWeight:"normal"},children:"Login"})}),_.jsxs("div",{style:{width:"80%",maxWidth:400,display:"flex",flexDirection:"column",gap:10},children:[_.jsx("input",{type:"number",placeholder:"Mobile Number",value:n,onInput:f=>{f.target.value.length>10&&(f.target.value=f.target.value.slice(0,10)),r(f.target.value)},style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:f=>s(f.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),_.jsx("button",{onClick:u,style:{padding:12,fontSize:16,borderRadius:5,border:"none",backgroundColor:"black",color:"#ffffff",cursor:"pointer"},children:"Login"}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[_.jsx("a",{style:{textDecoration:"none",color:"blue",fontSize:16},onClick:()=>{e("/realSolution/ForgotPassword")},children:"Forgot Password"}),_.jsx("a",{onClick:h,style:{textDecoration:"none",color:"black",fontSize:20},children:"Sign Up"})]})]})]})}const Vf="data:image/png;base64,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",Of="data:image/png;base64,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",Lf="data:image/png;base64,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",nE="data:image/png;base64,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",XP="data:image/png;base64,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",YP="data:image/png;base64,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",ZP="data:image/png;base64,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",rE="data:image/png;base64,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";function $P({display:t}){const{setMobileNumber:e,mobileNumber:n}=en();L.useState(!0);const r=Pn(),i=o=>{switch(o){case"Home":r("/realSolution/Home");break;case"Settings":r("/realSolution/Settings");break;case"Wallet":r("/realSolution/Wallet");break;case"My Orders":r("/realSolution/MyOrders");break;case"My Referrals":r("/realSolution/MyReferrals");break;case"My Cart":r("/realSolution/Cart");break;case"Logout":e(""),r("/realSolution/");break;default:console.warn(`No route defined for ${o}`)}},s=[{label:"Home",icon:Vf,route:"Home"},{label:"Settings",icon:rE,route:"Settings"},{label:"Wallet",icon:Of,route:"Wallet"},{label:"My Orders",icon:Lf,route:"My Orders"},{label:"My Referrals",icon:ZP,route:"My Referrals"},{label:"My Cart",icon:nE,route:"My Cart"},{label:"Logout",icon:YP,route:"Logout"}];return _.jsx("div",{style:{height:350,width:225,backgroundColor:"white",position:"absolute",bottom:65,right:5,display:t,borderRadius:7,border:"1px solid black"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"column",padding:10},children:[_.jsx("p",{style:{margin:3},children:"Menu"}),_.jsx("hr",{style:{border:"1px solid grey",margin:"5px 0"}}),s.map(({label:o,icon:l,route:u},h)=>_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:10,alignItems:"center",margin:"5px 0",cursor:"pointer"},onClick:()=>i(u),children:[_.jsx("img",{src:l,alt:o,style:{height:20,width:20}}),_.jsx("p",{style:{margin:0},children:o})]},h))]})})}const eb="data:image/png;base64,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";function ss({HomeImage1:t,CartImage1:e,MyOrdersImage1:n,WalletImage1:r}){const i=Pn(),s=Kr(Nn),o=is(s),{mobileNumber:l}=en(),[u,h]=L.useState("none"),[f,p]=L.useState([]);return L.useEffect(()=>{(async()=>{try{const R=ot(o,"users",l),k=await vn(R);if(k.exists()){const P=k.data().cartItems||[];p(P)}}catch(R){console.error("Error fetching cart items:",R)}finally{}})()},[l]),_.jsxs("div",{style:{position:"absolute",bottom:0,width:"100%",height:60,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly",border:"1px solid black",zIndex:99999999,backgroundColor:"white"},children:[_.jsx("img",{onClick:()=>i("/realSolution/Home"),style:{height:45,width:45},src:t||Vf,alt:"Home"}),_.jsx("img",{onClick:()=>i("/realSolution/Cart"),style:{height:50,width:50},src:e||nE,alt:"Cart"}),_.jsx("img",{onClick:()=>i("/realSolution/MyOrders"),style:{height:50,width:50},src:n||Lf,alt:"MyOrders"}),_.jsx("img",{onClick:()=>i("/realSolution/Wallet"),style:{height:50,width:50},src:r||Of,alt:"Wallet"}),_.jsx("img",{onClick:()=>{h(u==="none"?"block":"none")},style:{height:50,width:50},src:u==="block"?eb:XP,alt:"Menu"}),_.jsx("div",{onClick:()=>i("/realSolution/AdminRavi"),style:{height:40,width:40,borderRadius:"50%",display:l==="9352000360"||l==="9829435433"?"flex":"none",alignItems:"center",justifyContent:"center",backgroundColor:"black",color:"white",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.5)"},children:"a"}),_.jsx($P,{display:u})]})}const Jh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAQlBMVEX///+hoaGcnJynp6exsbGXl5fb29ve3t6ioqKbm5vy8vLh4eHGxsb8/PzT09Oqqqq/v7/s7Oy7u7vLy8u0tLTn5+een/GIAAABkklEQVR4nO3Z3XKqMBSAUQJaG0TRU/v+r1rwpyJ1DnjVbmatKyfkwm8iAaQoAAAAAAAAAAAAAAAAAAAAAAAAAABGmuol9W9/39e9p3K+lN9++/u+rnp/YfJ2vfTCjcK/6FxYr9b5Y8bksIW7bg9J+TA9OWzhvgvsEneTk8MWNpfC4+TksIVv+Vw4PTlsYdF2i7jejw81+d9oJG5h8bE6bcdHupUtR7tP4MIn6v6nmx+7l1VY9edmKh822EUVHs77a0rtcHBJhZt8CUxlMxxdTuHuuoL9qfh5Hw5feGxuD7htuhucitELj+syXxKbclCYVt8zohf2NVX/4TMPA1P+vhcIXnjqF66/xu8eVnB4xxq7cH9ZuLwpVmnsNid0YX2/PIyXsBu73qCGLqzuOT8C0+0/tsiFh2ddw8TzJhu4cJP/H3jdZOMW1pOBlwepuIXtZOB5k41b+GT3fH4qRi3crucEprINWzhfzPcWaTVfG/Hd0ym/8HatHD4sAgAAAAAAAAAAAAAAAAAAAAAAAAAAACzEFw5YC421wb0dAAAAAElFTkSuQmCC",tb="data:image/png;base64,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",nb=()=>{const t=Pn(),e=Kr(Nn),n=is(e),{mobileNumber:r}=en(),[i,s]=L.useState([]),[o,l]=L.useState(null),[u,h]=L.useState(null),[f,p]=L.useState([]),[A,R]=L.useState(!1);L.useEffect(()=>{(async()=>{R(!0);try{const g=await bc(Pc(n,"menu-items")),I=[];for(const V of g.docs){const F=await bc(Pc(n,"menu-items",V.id,"brand")),D=[];for(const E of F.docs){const w=(await bc(Pc(n,"menu-items",V.id,"brand",E.id,"items"))).docs.map(T=>({id:T.id,...T.data()}));D.push({id:E.id,...E.data(),items:w})}I.push({id:V.id,...V.data(),brands:D})}s(I)}catch(g){console.error("Error fetching categories:",g)}finally{R(!1)}})()},[]),L.useEffect(()=>{(async()=>{try{const g=ot(n,"users",r),I=await vn(g);I.exists()&&p(I.data().cartItems||[])}catch(g){console.error("Error fetching cart items:",g)}})()},[r]);const k=async v=>{try{const g=ot(n,"users",r),I=[...f,{...v,quantity:1}];p(I),await Qr(g,{cartItems:I})}catch(g){console.error("Error adding to cart:",g),alert("Could not add item to cart.")}},P=async(v,g)=>{try{const I=ot(n,"users",r),V=f.map(F=>{if(F.id===v){const D=(F.quantity||0)+g;return D>0?{...F,quantity:D}:null}return F}).filter(Boolean);p(V),await Qr(I,{cartItems:V})}catch(I){console.error("Error updating cart quantity:",I)}},x=v=>{const g=f.find(I=>I.id===v);return g?g.quantity:0};return _.jsxs("div",{style:{fontFamily:"Arial, sans-serif",backgroundColor:"#f8f9fa",minHeight:"100vh",overflow:"hidden",width:"100vw"},children:[_.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"row",padding:5,alignItems:"center",gap:10,backgroundColor:"#ffffff",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:[_.jsx("img",{style:{height:30,width:30},src:Vf,alt:"Home"}),_.jsx("p",{style:{fontSize:24,margin:0,color:"darkGreen"},children:"Real Solution"})]}),_.jsx("div",{style:{padding:"5px",overflow:"scroll",maxHeight:"calc(100vh - 170px)"},children:A?_.jsx("div",{style:{textAlign:"center",fontSize:"18px",color:"#6c757d"},children:"Loading..."}):_.jsx("div",{style:{display:"grid",gap:5,overflow:"hidden"},children:i.map(v=>_.jsxs("div",{style:{border:"1px solid #dee2e6",borderRadius:"8px",padding:"10px",backgroundColor:"#ffffff",display:"flex",flexDirection:"column",width:"92vw"},children:[_.jsxs("div",{onClick:()=>{l(v.id),h(null)},style:{display:"flex",flexDirection:"row",alignItems:"center",gap:10},children:[_.jsx("img",{style:{height:60,width:60,borderRadius:5,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},src:v.imageUrl,alt:""}),_.jsx("p",{style:{fontSize:"20px",color:"#343a40",cursor:"pointer",margin:0},children:v.id})]}),o===v.id&&_.jsxs("div",{style:{width:"100%"},children:[_.jsx("div",{style:{borderWidth:.5,borderColor:"grey",borderStyle:"solid",marginTop:10}}),_.jsx("div",{style:{display:"flex",gap:5,marginTop:"10px",overflowY:"scroll",maxWidth:"100vw",scrollbarWidth:"none",flexDirection:"row"},children:v.brands.map(g=>_.jsxs("div",{onClick:I=>{h(g),I.target.style.backgroundColor="black"},style:{cursor:"pointer",textAlign:"center",maxWidth:"100px",backgroundColor:(u==null?void 0:u.id)===g.id?"grey":"white",borderRadius:7},children:[_.jsx("img",{src:g.imageUrl||Jh,alt:g.id,style:{height:60,width:60,objectFit:"cover",borderRadius:"8px",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"}}),_.jsx("p",{style:{fontSize:"16px",margin:"0px",color:(u==null?void 0:u.id)===g.id?"white":"#495057"},children:g.id})]},g.id))}),u&&_.jsx("div",{style:{marginTop:"5px",width:"100%"},children:_.jsx("div",{style:{display:"flex",gap:5,overflowY:"scroll",maxWidth:"100vw",scrollbarWidth:"none",flexDirection:"row"},children:u.items.map(g=>_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5,border:"1px solid #dee2e6",borderRadius:"8px",padding:"10px",backgroundColor:"#f8f9fa",flexDirection:"column"},children:[_.jsx("img",{src:g.imageUrl||Jh,alt:"",style:{height:90,width:90,borderRadius:"5px",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.1)"}}),_.jsx("p",{style:{margin:0,fontSize:"16px",flexGrow:1,textAlign:"center"},children:g.name}),_.jsxs("p",{style:{margin:0,fontSize:"16px",flexGrow:1,color:"green"},children:[" ",g.price]}),x(g.id)>0?_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[_.jsx("button",{style:{padding:"5px",border:"1px solid #dee2e6",borderRadius:"4px",backgroundColor:"#d9534f",color:"#fff",height:30,width:30,fontWeight:"bold",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},onClick:()=>P(g.id,-1),children:"-"}),_.jsx("span",{children:x(g.id)}),_.jsx("button",{style:{padding:"5px",border:"1px solid #dee2e6",borderRadius:"4px",backgroundColor:"#5cb85c",color:"#fff",height:30,width:30,fontWeight:"bold",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},onClick:()=>P(g.id,1),children:"+"})]}):_.jsx("button",{style:{padding:"5px",border:"none",borderRadius:"5px",backgroundColor:"black",color:"#fff",cursor:"pointer",fontSize:14,width:90,height:30,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},onClick:()=>k(g),children:_.jsx("span",{children:"Add"})})]},g.id))})})]})]},v.id))})}),f.length>0&&_.jsx("div",{style:{position:"absolute",width:"100%",bottom:75,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("button",{onClick:()=>t("/realSolution/Cart"),style:{width:"90%",height:45,backgroundColor:"black",color:"white",borderRadius:7,fontSize:16},children:"Go To Cart"})}),_.jsx(ss,{HomeImage1:tb})]})},rb="data:image/png;base64,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",ib=()=>{const t=Pn(),e=Kr(Nn),n=is(e),{mobileNumber:r}=en(),[i,s]=L.useState([]),[o,l]=L.useState(!1),[u,h]=L.useState(0),[f,p]=L.useState(""),[A,R]=L.useState(""),[k,P]=L.useState(""),x=D=>{p(D.target.value),D.target.style.height="auto",D.target.style.height=`${D.target.scrollHeight}px`,console.log(D.target.style.height)};L.useEffect(()=>{(async()=>{l(!0);try{const E=ot(n,"users",r),y=await vn(E);if(y.exists()){const w=y.data().cartItems||[];s(w),v(w)}}catch(E){console.error("Error fetching cart items:",E)}finally{l(!1)}})()},[r]);const v=D=>{const E=D.reduce((y,w)=>y+w.price*w.quantity,0);h(E)},g=async D=>{try{const E=ot(n,"users",r);await Qr(E,{cartItems:D})}catch(E){console.error("Error updating cart in Firestore:",E)}},I=(D,E)=>{const y=i.map(w=>{if(w.id===D){const T=(w.quantity||0)+E;return T>0?{...w,quantity:T}:null}return w}).filter(Boolean);s(y),g(y),v(y)},V=D=>{const E=i.filter(y=>y.id!==D);s(E),g(E),v(E)},F=async()=>{if(document.getElementById("deliveryAddress").style.borderColor==="red"&&document.getElementById("deliveryPincode").style.borderColor==="red"&&document.getElementById("mobileNumberInput").style.borderColor==="red"){alert("Please fill all required fields");return}if(document.getElementById("deliveryAddress").style.borderColor==="red"){alert("Please fill Delivery Address");return}if(document.getElementById("deliveryPincode").style.borderColor==="red"){alert("Please fill 6 digit pincode");return}if(document.getElementById("mobileNumberInput").style.borderColor==="red"){alert("Please fill 10 digit mobile number");return}try{const D=ot(n,"users",r),E={items:i,total:u,orderDate:new Date().toISOString(),status:"Pending"};await Qr(D,{orders:KP(E),cartItems:[]}),s([]),h(0),t("/realSolution/CustomPopup")}catch(D){console.error("Error confirming order:",D),alert("Failed to confirm order. Try again.")}};return _.jsxs("div",{children:[_.jsxs("div",{style:{padding:"10px",fontFamily:"Arial, sans-serif"},children:[_.jsx("h1",{style:{margin:"5px",fontSize:20,marginBottom:0},children:"My Cart"}),_.jsx("div",{style:{borderWidth:.5,borderStyle:"solid",borderColor:"grey",width:"100%",marginTop:5}}),o?_.jsx("div",{style:{textAlign:"center"},children:"Loading..."}):i.length>0?_.jsxs(_.Fragment,{children:[_.jsx("textarea",{id:"deliveryAddress",onChange:x,type:"text",placeholder:"Delivery Address",maxLength:100,style:{height:20,minHeight:20,width:"96.5%",paddingLeft:10,borderWidth:1,borderColor:f?"black":"red",borderRadius:5,marginTop:5,borderStyle:"solid",fontSize:16,maxHeight:"61px",outlineStyle:"none"}}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",gap:"0.5%"},children:[_.jsx("input",{id:"deliveryPincode",type:"number",onInput:D=>{D.target.value.length<6?D.target.style.borderColor="red":D.target.style.borderColor="black",D.target.value.length>6&&(D.target.value=D.target.value.slice(0,6)),R(D.target.value)},placeholder:"Delivery Pincode",style:{height:25,width:"50%",paddingLeft:10,borderWidth:1,borderColor:"red",borderRadius:5,marginBottom:5,marginTop:1,borderStyle:"solid",fontSize:16,outlineStyle:"none"}}),_.jsx("input",{id:"mobileNumberInput",type:"number",onInput:D=>{D.target.value.length<10?D.target.style.borderColor="red":D.target.style.borderColor="black",D.target.value.length>10&&(D.target.value=D.target.value.slice(0,10)),P(D.target.value)},placeholder:"Mobile Number",style:{height:25,width:"50%",paddingLeft:10,borderWidth:1,borderColor:"red",borderRadius:5,marginBottom:5,marginTop:1,borderStyle:"solid",fontSize:16,outlineStyle:"none"}})]}),_.jsx("div",{style:{maxHeight:400,overflowY:"auto"},children:i.map(D=>_.jsxs("div",{style:{display:"flex",alignItems:"center",border:"1px solid #ddd",padding:"5px",borderRadius:"5px",marginTop:5,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.09)"},children:[_.jsx("img",{src:D.imageUrl||Jh,alt:D.name,style:{height:"70px",width:"70px",marginRight:"15px",borderRadius:"5px",objectFit:"cover",borderRightWidth:.5,borderRightColor:"black",borderRightStyle:"solid",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"}}),_.jsxs("div",{style:{flex:1},children:[_.jsx("p",{style:{margin:"0",fontSize:"16px",fontWeight:"bold"},children:D.name}),_.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#555"},children:["",D.price*D.quantity]}),_.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#555"},children:D.measurement})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",alignSelf:"end"},children:[_.jsx("button",{onClick:()=>I(D.id,-1),style:{padding:"5px",border:"none",background:"red",color:"white",cursor:"pointer",borderRadius:"5px",width:"30px",height:"30px",fontWeight:"bold",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},children:"-"}),_.jsx("span",{style:{fontSize:"16px"},children:D.quantity}),_.jsx("button",{onClick:()=>I(D.id,1),style:{padding:"5px",border:"none",background:"green",color:"white",cursor:"pointer",borderRadius:"5px",width:"30px",height:"30px",fontWeight:"bold",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},children:"+"}),_.jsx("button",{onClick:()=>V(D.id),style:{padding:"5px 10px",background:"black",color:"white",cursor:"pointer",borderRadius:"5px",marginLeft:5,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},children:"Remove"})]})]},D.id))}),_.jsxs("div",{style:{marginTop:"5px",fontSize:"18px",fontWeight:"bold",textAlign:"right"},children:["Total: ",u]}),_.jsx("button",{onClick:F,style:{marginTop:"5px",padding:"10px",backgroundColor:"#4caf50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",width:"100%",height:40},children:"Confirm Order"})]}):_.jsx("div",{style:{textAlign:"center",fontSize:"16px",color:"#555",marginTop:10},children:"Your cart is empty."})]}),_.jsx("div",{style:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:5,right:5},children:_.jsx("div",{onClick:()=>t("/realSolution/Home"),style:{width:"95%",height:35,backgroundColor:"#ff6347",color:"white",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.5)"},children:"Continue Purchasing"})}),_.jsx(ss,{CartImage1:rb})]})},sb="data:image/png;base64,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",ob=()=>{const t=Kr(Nn),e=is(t),{mobileNumber:n}=en(),[r,i]=L.useState([]),[s,o]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const u=ot(e,"users",n),h=await vn(u);h.exists()&&i(h.data().orders||[])}catch(u){console.error("Error fetching orders:",u)}finally{o(!1)}})()},[n]),_.jsxs("div",{children:[_.jsxs("div",{style:{padding:"10px",fontFamily:"Arial, sans-serif"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:5,alignItems:"center"},children:[_.jsx("img",{style:{height:40,width:40},src:Lf,alt:""}),_.jsx("p",{style:{marginTop:"0px",marginBottom:5,fontSize:20},children:"My Orders"})]}),_.jsx("div",{style:{borderWidth:.5,borderStyle:"solid",borderColor:"grey",width:"100%",marginBottom:5}}),s?_.jsx("div",{style:{textAlign:"center"},children:"Loading..."}):r.length>0?_.jsx("div",{style:{maxHeight:"75vh",overflowY:"auto",paddingRight:"5px"},children:r.slice().reverse().map((l,u)=>{const h=r.length-u;return _.jsxs("div",{style:{marginBottom:"5px",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9"},children:[_.jsxs("h3",{style:{fontSize:"18px",marginBottom:"10px",marginTop:"5px"},children:["Order #",h," - ",_.jsx("span",{style:{color:l.status==="Approved"?"green":l.status==="Rejected"?"red":"#BA8E23"},children:l.status})]}),_.jsx("div",{style:{marginBottom:"10px"},children:_.jsxs("p",{style:{margin:"0",fontSize:"16px"},children:["Date: ",new Date(l.orderDate).toLocaleString()]})}),_.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #ddd",paddingTop:"5px"},children:[_.jsx("h4",{style:{fontSize:"16px",marginBottom:"5px",marginTop:"0px"},children:"Items:"}),l.items.map((f,p)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[_.jsxs("span",{style:{fontSize:"14px"},children:[f.name," (x",f.quantity,")"]}),_.jsxs("span",{style:{fontSize:"14px"},children:["",f.price*f.quantity]})]},p)),_.jsxs("div",{style:{marginTop:"10px",display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[_.jsx("span",{style:{fontSize:"16px"},children:"Total:"}),_.jsxs("span",{style:{fontSize:"16px"},children:["",l.total]})]})]})]},h)})}):_.jsx("div",{style:{textAlign:"center",fontSize:"16px",color:"#555"},children:"You have no orders yet."})]}),_.jsx(ss,{MyOrdersImage1:sb})]})};function ab(){const t=Pn(),[e,n]=L.useState(""),[r,i]=L.useState(""),[s,o]=L.useState(""),[l,u]=L.useState(null),h=Xh(Nn),f=AA(h),p=Yh(h),A=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new vA("recaptcha-container",{size:"invisible",callback:P=>{console.log("Recaptcha solved.")}},f),window.recaptchaVerifier.render())},R=async()=>{if(!e||e.length<10){alert("Please enter a valid mobile number.");return}const P=Ha(p,"users",e);if(!(await gA(P)).exists()){alert("This mobile number is not registered.");return}A();const v=window.recaptchaVerifier;try{const g=await yA(f,`+91${e}`,v);u(g)}catch(g){console.error("Error sending OTP: ",g.message),alert("Failed to send OTP. Please try again.")}},k=async()=>{if(!r||r.length<6){alert("Please enter the correct OTP.");return}if(!s){alert("Please enter a new password.");return}try{const P=await l.confirm(r),x=Ha(p,"users",e);await LE(x,{password:s}),alert("Password has been reset successfully!"),t("/realSolution/Login")}catch(P){console.error("Error verifying OTP: ",P.message),alert("Invalid OTP. Please try again.")}};return _.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontFamily:"Arial, sans-serif"},children:[_.jsx("h1",{style:{fontSize:20,marginBottom:15,color:"black",fontWeight:"normal",width:"80%",maxWidth:400},children:"Reset Password"}),_.jsxs("div",{style:{width:"90%",maxWidth:400,display:"flex",flexDirection:"column",gap:10},children:[_.jsx("input",{type:"number",placeholder:"Mobile Number",value:e,onInput:P=>{P.target.value.length>10&&(P.target.value=P.target.value.slice(0,10)),n(P.target.value)},style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black"}}),l&&_.jsx("input",{type:"number",placeholder:"Enter OTP",value:r,onChange:P=>i(P.target.value),style:{padding:10,fontSize:16,border:"1px solid #555",borderRadius:7,outlineStyle:"none",borderWidth:5,borderColor:"black"}}),l&&_.jsx("input",{type:"password",placeholder:"Enter New Password",value:s,onChange:P=>o(P.target.value),style:{padding:10,fontSize:16,border:"1px solid #555",borderRadius:7,outlineStyle:"none",borderWidth:5,borderColor:"black"}}),_.jsx("button",{onClick:l?k:R,style:{padding:12,fontSize:16,borderRadius:5,border:"none",backgroundColor:"black",color:"#ffffff",cursor:"pointer"},children:l?"Verify OTP and Reset Password":"Send OTP"})]}),_.jsx("div",{id:"recaptcha-container",style:{marginTop:10}})]})}const lb="data:image/png;base64,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";function ub(){const{mobileNumber:t}=en(),[e,n]=L.useState(0),[r,i]=L.useState([]),[s,o]=L.useState(!0);return L.useEffect(()=>{t&&(async()=>{try{const u=ot(Kh,"users",t),h=await vn(u);if(h.exists()){const f=h.data();n(f.walletAmount||0),i(f.walletHistory||[])}else console.log("No such user!")}catch(u){console.error("Error fetching user data:",u)}finally{o(!1)}})()},[t]),s?_.jsx("div",{children:"Loading..."}):_.jsxs("div",{children:[_.jsxs("div",{style:{padding:10},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:0,alignItems:"center"},children:[_.jsx("img",{style:{height:40,width:40},src:Of,alt:""}),_.jsx("p",{style:{fontSize:20,margin:0},children:"Wallet"}),_.jsxs("p",{style:{fontSize:20,margin:0,position:"absolute",top:20,right:20},children:[" ",e.toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("h4",{style:{margin:5},children:"History:"}),_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:5,padding:10,maxHeight:500,overflowX:"scroll"},children:r.length>0?r.slice().reverse().map((l,u)=>_.jsxs("div",{style:{padding:10,display:"flex",flexDirection:"column",justifyContent:"space-evenly",borderRadius:7,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},children:[_.jsxs("strong",{children:["Date: ",l.dateTime]}),_.jsxs("span",{children:["Order Id: ",l.orderId||"none"]}),_.jsxs("span",{children:["Previous Amount: ",l.previousAmount.toFixed(2)]}),l.type==="Addition"?_.jsxs("span",{style:{color:"green"},children:[_.jsx("strong",{children:"Added -"}),"  ",l.addedAmount.toFixed(2)]}):_.jsxs("span",{style:{color:"red"},children:[_.jsx("strong",{children:"Deducted -"}),"  ",l.deductedAmount.toFixed(2)]})]},u)):_.jsx("p",{children:"No wallet history available."})})]})]}),_.jsx(ss,{WalletImage1:lb})]})}function cb(){return _.jsxs("div",{style:{padding:10},children:[_.jsx("p",{children:"MyReferrals"}),_.jsx("h1",{children:"Comming Soon......"}),_.jsx(ss,{})]})}function hb(){const{mobileNumber:t}=en(),[e,n]=L.useState(null),[r,i]=L.useState(!1),[s,o]=L.useState({name:"",instagramId:"",facebookId:"",emailId:"",password:"",address:"",pincode:""});L.useEffect(()=>{(async()=>{try{const p=ot(Kh,"users",t),A=await vn(p);A.exists()?n(A.data()):console.error("No such document!")}catch(p){console.error("Error fetching user data: ",p)}})()},[t]);const l=()=>{i(!r),e&&o({name:e.name||"",instagramId:e.instagramId||"",facebookId:e.facebookId||"",emailId:e.emailId||"",password:e.password||"",address:e.address||"",pincode:e.pincode||""})},u=(f,p)=>{o(A=>({...A,[f]:p}))},h=async()=>{try{const f=ot(Kh,"users",t);await Qr(f,s),n(p=>({...p,...s})),i(!1)}catch(f){console.error("Error updating user data: ",f)}};return e?_.jsxs("div",{children:[_.jsxs("div",{style:{padding:10,display:"flex",flexDirection:"column",gap:5},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:10,alignItems:"center"},children:[_.jsx("img",{style:{height:30,width:30},src:rE,alt:"Settings Icon"}),_.jsx("p",{style:{fontSize:20,margin:0},children:"Settings"})]}),_.jsx("div",{style:{borderWidth:.5,borderStyle:"solid",borderColor:"grey",width:"100%",marginTop:5}}),_.jsxs("div",{style:{marginTop:0,display:"flex",flexDirection:"column",gap:10},children:[_.jsxs("span",{style:{fontSize:16},children:["Mobile Number: ",e.mobileNumber]}),_.jsxs("span",{style:{fontSize:16},children:["Name: ",r?_.jsx("input",{type:"text",value:s.name,onChange:f=>u("name",f.target.value)}):e.name]}),_.jsxs("span",{style:{fontSize:16},children:["Password: ",r?_.jsx("input",{type:"text",value:s.password,onChange:f=>u("password",f.target.value)}):e.password]}),_.jsxs("span",{style:{fontSize:16},children:["Address: ",r?_.jsx("input",{type:"text",value:s.address,onChange:f=>u("address",f.target.value)}):e.address]}),_.jsxs("span",{style:{fontSize:16},children:["Pincode: ",r?_.jsx("input",{type:"text",value:s.pincode,onChange:f=>u("pincode",f.target.value)}):e.pincode]}),_.jsxs("span",{style:{fontSize:16},children:["Gmail Id: ",r?_.jsx("input",{type:"text",value:s.emailId,onChange:f=>u("emailId",f.target.value)}):e.emailId]}),_.jsxs("span",{style:{fontSize:16},children:["Instagram ID: ",r?_.jsx("input",{type:"text",value:s.instagramId,onChange:f=>u("instagramId",f.target.value)}):e.instagramId]}),_.jsxs("span",{style:{fontSize:16},children:["Facebook ID: ",r?_.jsx("input",{type:"text",value:s.facebookId,onChange:f=>u("facebookId",f.target.value)}):e.facebookId]})]}),_.jsx("button",{style:{width:r?"40%":"20%",height:35,alignSelf:"center",backgroundColor:"black",color:"white",borderRadius:5,fontSize:16,border:"none",position:"absolute",top:7,right:5,boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},onClick:r?h:l,children:r?"Save Changes":"Edit"}),r&&_.jsx("button",{style:{width:"90%",height:40,alignSelf:"center",backgroundColor:"black",color:"white",borderRadius:5,fontSize:16,border:"none",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.3)"},onClick:()=>i(!1),children:"Cancel"}),_.jsx("div",{style:{borderWidth:.5,borderStyle:"solid",borderColor:"grey",width:"100%",marginTop:5}}),_.jsx("span",{style:{margin:0,fontSize:20},children:"Contact Us: --"}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:5,marginTop:10,fontSize:16},children:[_.jsx("p",{style:{margin:0},children:"Contact: --"}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:10,alignItems:"center"},children:[_.jsx("p",{style:{margin:0},children:"9352000360"}),_.jsxs("a",{style:{textDecoration:"none",margin:0},href:"tel:9352000360",children:["Call Now ",_.jsx("a",{style:{textDecoration:"none",fontSize:12,margin:0},href:"",children:"  "})]})]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:5,marginTop:10},children:[_.jsx("p",{style:{margin:0},children:"Support: --"}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:10},children:[_.jsx("p",{style:{margin:0},children:"realsolutiond24@gmail.com"}),_.jsx("a",{style:{fontSize:14,textDecoration:"none"},href:"mailto:realsolutiond24@gmail.com",children:"Mail Now"})]})]})]}),_.jsx(ss,{})]}):_.jsx("div",{children:"Loading..."})}function db({display:t}){const e=Pn(),[n,r]=L.useState(t);L.useEffect(()=>{r(t)},[t]);const i=()=>{r("none"),e("/realSolution/Home")};return _.jsx("div",{style:{display:n},children:_.jsx("div",{style:{position:"absolute",height:200,width:250,left:"50%",top:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",zIndex:1e10,borderWidth:3,borderStyle:"solid",borderColor:"green",borderRadius:7,padding:10,display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[_.jsx("div",{style:{borderWidth:5,borderColor:"green",borderStyle:"solid",borderRadius:"50%",width:100},children:_.jsx("div",{style:{color:"green",fontSize:50,borderRadius:"50%",textAlign:"center"},children:""})}),_.jsx("h1",{style:{color:"green",fontSize:20},children:"Order Successfull"}),_.jsx("div",{onClick:i,style:{height:30,width:50,backgroundColor:"green",color:"white",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:5,cursor:"pointer"},children:"OK"})]})})})}const fb=()=>{const t=Kr(Nn),e=is(t),[n,r]=L.useState(""),[i,s]=L.useState([]),[o,l]=L.useState(!0),{setMobileNumber:u}=en(),h=Pn(),f=async()=>{try{const x=ot(e,"users",n),v=await vn(x);v.exists()&&s(v.data().orders.slice().reverse()||[])}catch(x){console.error("Error fetching orders:",x)}finally{l(!1)}},p=(x,v,g)=>x*v*g/100,A=x=>x.reduce((v,g)=>{const I=p(g.price,g.quantity,g.commission||0);return v+I},0),R=async x=>{try{const v=i[x],g=A(v.items),I=v.total,V=ot(e,"users",n),F=await vn(V);if(F.exists()){const D=F.data(),E=(D.walletAmount||0)+g,w=new Date().toLocaleString(),T=D.walletAmount||0,C={dateTime:w,previousAmount:T,orderId:`Order #${x+1}`,addedAmount:g||0,type:"Addition"};await Qr(V,{walletAmount:E,walletHistory:[...D.walletHistory||[],C],orders:i.map((b,S)=>S===x?{...b,status:"Approved",total:I}:b)}),s(b=>b.map((S,Qe)=>Qe===x?{...S,status:"Approved",total:I}:S)),alert(`Order #${x+1} approved. Commission of ${g.toFixed(2)} added to wallet.`)}}catch(v){console.error("Error approving order:",v)}},k=async x=>{try{const v=[...i];v[x].status="Rejected";const g=ot(e,"users",n);await Qr(g,{orders:v}),s(v),alert(`Order #${x+1} rejected.`)}catch(v){console.error("Error rejecting order:",v)}},P=async()=>{if(!n||n.trim()===""){alert("Please enter a valid mobile number.");return}try{const x=ot(e,"users",n.trim());(await vn(x)).exists()?(u(n),h("/realSolution/Home")):(console.log("User not found"),alert("User not found. Try again."))}catch(x){console.error("Error checking user existence:",x),alert("An error occurred while verifying the user. Please try again.")}};return _.jsx("div",{children:_.jsxs("div",{style:{padding:"10px",fontFamily:"Arial, sans-serif"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"5px",gap:5,flexDirection:"column",width:"100%"},children:[_.jsx("input",{type:"number",placeholder:"Enter Number",value:n,onChange:x=>r(x.target.value),style:{padding:10,fontSize:14,borderRadius:7,outlineStyle:"none",borderStyle:"solid",borderWidth:3,borderColor:"black",width:"80%"}}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",width:"90%"},children:[_.jsx("button",{onClick:f,style:{padding:12,fontSize:16,borderRadius:5,border:"none",backgroundColor:"black",color:"#ffffff",cursor:"pointer",width:"40%"},children:"Fetch Orders"}),_.jsx("button",{onClick:P,style:{padding:12,fontSize:16,borderRadius:5,border:"none",backgroundColor:"black",color:"#ffffff",cursor:"pointer",width:"40%"},children:"Go Inside"})]})]}),o?_.jsx("div",{style:{textAlign:"center"}}):i.length>0?_.jsx("div",{style:{maxHeight:"75vh",overflowY:"auto",paddingRight:"5px"},children:i.map((x,v)=>_.jsxs("div",{style:{marginBottom:"5px",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",backgroundColor:"#f9f9f9"},children:[_.jsxs("h3",{style:{fontSize:"18px",marginBottom:"10px",marginTop:"5px",color:x.status==="Approved"?"green":x.status==="Rejected"?"red":"#BA8E23"},children:["Order #",v+1," - ",x.status||"Pending"]}),_.jsx("div",{style:{marginBottom:"10px"},children:_.jsxs("p",{style:{margin:"0",fontSize:"16px"},children:["Date: ",new Date(x.orderDate).toLocaleString()]})}),_.jsxs("div",{style:{marginTop:"10px",borderTop:"1px solid #ddd",paddingTop:"5px"},children:[_.jsx("h4",{style:{fontSize:"16px",marginBottom:"5px",marginTop:"0px"},children:"Items:"}),x.items.map((g,I)=>_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[_.jsxs("span",{style:{fontSize:"14px"},children:[g.name," (x ",g.quantity,")"]}),_.jsxs("span",{style:{fontSize:"14px"},children:["Comm: (",g.commission||0,"%) ",p(g.price,g.quantity,g.commission||0).toFixed(2)]})," ",_.jsxs("span",{style:{fontSize:"14px"},children:["",g.price*g.quantity]})]},I)),_.jsxs("div",{style:{marginTop:"10px",display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[_.jsx("span",{style:{fontSize:"16px"},children:"Total Commission:"}),_.jsxs("span",{style:{fontSize:"16px",marginRight:73},children:["",A(x.items).toFixed(2)]})]}),_.jsxs("div",{style:{marginTop:"10px",display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[_.jsx("span",{style:{fontSize:"16px"},children:"Total:"}),_.jsxs("span",{style:{fontSize:"16px"},children:["",x.total]})]})]}),_.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px"},children:x.status!=="Approved"&&x.status!=="Rejected"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{style:{padding:"5px 10px",backgroundColor:"green",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},onClick:()=>R(v),children:"Approve"}),_.jsx("button",{style:{padding:"5px 10px",backgroundColor:"red",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},onClick:()=>k(v),children:"Reject"})]})})]},v))}):_.jsx("div",{style:{textAlign:"center",fontSize:"16px",color:"#555"},children:"You have no orders yet."})]})})};Nv(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(pA,{children:_.jsx(o1,{children:_.jsxs(r1,{children:[_.jsx(ct,{path:"/realSolution/",element:_.jsx(mA,{})}),_.jsx(ct,{path:"/realSolution/App",element:_.jsx(JP,{})}),_.jsx(ct,{path:"/realSolution/Login",element:_.jsx(mA,{})}),_.jsx(ct,{path:"/realSolution/Home",element:_.jsx(nb,{})}),_.jsx(ct,{path:"/realSolution/Cart",element:_.jsx(ib,{})}),_.jsx(ct,{path:"/realSolution/MyOrders",element:_.jsx(ob,{})}),_.jsx(ct,{path:"/realSolution/MobileProvider",element:_.jsx(pA,{})}),_.jsx(ct,{path:"/realSolution/ForgotPassword",element:_.jsx(ab,{})}),_.jsx(ct,{path:"/realSolution/Wallet",element:_.jsx(ub,{})}),_.jsx(ct,{path:"/realSolution/Settings",element:_.jsx(hb,{})}),_.jsx(ct,{path:"/realSolution/MyReferrals",element:_.jsx(cb,{})}),_.jsx(ct,{path:"/realSolution/CustomPopup",element:_.jsx(db,{})}),_.jsx(ct,{path:"/realSolution/AdminRavi",element:_.jsx(fb,{})})]})})})}));
